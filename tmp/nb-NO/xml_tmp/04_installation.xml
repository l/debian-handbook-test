<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
]>
<chapter id="installation">
  <chapterinfo>
    <mediaobject condition="pdf">
      <imageobject>
        <imagedata fileref="images/chap-installation.png" scalefit="1" />
      </imageobject>
    </mediaobject>
    <keywordset>
      <keyword>Installasjon</keyword>
      <keyword>Partisjonering</keyword>
      <keyword>Formatering</keyword>
      <keyword>Filsystem</keyword>
      <keyword>Bootsektor</keyword>
      <keyword>Maskinvaregjenkjenning</keyword>
    </keywordset>
  </chapterinfo>
  <title>Installasjon</title>
  <highlights>
    <para>For å bruke Debian må du installere det på en datamaskin; denne oppgaven tas hånd om av <emphasis>debian-installer</emphasis>-programmet. En riktig installasjon involverer mange operasjoner. Dette kapitlet gjennomgår dem i kronologisk rekkefølge.</para>
  </highlights>
  <indexterm><primary>installasjon</primary><secondary>av systemet</secondary></indexterm>

  <sidebar>
    <title><emphasis>TILBAKE TIL BASIS</emphasis> Et catch-up kurs i tilleggene</title>

    <para>Å installere en datamaskin er alltid enklere når du er kjent med hvordan den virker. Hvis ikke, ta en rask avstikker til <xref linkend="short-remedial-course" /> før du leser dette kapitlet.</para>
  </sidebar>

  <para>Installasjonsprogrammet for <emphasis role="distribution">Jessie</emphasis> er basert på <command>debian-installer</command>. Modulutformingen gjør det mulig å arbeide med ulike scenarier, og gjør det mulig å utvikle og tilpasse seg til endringer. Til tross for de begrensninger som følger av behovet for å støtte et stort antall arkitekturer, er dette installasjonsprogrammet svært tilgjengelig for nybegynnere, siden det hjelper brukere på hvert trinn i prosessen. Automatisk maskinvareoppdagelse, veiledet partisjonering, og grafiske brukergrensesnitt, har løst de fleste problemene som nybegynnere brukte å møte i Debians tidlige år.</para>
  <indexterm><primary>installer</primary></indexterm>
  <indexterm><primary><command>debian-installer</command></primary></indexterm>

  <para>Installasjonen krever 80 MB RAM (Random Access Memory) og minst 700 MB harddiskplass. Vær imidlertid oppmerksom på at disse tallene gjelder for installasjon av et svært begrenset system uten grafisk skrivebord. Minst 512 MB RAM og 5 GB harddiskplass er egentlig anbefalt for en enkel stasjonær arbeidsstasjon.</para>

  <sidebar>
    <title><emphasis>PASS OPP</emphasis> Oppgradering fra Wheezy</title>

    <para>Hvis du allerede har Debian Wheezy installert på datamaskinen, er dette kapitlet ikke for deg! I motsetning til andre distribusjoner, lar Debian oppdatere et system fra en versjon til den neste uten å måtte reinstallere systemet. Reinstallering, i tillegg til å være unødvendig, kan til og med være farlig, siden det kan fjerne allerede installerte programmer.</para>

    <para>Oppgraderingsprosessen blir beskrevet i <xref linkend="sect.dist-upgrade" />.</para>
  </sidebar>
  <section id="sect.installation-methods">
    <title>Installasjonsmetoder</title>

    <para>Et Debian-system kan installeres fra flere typer medier, så lenge BIOS på maskinen tillater det. Du kan for eksempel starte fra en CD-ROM, en USB-nøkkel, eller til og med gjennom et nettverk.</para>

    <sidebar>
      <title><emphasis>TILBAKE TIL BASIS</emphasis> BIOS, grensesnittet for maskinvare/programvare</title>
      <indexterm><primary>BIOS</primary></indexterm>
      <indexterm><primary>Basis Input/Output System</primary></indexterm>

      <para>BIOS (som står for Basic Input/Output System) er en programvare som er inkludert i hovedkortet (det elektroniske kortet kobler alle enheter), og kjøres når datamaskinen startes opp, for å laste et operativsystem (via en tilpasset oppstartslaster). Det forblir i bakgrunnen for å gi et grensesnitt mellom maskinvaren og programvaren (i vårt tilfelle, Linux-kjernen).</para>
    </sidebar>
    <section id="sect.install-cd">
      <title>Installere fra en CD-ROM/DVD-ROM</title>

      <para>Den mest brukte installasjonsmetoden er fra en CD-ROM (eller DVD-ROM, som oppfører seg akkurat på samme måte): Datamaskinen startes fra dette mediet, og installasjonsprogrammet tar over.</para>

      
      <para>Forskjellige CD-ROM-familier har ulike formål: <emphasis>netinst</emphasis> (network installation (nettverksinstallasjon)) inneholder installasjonsprogrammet og Debian-basesystemet. Så lastet alle andre programmer ned. Dens «image», som er  ISO-9660 filsystem med det eksakte innholdet på disken, bruker bare ca 150 til 280 MB (avhengig av arkitektur). På den andre siden, det komplette settet gir alle pakker, og mulighet for å installere på en datamaskin som ikke har Internett-tilgang: Det krever rundt 84 CD-ROM (eller 12 DVD-ROM, eller to Blu-ray-disker). Men programmene er fordelt til diskene etter deres popularitet og betydning. De første tre diskene vil være tilstrekkelig for de fleste installasjoner, siden de inneholder de mest brukte programvarene.</para>

      <para>Det er en siste type bilde, kjent som <filename>mini.iso</filename>, som bare er tilgjengelig som et biprodukt av installasjonsprogrammet. Bildet inneholder bare det minimum som kreves for å konfigurere nettverket, og alt annet er lastet ned (inkludert deler av installasjonsprogrammet selv, som er grunnen til at disse bildene har en tendens til ikke å virke når en ny versjon av installasjonsprogrammet kommer ut). Disse bildene finnes på de vanlige Debian speilene under <filename>dists/<replaceable>release</replaceable>/main/installer-<replaceable>arch</replaceable>/current/images/netboot/</filename> directory.</para>
      <indexterm><primary><filename>mini.iso</filename></primary></indexterm>

      <sidebar>
        <title><emphasis>TIP</emphasis> Multiarkitektur-disker</title>

	<para>De fleste installasjons-CD-er og -DVD-ROM-er fungerer bare med en bestemt maskinvarearkitektur. Hvis du ønsker å laste ned de komplette bildene, må du passe på å velge de som virker på maskinvaren i den datamaskinen du ønsker å installere dem.</para>

	<para>Noen CD/DVD-ROM-bilder kan arbeide på ulike arkitekturer. Vi har altså et CD-ROM-bilde som kombinerer <emphasis>netinst</emphasis>-bildene til <emphasis>i386</emphasis> og <emphasis>AMD64</emphasis>-arkitekturer. Det er også et DVD-ROM-bilde som inneholder installasjonsprogrammet, og et utvalg av binære pakker for <emphasis>i386</emphasis> og <emphasis>AMD64</emphasis>, så vel som de tilsvarende kildepakkene.</para>
      </sidebar>
      <indexterm><primary>CD-ROM</primary><secondary>installasjons-CD</secondary></indexterm>
      <indexterm><primary>CD-ROM</primary><secondary><emphasis>netinst-CD-ROM</emphasis></secondary></indexterm>
      <indexterm><primary>DVD-ROM</primary><secondary>installasjons-DVD-ROM</secondary></indexterm>
      <indexterm><primary>DVD-ROM</primary><secondary><emphasis>netinst-DVD-ROM</emphasis></secondary></indexterm>

      <para>Du kan selvfølgelig skaffe deg CD-ROM-bilder, ved å laste dem ned og legge dem inn på disken. Du kan også kjøpe dem, og dermed gi prosjektet litt økonomisk støtte. Sjekk nettsiden for å se listen over leverandører av CD-ROM-bilder, og nettsteder for nedlasting. <ulink type="block" url="http://www.debian.org/CD/index.html" /></para>
    </section>
    <section id="sect.install-usb">
      <title>Oppstart fra en USB-minnepenn</title>
      <indexterm><primary>USB-nøkkel</primary></indexterm>

      <para>Siden de fleste datamaskiner er i stand til å starte opp fra en USB-enhet, kan du også installere Debian fra en USB-minnepenn (dette er noe annet enn en liten flash-minnedisk).</para>

      <para>Installasjonshåndboken forklarer hvordan du lager en USB-minnepenn som inneholder <command>debian-installer</command>. Prosedyren er veldig enkel fordi ISO-bilder for i386 og AMD64 er hybridbilder som kan starte fra en CD-ROM, så vel som fra en USB-nøkkel.</para>

      <para>Du må først identifisere enhetsnavnet på USB-nøkkelen (f.eks: <literal>/dev/sdb</literal>); Den enkleste måten å gjøre dette på, er å kontrollere meldingene utstedt av kjernen ved å bruke <command>dmesg</command>-kommandoen. Deretter må du kopiere det tidligere nedlastede ISO-bildet (for eksempel debian-8.0.0-amd64-i386-netinst.iso) med kommandoen<command>cat debian-8.0.0-amd64-i386-netinst.iso &gt;/dev/sdb; sync</command>. Denne kommandoen krever administratorrettigheter, siden den åpner USB-minnepennen, og direkte og blindt sletter innholdet i den.</para>

      <para>En mer detaljert forklaring er tilgjengelig i installasjonsmanualen. Blant andre ting beskriver den en alternativ metode for å forberede en USB-nøkkel som er mer kompleks, men som gjør det mulig å tilpasse installasjonsprogrammets forvalg (de som settes i kjernens kommandolinje).<ulink type="block" url="http://www.debian.org/releases/stable/amd64/ch04s03.html" /></para>
    </section>
    <section id="sect.install-net">
      <title>Installasjon ved oppstart fra nettverk</title>
      <indexterm><primary>installasjon</primary><secondary><emphasis>netboot installasjon</emphasis></secondary></indexterm>
      <indexterm><primary>installasjon</primary><secondary><emphasis>PXE-installasjon</emphasis></secondary></indexterm>
      <indexterm><primary>installasjon</primary><secondary><emphasis>TFTP-installasjon</emphasis></secondary></indexterm>

      <para>Noen BIOS-er tillater oppstart direkte fra nettverket ved å laste ned en kjerne og et minimalt filsystembilde. Denne fremgangsmåten (som har flere navn, så som <acronym>PXE</acronym>, eller <acronym>TFTP</acronym>-oppstart) kan være en redning hvis datamaskinen ikke har en CD-ROM-leser, eller hvis BIOS ikke kan starte fra slike medier.</para>

      <para>Denne installasjonsmetoden virker i to trinn. Først under oppstart av datamaskinen, BIOS (eller nettverkskortet) utsteder en BOOTP/DHCP-forespørsel for å automatisk få en IP-adresse. Når en BOOTP- eller DHCP-server returnerer et svar, inkluderer det et filnavn, samt nettverksinnstillinger. Etter at du har konfigurert nettverket, utsteder klientmaskinen så en TFTP-forespørsel (Trivial File Transfer Protocol) om et filnavn som ble indikert tidligere. Så snart denne filen er fremskaffet, blir den kjørt som om den var en oppstartslaster. Dette starter så Debians installasjonsprogram, som kjøres som om det var fra harddisken, en CD-ROM, eller fra en USB-minnepenn.</para>

      <para>Alle detaljene for denne metoden er tilgjengelig i installasjonsveiledningen («Klargjøre filer for TFTP-Nettoppstart»-delen). <ulink type="block" url="http://www.debian.org/releases/stable/amd64/ch05s01.html#boot-tftp" /> <ulink type="block" url="http://www.debian.org/releases/stable/amd64/ch04s05.html" /></para>
    </section>
    <section id="sect.install-auto">
      <title>Andre installasjonsmetoder</title>

      <para>Når vi må distribuere tilpassede installasjoner for et stort antall datamaskiner, velger vi vanligvis en automatisert, snarere enn en manuell installasjonsmetode. Avhengig av situasjonen og kompleksiteten av installasjonene som skal gjøres, kan vi bruke FAI (Fully Automatic Installer, som er beskrevet i <xref linkend="sect.fai" />), eller til og med som en skreddersydd installasjons-CD med den foregående (se <xref linkend="sect.d-i-preseeding" />).</para>
    </section>
  </section>
  <section id="sect.installation-steps">
    <title>Installasjon, skritt for skritt</title>
    <section id="sect.install-boot">
      <title>Oppstart og igangsetting av Installer</title>

      <para>Når BIOS har startet opp fra CD- eller DVD-ROM, vises Isolinux oppstartsmeny. På dette stadiet er Linux-kjernen ennå ikke lastet: Med denne menyen kan du velge om kjernen skal starte opp, og legge inn mulige parametere som skal overføres til kjernen i prosessen.</para>

      <para>For en standardinstallasjon trenger du bare å velge «Install» eller «Graphical install» (med piltastene), og trykk deretter på <keycap>Enter</keycap>-tasten for å starte resten av installasjonsprosessen. Hvis DVD-ROM er en «Multi-arch» disk, og maskinen har en Intel eller AMD64-bit prosessor, muliggjør menyalternativene «64 bit install» og «64 bit graphical install»-installasjon av 64-bit varianten (<emphasis>amd64</emphasis>) istedenfor den forhåndsinnstilte 32-bit varianten (<emphasis>i386</emphasis>). I praksis kan 64-bits-versjonen nesten alltid brukes: De nyeste prosessorene er 64-bits prosessorer, og 64-bit versjonen virker bedre med den store mengden RAM som nye datamaskiner vanligvis har.</para>

      <sidebar>
        <title><emphasis>Å GÅ VIDERE</emphasis> 32- eller 64-bits?</title>
        <indexterm><primary>PAE</primary></indexterm>
        <indexterm><primary>Physical Address Extension (Fysisk adresseutvidelse)</primary></indexterm>
        <indexterm><primary>32/64-bits, valg</primary></indexterm>

	<para>Den grunnleggende forskjellen mellom 32- og 64-bits systemer er størrelsen på minneadresser. I teorien kan et 32-bits system ikke fungere med mer enn 4 GB RAM (2<superscript>32</superscript> bytes). I praksis er det mulig å omgå denne begrensningen ved å bruke kjernevarianten <literal>686-pae</literal>, så lenge prosessoren håndterer PAE-funksjonalitet (PAE: Physical Address Extension (Fysisk adresseutvidelse). Å bruke den har imidlertid en merkbar innvirkning på systemets ytelse. Dette er hvorfor det er nyttig å bruke 64 bit-moduset på en tjener med en stor mengde RAM.</para>

	<para>For en kontordatamaskin (der noen få prosentforskjell i ytelse er ubetydelig), må du huske på at noen proprietære programmer ikke er tilgjengelig i 64-bits versjoner (som Skype, for eksempel). Det er teknisk mulig å få dem til å virke i 64-bits systemer, men du må installere 32-bits versjoner av alle nødvendige biblioteker (se <xref linkend="sect.multi-arch" />), og noen ganger bruke <command>setarch</command>, eller <command>linux32</command> (i <emphasis role="pkg">util-linux</emphasis>-pakken) som et knep for å få applikasjoner til å ta hensyn til systemets egenskaper. <indexterm><primary><command>setarch</command></primary></indexterm> <indexterm><primary><command>linux32</command></primary></indexterm></para>
      </sidebar>

      <sidebar>
        <title><emphasis>I PRAKSIS</emphasis> Installasjon sammen med et eksisterende Windows-system</title>
        <indexterm><primary>dual-boot</primary></indexterm>

	<para>Hvis datamaskinen allerede kjører i Windows, er det ikke nødvendig å slette systemet for å installere Debian. Du kan ha begge systemene samtidig, hver installert på en separat disk eller partisjon, og velge system ved oppstart av datamaskinen. Denne konfigurasjonen kalles ofte «dual-boot», og Debians installasjonssystem kan sette det opp. Dette gjøres ved installasjonen under harddisk-partisjoneringen, og når du setter opp oppstarten (se sidefelt <xref linkend="sidebar.shrinking-partition" /> og <xref linkend="sidebar.bootloader-dual-boot" />).</para>

	<para>Hvis du allerede har et fungerende Windows-system, kan du til og med unngå å bruke en CD-ROM; Debian har et Windows-program som vil laste ned et lett Debian installasjonsprogram, og sette den opp på harddisken. Deretter trenger du bare å restarte datamaskinen, og velge mellom normal Windows-oppstart, eller å starte installasjonsprogrammet. Du kan også finne den på en egen nettside med et ganske eksplisitt navn ...<ulink type="block" url="http://ftp.debian.org/debian/tools/win32-loader/stable/" /> <ulink type="block" url="http://www.goodbye-microsoft.com/" /></para>
      </sidebar>

      <sidebar>
        <title><emphasis>TILBAKE TIL BASIS</emphasis> Oppstartlaster</title>
        <indexterm><primary>laster</primary><secondary>oppstartlaster</secondary></indexterm>
        <indexterm><primary>oppstartlaster</primary></indexterm>
        <indexterm><primary>oppstart</primary><secondary>laster</secondary></indexterm>

	<para>Oppstartlasteren er et lavnivåprogram ansvarlig for oppstart av Linux-kjernen like etter at BIOS gir fra seg sin kontroll. For å håndtere denne oppgaven må den være i stand til å lokalisere Linux-kjernen for å starte opp på disken. På i386 eller AMD64-arkitekturer, de to mest brukte programmene for å utføre denne oppgaven, er LILO, den eldste av de to, og GRUB, den moderne erstatningen. Isolinux og Syslinux er alternativer som ofte brukes til å starte opp fra flyttbare medier.</para>
      </sidebar>

      <para>Hvert menyvalg skjuler en bestemt kommandolinje for oppstart, som kan konfigureres etter behov ved å taste <keycap>TAB</keycap> før validering av adgang og oppstart. Oppføringen i «Hjelp»-menyen inneholder gamle kommandolinje-grensesnitt, der <keycap>F1</keycap>- til <keycap>F10</keycap>-nøklene viser ulike hjelpeskjermer som detaljerer de ulike alternativene en kan be om. Du vil sjelden trenge dette alternativet, unntatt i helt spesielle tilfelle.</para>

      <para>«Ekspert»-modus (tilgjengelig i «Advanced options»-menyen) viser alle mulige alternativer i installasjonsprosessen, og tillater navigering mellom de ulike trinnene uten at det skjer automatisk i rekkefølge. Vær forsiktig, dette svært detaljerte modus kan være forvirrende på grunn av mangfoldet av konfigurasjonsvalg det inneholder.</para>

      <figure>
        <title>Oppstartsskjerm</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-boot.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Etter oppstart, veileder installasjonsprogrammet deg steg for steg gjennom hele prosessen. Denne seksjonen presenterer hver av disse trinnene i detalj. Her følger vi prosessen med en installasjon fra en Multi-Arch DVD-ROM (mer spesifikt, beta4-versjon av installasjonsprogrammet for Jessie); <emphasis>netinst</emphasis>-installasjoner, samt den endelige versjonen av installasjonsprogrammet, kan se litt annerledes ut. Vi vil også ha med installasjon i grafisk modus, men den eneste forskjellen fra «klassisk» (tekst-modus) installasjonen er det visuelle utseende.</para>
    </section>
    <section id="sect.install-lang">
      <title>Velg språk</title>
      <indexterm><primary>valg</primary><secondary>av språk</secondary></indexterm>

      <para>Installasjonsprogrammet begynner på engelsk, men det første trinnet lar brukeren velge hvilket språk som skal brukes i resten av prosessen. Å velge fransk, for eksempel, vil gi en installasjon fullt oversatt til fransk (og et system som er konfigurert i fransk som resultat). Dette valget definerer også mer relevante standardvalg i senere stadier (spesielt tastaturoppsettet).</para>

      <sidebar>
        <title><emphasis>TILBAKE TIL BASIS</emphasis> Navigering med tastaturet</title>

	<para>Noen trinn i installasjonsprosessen krever at du skriver inn informasjon. Disse skjermene har flere områder som kan «ha fokus» (inntastingsområde, avmerkingsbokser, liste over valg, OK- og Avbryt-knapper), og med <keycap>TAB</keycap>-tasten kan du flytte fra en til en annen.</para>

	<para>I grafisk modus kan du bruke musen slik du vanligvis gjør i et installert, grafisk grensesnitt.</para>
      </sidebar>

      <figure role="flow.inline">
        <title>Velg språk</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-lang.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-lang-txt.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section id="sect.install-country">
      <title>Velge landet</title>
      <indexterm><primary>valg</primary><secondary>av land</secondary></indexterm>

      <para>Det andre trinnet består i å velge ditt land. Kombinert med språket, gjør denne informasjonen programmet i stand til å tilby det mest passende tastaturoppsettet . Dette vil også påvirke oppsettet av tidssone. I USA er et standard QWERTY-tastatur tilbudt, og aktuelle tidssoner foreslått.</para>

      <figure role="flow.inline">
        <title>Velge landet</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-country.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-country-txt.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section id="sect.install-keyboard">
      <title>Velge tastaturoppsettet</title>
      <indexterm><primary>tastaturutlegg</primary></indexterm>
      <indexterm><primary>utlegg, tastatur</primary></indexterm>

      <para>Den foreslåtte «American English» tastaturet tilsvarer det vanlige QWERTY-oppsettet.</para>

      <figure role="flow.inline">
        <title>Valg av tastatur</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-keyboard.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-keyboard-txt.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section id="sect.install-detect-hardware">
      <title>Påvise maskinvare</title>

      <para>Dette trinnet er helt automatisk i de aller fleste tilfeller. Installasjonsprogrammet oppdager maskinvaren, og forsøker å identifisere CD-ROM-stasjonen som brukes for å få tilgang til innholdet. Den laster modulene som tilsvarer de maskinvarekomponentene som er funnet, og deretter «monterer» CD-ROM-en for å lese den. De foregående trinnene inngår fullt ut i oppstartsbildet i CD-en, en fil med begrenset størrelse, og lastet inn i minnet av BIOS ved oppstarten fra CD.</para>

      <para>Installasjonsprogrammet kan arbeide med det store flertallet av drivere, spesielt standard ATAPI-enheter (også kalt IDE og EIDE). Men hvis gjenkjenning av CD-ROM-leseren mislykkes, tilbyr installasjonsprogrammet valget å laste en kjernemodul (for eksempel fra en USB-minnepenn) som tilsvarer CD-ROM-driveren.</para>
    </section>
    <section id="sect.install-load-components">
      <title>Hente inn komponenter</title>

      <para>Med innholdet på CD-en tilgjengelig, laster installasjonsprogrammet inn alle filene som er nødvendig å fortsette sitt arbeid. Dette inkluderer ekstra drivere for den resterende maskinvare (spesielt nettverkskortet), samt alle komponentene i installasjonsprogrammet .</para>
    </section>
    <section id="sect.install-detect-network">
      <title>Oppdage nettverkets maskinvare</title>

      <para>Dette automatiske trinnet forsøker å identifisere nettverkskortet, og laste den tilsvarende modulen. Hvis automatisk registrering mislykkes, kan du manuelt velge modulen som skal legges inn. Dersom ingen modul virker, er det mulig å laste en spesifikk modul fra en flyttbar enhet. Denne siste løsningen er vanligvis bare nødvendig hvis den riktige driveren ikke er inkludert i standard Linux-kjernen, men tilgjengelig andre steder, for eksempel fra produsentens hjemmeside.</para>

      <para>Dette trinnet må være fullstendig vellykket for <emphasis>netinst</emphasis>-installasjoner, fordi Debian-pakkene må lastes fra nettet.</para>
    </section>
    <section id="sect.install-network-config">
      <title>Å konfigurere nettverket</title>
      <indexterm><primary>konfigurere</primary><secondary>nettverk</secondary><tertiary>statisk</tertiary></indexterm>
      <indexterm><primary>konfigurere</primary><secondary>nettverk</secondary><tertiary>DHCP</tertiary></indexterm>

      <para>For å automatisere prosessen så mye som mulig, prøver installasjonsprogrammet en automatisk nettverkskonfigurasjon med DHCP (for IPv4) og IPv6 nettverksgjenkjenning. Hvis dette ikke lykkes, er det  flere valg: Prøv igjen med en vanlig DHCP-konfigurasjon, forsøk DHCP-konfigurasjon ved å gi navnet på maskinen, eller sette opp en statisk nettverkskonfigurasjon .</para>

      <para>Dette siste alternativet krever en IP-adresse, en nettverksmaske , en IP-adresse for en potensiell port, et maskin navn, og et domenenavn.</para>

      <sidebar>
        <title><emphasis>TIP</emphasis> Konfigurasjon uten DHCP</title>

	<para>Hvis det lokale nettverket er utstyrt med en DHCP-tjener som du ikke ønsker å bruke, fordi du foretrekker å definere en statisk IP-adresse for maskinen under installasjonen, kan du legge til <userinput>netcfg/use_dhcp=false</userinput>-alternativet når du laster inn fra CD-ROM-en. Du trenger bare å gå til ønsket menyoppføringen ved å trykke på <keycap>TAB</keycap>-tasten og legge til det ønskede valget før du trykker på  <keycap>Enter</keycap>-tasten.</para>
      </sidebar>

      <sidebar>
        <title><emphasis>PASS PÅ</emphasis> Ikke improviser</title>

	<para>Mange lokale nettverk er basert på en innebygget  forutsetning at alle maskiner kan stoles på, og utilstrekkelig konfigurasjon av en enkelt datamaskin ofte vil forstyrre hele nettverket. Som et resultat, koble ikke maskinen til et nettverk uten først avklare de riktige innstillingene med nettverkets administrator (for eksempel IP-adresse, nettmaske og kringkastingsadresse).</para>
      </sidebar>
    </section>
    <section>
      <title>Administrator-passord</title>
      <indexterm><primary>konto</primary><secondary>administratorkonto</secondary></indexterm>

      <para>Superbruker rot-kontoen, reservert for maskinens administrator, opprettes automatisk under installasjonen. Det er grunnen til at det kreves et passord. Installasjonsprogrammet ber også om en bekreftelse av passordet for å hindre inndata som det ville bli vanskelig å rette på senere.</para>

      <figure>
        <title>Administrator-passord</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-rootpw.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>

      <sidebar>
        <title><emphasis>SIKKERHET</emphasis> Passord for administrator</title>

	<para>Rotbrukerens passord bør være langt (8 tegn eller mer) og umulig å gjette. Faktisk er hvilken som helst datamaskin (og enda sterkere for servere) koblet til Internett, regelmessig mål for automatiserte tilkoblingsforsøk med de mest åpenbare passordene. Noen ganger kan det også være utsatt for  ordbokangrep, hvor mange kombinasjoner av ord og tall er testet som passord. Bruk ikke navn på barn eller foreldre, fødselsdato, etc .: Mange av dine medarbeidere kjenner dem kanskje, og du vil sjelden gi dem fri tilgang til datamaskinen det gjelder.</para>

	<para>Disse kommentarene er like anvendelig for andre brukerpassord, men konsekvensene av en kompromittert konto er mindre drastisk for brukere uten administrative rettigheter.</para>

	<para>Hvis inspirasjonen mangler, ikke nøl med å bruke passordgeneratorer, slike som  <command>pwgen</command> (i pakken med samme navn).</para>
      </sidebar>
    </section>
    <section>
      <title>Å lage første bruker</title>

      <para>Debian pålegger også etablering av en standard brukerkonto slik at administratoren ikke får en dårlig vane med å jobbe som rot. Føre var-prinsippet betyr i hovedsak at hver oppgave er utført med minimum nødvendige rettigheter, for å begrense skader forårsaket av menneskelig svikt. Dette er grunnen til at installasjonsprogrammet vil be om den fullstendige navnet på denne første brukeren, brukernavn og passord (to ganger, for å forebygge risikoen for feil inngang).</para>

      <figure>
        <title>Navnet til første bruker</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-username.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section id="sect.install-clock-config">
      <title>Å sette opp klokken</title>

      <para>Hvis nettverket er tilgjengelig, er systemets interne klokke oppdatert (bare en gang) fra en NTP-tjener. På denne måten vil tidsstempler på loggene være riktig fra første oppstart. Skal de forbli konsekvent nøyaktige over tid, trenges en NTP-nisse å bli satt opp etter første installasjon (se<xref linkend="sect.time-synchronization" />).</para>
    </section>
    <section id="sect.install-detect-disks">
      <title>Å oppdage disker og andre enheter</title>

      <para>Dette trinnet oppdager automatisk harddisker som Debian kan installeres på. Det vil bli presentert i neste trinn: partisjonering .</para>
    </section>
    <section id="sect.install-partman">
      <title>Å starte partisjoneringsverktøyet</title>
      <indexterm><primary>partitioning</primary></indexterm>

      <sidebar>
        <title><emphasis>CULTURE</emphasis> Bruken av partisjonering</title>

	<para>Partisjonering, et uunnværlig skritt i installasjonen, består i å dele den tilgjengelige plassen på harddisker (hver underavdeling av disse blir kalt en "partisjon") alt etter de data som skal lagres på den og til den bruken maskinen er tiltenkt. Dette trinnet omfatter også å velge filsystemene som skal brukes. Alle disse beslutningene vil ha en innvirkning på ytelse, datasikkerhet, og administrasjon av tjeneren.</para>
      </sidebar>

      <para>Partisjonstrinnet er tradisjonelt vanskelig for nye brukere. Det er nødvendig å definere de ulike deler av diskene (eller "partisjoner") som Linux filsystemene og virtuelt minne (swap) vil bli lagret. Denne oppgaven er komplisert hvis et annet operativsystem, som du ønsker å beholde, allerede er på maskinen. Faktisk må du da ha sikkerhet ha for at du ikke endrer dets partisjoner (eller som du endrer størrelsen på dem uten å forårsake skade).</para>

      <para>Heldigvis har partisjoneringsprogramvaren en "guidet"-modus som anbefaler partisjoner for brukeren. I de fleste tilfeller kan du bare godkjenne programvarens forslag.</para>

      <figure>
        <title>Valg av patisjoneringsmetode</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-partman.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Den første skjermen i partisjoneringsverktøyet gir valget mellom å bruke en hel harddisk for å lage ulike partisjoner. For en (ny) datamaskin som utelukkende vil bruke Linux, er dette alternativet det klart enkleste, og du kan velge alternativet "Guided - use entire disk". Hvis datamaskinen har to harddisker for to operativsystemer, å sette en lagringsenhet for hver, er også en løsning som kan legge til rette for partisjonering. I begge disse tilfellene, er det neste skjermen tilbyr å velge disken der Linux skal installeres ved å velge den tilsvarende oppføringen (for eksempel “SCSI1 (0,0,0) (sda) - 12.9 GB ATA VBOX HARDDISK”). Så starter du den guide-de partisjoneringen.</para>

      <figure>
        <title>Disk som brukes for guidet partisjonering</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-partman-disk.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Guidet partisjonering kan også sette opp LVM logiske volumer i stedet for partisjoner (se nedenfor). Siden resten av operasjonen er den samme, vil vi ikke gå igjennom alternativet “Guided - use entire disk and set up LVM” (kryptert eller ikke).</para>

      <para>I andre tilfeller, når Linux må arbeide parallelt med andre allerede eksisterende partisjoner, må du velge manuell partisjonering .</para>
      <section id="sect.install-autopartman-mode">
        <title>Guidet partisjonering</title>
        <indexterm><primary>partitioning</primary><secondary>guided partitioning</secondary></indexterm>

	<para>Det guidede partisjoneringsverktøyet tilbyr tre partisjoneringsmetoder, som tilsvarer forskjellige bruksområder.</para>

        <figure>
          <title>Guidet partisjonering</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/inst-autopartman-mode.png" scalefit="1" width="65%" />
            </imageobject>
          </mediaobject>
        </figure>

	<para>Den første metoden kalles "Alle filer i én partisjon". Hele Linux-systemtreet er lagret i ett enkelt filsystem, tilsvarende roten<filename>/</filename> katalogen. Denne enkle og robuste partisjoneringen passer perfekt for personlige eller enkeltbruker-systemer. Faktisk vil to partisjoner bli opprettet: det første vil huse hele systemet, den andre det virtuelle minnet (swap).</para>

	<para>Den andre metoden, “Separat <filename>/home/</filename> partisjon”, er lik, men deler filehierarkiet i to: Èn partisjon inneholder Linux-systemet  (<filename>/</filename>), og den andre inneholder "hjemmeområder " (som betyr brukerdata i filer og underkataloger tilgjengelig under <filename>/home/</filename>).</para>

	<para>Den siste partisjoneringsmetoden, kalt “Separate <filename>/home</filename>, <filename>/var</filename>, og <filename>/tmp</filename> partisjoner”, er egnet for tjenere og flerbrukersystemer. Den deler filetreet i mange partisjoner: I tillegg til roten (<filename>/</filename>) og brukerkontopartisjoner(<filename>/home/</filename>), har den også partisjoner for tjenerprogramdata (<filename>/var/</filename>), og midlertidige filer (<filename>/tmp/</filename>). Disse divisjonene har flere fordeler. Brukere kan ikke låse opp serveren ved å forbruke all tilgjengelig plass på harddisken (de kan bare fylle opp <filename>/tmp/</filename> og <filename>/home/</filename>). Nissedata (spesielt logger) kan ikke lenger tette igjen resten av systemet.</para>

        <sidebar>
          <title><emphasis>BACK TO BASICS</emphasis> Choosing a filesystem</title>
          <indexterm><primary>system</primary><secondary>filesystem</secondary></indexterm>
          <indexterm><primary>file</primary><secondary>system</secondary></indexterm>

	  <para>Et filsystem definerer måten data er organisert på harddisken. Hvert eksisterende filsystem har sine fordeler og begrensninger. Noen er mer robuste, andre mer effektive. Hvis du kjenner dine behov godt, velg det mest hensiktsmessige filsystemet som er mulig. Forskjellige sammenligninger er allerede gjort. Det virker som ReiserFS er spesielt effektiv for å lese mange små filer. I sin tur virker <emphasis>XFS</emphasis> raskere med store filer. <emphasis>Ext4</emphasis>, det standard filsystemet for Debian, er et godt kompromiss, basert på de tre tidligere versjoner av filsystemer som historisk er brukt i Linux  (<emphasis>ext</emphasis>, <emphasis>ext2</emphasis> og  <emphasis>ext3</emphasis>). <emphasis>Ext4</emphasis> overvinner visse begrensninger i <emphasis>ext3</emphasis> og er spesielt egnet for harddisker med svært stor kapasitet. Et annet alternativ ville være å eksperimentere med den svært lovende <emphasis>btrfs</emphasis>, som har en rekke funksjoner som, opp til, nå krever bruk av LVM og/eller RAID.</para>

	  <para>A journalisert filsystem (slike som  <emphasis>ext3</emphasis>, <emphasis>ext4</emphasis>, <emphasis>btrfs</emphasis>, <emphasis>reiserfs</emphasis>, eller  <emphasis>xfs</emphasis>) gjennomfører spesielle tiltak for å gjøre det mulig å gå tilbake til en tidligere konsistent tilstand etter et brått avbrudd, uten helt ut å måtte analysere hele disken (slik tilfellet var med <emphasis>ext2</emphasis>-systemet). Denne funksjonaliteten er utført ved å fylle ut en transaksjonsjournal som beskriver oppgavene før de faktisk utføres. Dersom en operasjon blir avbrutt, vil det være mulig å "spille" den fra transaksjonsjournalen. Derimot, hvis det oppstår et avbrudd under en oppdatering av transaksjonsjournalen, blir den siste forespurte endringen er rett og slett ignorert. Dataene som skrives kan gå tapt, men siden dataene på disken ikke har endret seg, har sammenhengen holdt seg.  Dette er ikke noe mer eller noe mindre enn en transaksjonsmekanisme anvendt på filsystemet.</para>
        </sidebar>

	<para>Når du har valgt typen partisjon, beregner programvaren et forslag, og beskriver det på skjermen. Brukeren kan deretter endre det hvis nødvendig. Du kan, i særdeleshet, velg et annet filsystem hvis standardvalget (<emphasis>ext4</emphasis>) ikke er hensiktsmessig. I de fleste tilfeller, imidlertid, er den foreslåtte partisjoneringen rimelig, og aksepteres ved å velge alternativet “Finish partitioning and write changes to disk”.</para>

        <figure>
          <title>Godkjenne partisjonering</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/inst-partman-validation.png" scalefit="1" width="65%" />
            </imageobject>
          </mediaobject>
        </figure>
      </section>
      <section id="sect.manual-partitioning">
        <title>Manuell partisjonering</title>
        <indexterm><primary>partitioning</primary><secondary>manual partitioning</secondary></indexterm>

	<para>Manuell partisjonering gir større fleksibilitet, slik at brukeren kan velge formål og størrelsen på hver partisjon. Videre er denne modusen uunngåelig hvis du ønsker å bruke programvare RAID.</para>

        <sidebar id="sidebar.shrinking-partition">
          <title><emphasis>I PRAKSIS</emphasis> Krympe en Windows partisjon</title>
          <indexterm><primary>resize a partition</primary></indexterm>
          <indexterm><primary>shrink a partition</primary></indexterm>

	  <para>For å installere Debian sammen med et eksisterende operativsystem (Windows eller andre), må du ha noe  ledig harddiskplass, som ikke blir brukt av det andre systemet, for å kunne opprette partisjoner dedikert til Debian. I de fleste tilfeller betyr dette å krympe en Windows-partisjon og gjenbruke den frigjorte plassen.</para>

	  <para>Debian-installeren tillater denne operasjonen når du bruker manuell partisjoneringsmodus. Du trenger bare å velge Windows-partisjonen og legge inn den nye størrelsen (dette fungerer på samme måte med både FAT og NTFS-partisjoner).</para>
        </sidebar>

	<para>Den første skjermen viser de tilgjengelige diskene,  partisjonene deres, og eventuell ledig plass som ennå ikke er partisjonert. Du kan velge hvert viste element; Trykk på <keycap>Enter</keycap> tasten gir listen med hva som kan gjøres.</para>

	<para>Du kan slette alle partisjoner på en disk ved å merke   den.</para>

	<para>Når du velger ledig plass på en disk, kan du manuelt opprette en ny partisjon. Du kan også gjøre dette med guidet partisjonering, som er en interessant løsning for en disk som allerede inneholder et annet operativsystem, men som du kanskje ønsker å partisjonere for Linux på vanlig måte. Se <xref linkend="sect.install-autopartman-mode" /> for flere detaljer om guidet partisjonering.</para>

        <sidebar>
          <title><emphasis>BACK TO BASICS</emphasis> Mount point</title>
          <indexterm><primary>mount point</primary></indexterm>
          <indexterm><primary>point, mount point</primary></indexterm>

	  <para>Monteringspunktet er katalogtreet som skal huse innholdet i filsystemet i den valgte partisjonen. Således, er en skillevegg montert ved at <filename>/home/</filename> is tradisjonelt ment til å inneholde bruker data.</para>

	  <para>Når denne katalogen er kalt “<filename>/</filename>”, er den kjent som fitreets  <emphasis>root</emphasis>, og derfor roten til partisjonen som faktisk vil huse Debian-systemet.</para>
        </sidebar>

        <sidebar>
          <title><emphasis>TILBAKE TIL BASIS</emphasis> Virtuelt minne, swap</title>
          <indexterm><primary>Virtuelt minne</primary></indexterm>
          <indexterm><primary>swap</primary></indexterm>
          <indexterm><primary>partition</primary><secondary>swap partition</secondary></indexterm>
          <indexterm><primary>swap partition</primary></indexterm>

	  <para>Virtuelt minne gjør at Linux-kjernen, når den mangler tilstrekkelig minne (RAM), for å frigjøre litt lagringsplass ved å lagre de delene av RAM, som har vært inaktiv i noen tid, på swap-partisjonen på harddisken.</para>

	  <para>For å simulere ekstra minne, bruker Windows en swap-fil som ligger direkte i et filsystem. Motsatt, benytter Linux en partisjon dedikert til dette formål, derav betegnelsen "swap partisjon".</para>
        </sidebar>

	<para>Når du velger en partisjon, kan du angi på hvilken måte du skal bruke den:</para>
        <itemizedlist>
          <listitem>
	    <para>formatere den, og ta den med i filetreet ved å velge et monteringspunkt;</para>
          </listitem>
          <listitem>
	    <para>bruke den som en swap-partisjon;</para>
          </listitem>
          <listitem>
	    <para>gjøre den til et "fysisk volum for kryptering" (for å beskytte datakonfidensialiteten på enkelte partisjoner, se nedenfor);</para>
          </listitem>
          <listitem>
	    <para>gjøre den til et "fysisk volum for LVM" (dette begrepet er diskutert i større detalj senere i dette kapitlet);</para>
          </listitem>
          <listitem>
	    <para>bruke den som en RAID-enhet (se senere i dette kapitlet);</para>
          </listitem>
          <listitem>
	    <para>du kan også velge å ikke bruke den, og derfor la den være uendret.</para>
          </listitem>
        </itemizedlist>
      </section>
      <section id="sect.install-software-raid">
        <title>Konfigurere Multidisk-enheter (Software RAID)</title>
        <indexterm><primary>RAID</primary><secondary>Software RAID</secondary></indexterm>
        <indexterm><primary>Software RAID</primary></indexterm>
        <indexterm><primary>device</primary><secondary>multi-disk device</secondary></indexterm>

	<para>Noen typer RAID tillater duplisering av informasjon som er lagret på harddisker for å forhindre tap av data, i tilfelle av et maskinvareproblem som berører en av dem. Nivå 1 RAID holder en enkel, identisk kopi (speil) av en harddisk på en annen stasjon, mens nivå 5 RAID deler overflødige data over flere disker, og gir dermed en fullstendig rekonstruksjon av en sviktende stasjon.</para>

	<para>Vil vi bare beskrive nivå 1 RAID, som er den enkleste å gjennomføre. Det første trinnet innebærer å lage to partisjoner med identisk størrelse, lagt til to forskjellige harddisker, og for å merke dem "fysisk volum for RAID".</para>

	<para>Du må da velge "Configure software RAID" i partisjoneringsverktøyet for å kombinere disse to partisjonene til en ny virtuell disk og velg "Create MD enhet" i konfigurasjonsskjermen. Deretter må svare på en rekke spørsmål om denne nye enheten. Det første spørsmålet spør om RAID-nivået som skal brukes, som i vårt tilfelle vil være "RAID1". Det andre spørsmålet er om antall aktive enheter - to i vårt tilfelle, som er antall partisjoner som inkluderes i denne MD-enheten. Det tredje spørsmålet er om antall ekstra enheter - 0; Vi har ikke planlagt noen ekstra disk til å ta over for en mulig defekt disk. Det siste spørsmålet krever at du velger partisjoner for RAID-enheten - disse vil være de to som vi har satt til side for dette formålet (sørg for at du bare velge partisjonene som eksplisitt nevner "raid").</para>

	<para>Tilbake til hovedmenyen, vises en ny virtuell "RAID" disk. Denne disken er presentert med en enkel partisjon som ikke kan slettes, men hvis bruk vi kan velge (akkurat som for alle andre partisjoner).</para>

	<para>For ytterligere informasjon om RAID funksjoner, vennligst refer til <xref linkend="sect.raid-soft" />.</para>
      </section>
      <section id="sect.install-lvm">
        <title>Konfigurere Logical Volume Manager (LVM)</title>
        <indexterm><primary>LVM</primary><secondary>during installation</secondary></indexterm>
        <indexterm><primary>Logical Volume Manager</primary><secondary>during installation</secondary></indexterm>

	<para>LVM lar deg lage "virtuelle" partisjoner som går over flere disker. Fordelene er todelt: Størrelsen på partisjonene er ikke lenger begrenset av individuelle disker, men av deres samlede volum, og du kan endre størrelsen på eksisterende partisjoner når som helst, muligens etter å ha lagt til en ekstra disk når det trengs.</para>

	<para>LVM bruker en bestemt terminologi: en virtuell partisjon er et "logisk volum", som er en del av en "volumgruppe", eller en sammenslutning av flere "fysiske volumer". Hver av disse begrepene tilsvarer faktisk en "ekte" partisjon (eller en programbasert RAID enhet).</para>
        <indexterm><primary>volume</primary><secondary>logical volume</secondary></indexterm>
        <indexterm><primary>volume</primary><secondary>physical volume</secondary></indexterm>
        <indexterm><primary>group</primary><secondary>of volumes</secondary></indexterm>
        <indexterm><primary>volume</primary><secondary>group</secondary></indexterm>

	<para>Denne teknikken fungerer på en svært enkel måte: Hvert volum, enten fysisk eller logisk, er delt inn i blokker av samme størrelse, som er laget for å korrespondere med LVM. Å legge til en ny disk fører til etablering av et nytt fysisk volum, og disse nye blokkene kan knyttes til en volumgruppe. Alle partisjoner i volumgruppen som er er utvidet slik, vil ha ekstra rom som de kan utvide seg i.</para>

	<para>Partisjoneringsverktøyet konfigurerer LVM i flere trinn. På eksisterende disker må du først opprette  partisjonene som vil bli "fysiske volumer for LVM". For å aktivere LVM, må du velge “Configure the Logical Volume Manager (LVM)”, så på den samme konfigurasjonsskjermen "Create a volume group", som du vil knytte de eksisterende fysiske volumer til. Endelig kan du opprette logiske volumer innenfor denne volumgruppen. Legg merke til at den automatiske partisjoneringssystemet kan utføre alle disse trinnene automatisk.</para>

	<para>I partisjoneringsmenyen, vil hvert fysisk volum vises som en disk med en enkelt partisjon som ikke kan slettes, men som du kan bruke som ønsket.</para>

	<para>Bruken av LVM beskrives nærmere i <xref linkend="sect.lvm" />.</para>
      </section>
      <section>
        <title>Å sette opp krypterte partisjoner</title>
        <indexterm><primary>LUKS</primary></indexterm>
        <indexterm><primary>dm-crypt</primary></indexterm>
        <indexterm><primary>partition</primary><secondary>encrypted</secondary></indexterm>
        <indexterm><primary>partition encryption</primary></indexterm>
        <indexterm><primary>confidentiality</primary><secondary>files</secondary></indexterm>
        <indexterm><primary>file</primary><secondary>confidentiality</secondary></indexterm>

	<para>For å garantere konfidensialitet for dine data, for eksempel ved tap eller tyveri av datamaskinen eller en harddisk, er det mulig å kryptere dataene på enkelte partisjoner. Denne funksjonen kan legges under et hvilket som helst filsystem, ettersom, som for LVM, Linux (og mer spesielt dm-crypt driveren) bruker Device Mapper for å lage en virtuell partisjon (der  innholdet er beskyttet) basert på en underliggende partisjon som lagrer data i kryptert form. (Takk til LUKS, Linux Unified Key Setup, et standardformat som muliggjør lagring av krypterte data samt meta-informasjon som indikerer krypteringsalgoritmer som brukes).</para>

        <sidebar id="sidebar.encrypted-swap-partition">
          <title><emphasis>SIKKERHET</emphasis> Kryptert swap partisjon</title>

	  <para>Når en kryptert partisjon blir brukt, blir  krypteringsnøkkelen lagret i minnet (RAM). Siden henting av denne nøkkelen tillater dekryptering av data, er det av største betydning å unngå å legge igjen en kopi av denne nøkkelen, som da vil være tilgjengelig for den mulig tyven av datamaskinen eller av harddisken, eller for en vedlikeholdstekniker. Dette er imidlertid noe som lett kan skje med en laptop, for når den er i dvale, er innholdet i RAM lagret på swap-partisjonen. Er ikke denne partisjonen kryptert, kan tyven åpne nøkkelen og bruke den til å dekryptere data fra de krypterte partisjonene. Dette er grunnen, når du bruker krypterte partisjoner, til at det er viktig  også kryptere swap-partisjon!</para>

	  <para>Debian-installeren vil advare brukeren om man prøver å lage en kryptert partisjon når swap-partisjonen ikke er kryptert.</para>
        </sidebar>

	<para>For å opprette en kryptert partisjon, må du først tilordne en tilgjengelig partisjon for dette formålet. Du  velger en partisjon og indikerer at den er til å bli brukt som et "fysisk volum for kryptering". Etter å ha partisjonert disken som inneholder det fysiske volumet som skal lages, velg “Configure encrypted volumes”. Programvaren vil da foreslå å klargjøre det fysiske volumet med tilfeldige data (som gjør lokalisering av den virkelige data vanskeligere), og vil be deg om å oppgi en "krypteringspassfrase", som du er skal bruke til å gå inn hver gang du starter datamaskinen for å få tilgang til innholdet i den kryptert partisjonen. Når dette trinnet er fullført, og du har returnert til partisjoneringsverktøy.-menyen, vil en ny partisjon være tilgjengelig i et "kryptert volum", som du deretter kan konfigurere akkurat som alle andre partisjoner. I de fleste tilfeller brukes denne partisjonen som et fysisk volum for LVM, slik som å beskytte flere partisjoner (LVM logiske volumer) med samme krypteringsnøkkel, inkludert swap-partisjonen (se sidefelt <xref linkend="sidebar.encrypted-swap-partition" />).</para>
      </section>
    </section>
    <section>
      <title>Installere base-systemet</title>
      <indexterm><primary>system</primary><secondary>base</secondary></indexterm>

      <para>Dette trinnet, som ikke krever noen form for brukermedvirkning, installerer Debian "base-system" pakker. Dette inkluderer <command>dpkg</command> og <command>apt</command>-verktøy, som administrerer Debian-pakker, samt de verktøyene som trengs for å starte opp systemet og begynne å bruke det.</para>

      <figure>
        <title>Installasjon av base-systemet</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-basesystem.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section>
      <title>Konfigurere Package Manager (<command>apt</command>)</title>
      <indexterm><primary>configuration</primary><secondary>initial configuration of APT</secondary></indexterm>
      <indexterm><primary>APT</primary><secondary>initial configuration</secondary></indexterm>

      <para>For å kunne installere ekstra programvare, trenger APT å bli konfigurert og fortalt hvor Debian-pakkene finnes. Dette trinnet er så automatisert som mulig. Det starter med et spørsmål om det må bruke et nettverkskilde for pakker, eller om det skal bare se etter pakker på CD-ROM.</para>

      <sidebar>
        <title><emphasis>NOTE</emphasis> Debian CD-ROM i spilleren</title>

	<para>Hvis installasjonsprogrammet oppdager en Debian installasjonsdisk i CD/DVD-leseren, er det ikke nødvendig å konfigurere APT til å lete etter pakker på nettverket: APT blir automatisk konfigurert til å lese pakker fra et flyttbart lagringsmedium. Hvis disken er en del av et sett, vil programvaren tilby å "utforske" andre disker for å vise alle pakkene som er lagret på dem.</para>
      </sidebar>

      <para>Hvis det kreves å få pakker fra nettverket, tillater de to neste spørsmålene å velge en tjener som disse pakkene kan lastes ned fra, ved først å velge et land, så et tilgjengelig speil i det landet (et speil er en offentlig tjener som har kopier av alle filer i Debians master arkiv).</para>

      <figure>
        <title>Å velge et Debian speil</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-mirror.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Til slutt foreslår programmet å bruke en HTTP-mellomtjener. Hvis det ikke er mellomtjener, er Internett-tilgangen direkte. Hvis du skriver <literal>http://proxy.falcot.com:3128</literal> vil APT bruke Falcot <foreignphrase>proxy/cache</foreignphrase> et  "Squid"-program. Du kan finne disse innstillingene ved å sjekke konfigurasjoner i en nettleser på en annen maskin koblet til det samme nettverket.</para>

      <para>Filene <filename>Packages.gz</filename> og <filename>Sources.gz</filename> blir automatisk lastet ned for å oppdatere listen over pakker som ATP gjenkjenner.</para>

      <sidebar>
        <title><emphasis>TILBAKE TIL BASIS</emphasis> HTTP proxy</title>
        <indexterm><primary>proxy</primary></indexterm>
        <indexterm><primary>proxy cache</primary></indexterm>
        <indexterm><primary>cache, proxy</primary></indexterm>
        <indexterm><primary>Squid</primary></indexterm>

	<para>En HTTP mellomtjener er en tjener som videresender en HTTP-forespørsel for nettverksbrukere. Det hjelper noen ganger for å få fart på nedlastinger å beholde en kopi av filene som er overført gjennom den (vi da snakker om mellomtjener/hurtiglager. I noen tilfeller er dette den eneste måten å få tilgang til en ekstern nettjener. I slike tilfeller er det svært viktig å svare på samsvarende spørsmål under installasjon, for at programmet skal kunne laste ned Debian-pakker gjennom den.</para>

	<para>Squid er navnet på tjenerprogramvaren som brukes av Falcot Corp for å tilby denne tjenesten.</para>
      </sidebar>
    </section>
    <section>
      <title>Debian Package popularitetskonkurranse</title>

      <para>Debian-systement har med en pakke kalt <emphasis role="pkg">popularity-contest</emphasis>, der formålet er å lage brukerstatistikk. Hver uke samler dette programmet informasjon om pakker som er installert og nylig brukt, og anonymt sender denne informasjonen til Debian-prosjektets servere. Prosjektet kan deretter bruke denne informasjonen til å bestemme den relative betydningen av hver pakke, og det påvirker prioritet de får. Spesielt blir de mest "populære" pakker inkludert i installasjonsCD-ROM-en, noe som vil lette tilgangen for brukere som ikke ønsker å laste dem ned eller å kjøpe et komplett sett.</para>

      <para>Denne pakken blir bare aktivert ved etterspørsel, av respekt for konfidensialiteten til brukernes bruk.</para>
    </section>
    <section>
      <title>Å velge pakker for installasjon</title>

      <para>Det neste trinnet lar deg velge formålet med maskinen i svært grove trekk; De ti foreslåtte oppgavene gir lister over pakker for installasjon. Listen over de pakkene som faktisk vil bli installert vil være finjustert og fullført senere, men dette gir på en enkel måte et godt utgangspunkt.</para>

      <para>Noen pakker er også automatisk installert i henhold til den oppdagede maskinvaren (takk til programmet <command>discover-pkginstall</command> fra <emphasis role="pkg">discover</emphasis> package). For eksempel, hvis en VirtualBox virtuell maskin blir oppdaget, vil programmet installere <emphasis role="pkg">virtualbox-guest-dkms</emphasis> pakken, som åpner for en bedre integrering mellom den virtuelle maskinen og vertsystemet.</para>

      <figure>
        <title>Oppgavevalg</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-tasksel.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section id="sect.installing-grub">
      <title>Å installere GRUB oppstartslaster</title>
      <indexterm><primary>laster</primary><secondary>oppstartlaster</secondary></indexterm>
      <indexterm><primary>oppstartlaster</primary></indexterm>
      <indexterm><primary>GRUB</primary></indexterm>

      <para>Oppstartslasteren er det første programmet som BIOS starter. Dette programmet laster Linux-kjernen inn i minnet, og deretter iverksetter det. Det gir ofte en meny som lar brukeren velge kjernen som skal lastes opp og/eller det operativsystemet som skal starte.</para>

      <sidebar id="sidebar.bootloader-dual-boot">
        <title><emphasis>PASS PÅ</emphasis> Oppstartslaster og dobbelt oppstart</title>
        <indexterm><primary>dual-boot</primary></indexterm>

	<para>Denne fasen i Debians installasjonsprosess oppdager operativsystemene som allerede er installert på datamaskinen, og automatisk legger til tilsvarende oppføringer i oppstartsmenyen, men ikke alle installasjonsprogrammer gjør dette.</para>

	<para>Spesielt hvis du installerer (eller installer på nytt) Windows etterpå, vil oppsstartslasteren bli slettet. Debian vil fortsatt være på harddisken, men vil ikke lenger være tilgjengelig fra oppstartsmenyen. Du må da starte Debian installasjonssystem i <userinput>rescue</userinput>-modus for å sette opp en mindre eksklusiv oppstartslaster. Denne operasjon er beskrevet i detalj i installasjonsmanualen. <ulink type="block" url="http://www.debian.org/releases/stable/amd64/ch08s07.html" /></para>
      </sidebar>

      <para>Som standard, menyen som GRUB foreslår inneholder alle de installerte Linux-kjerner, samt eventuelle andre operativsystemer som ble oppdaget. Dette er grunnen til at du bør akseptere tilbudet om å installere den i Master Boot Record. Siden den beholder eldre versjoner av kjernen, bevarer det evnen til å starte det samme systemet hvis den sist installerte kjernen er defekt eller dårlig tilpasset maskinvaren, er det ofte  fornuftig å beholde et par eldre kjerneversjoner installert.</para>

      <para>Debian har installert GRUB som standard oppstartslaster takket være dens tekniske overlegenhet: Den fungerer med de fleste filsystemer og krever derfor ikke en oppdatering etter hver nye kjerneinstallasjon, siden den leser konfigurasjonen under oppstart og finner den nøyaktige plasseringen av den nye kjernen. Versjon 1 av GRUB (nå kjent som "Grub Legacy") kunne ikke håndtere alle kombinasjoner av LVM og programvare-RAID. Versjon 2, installert som standard, er mer komplett. Det kan likevel være situasjoner hvor det er mer tilrådelig å installere LILO (en annen oppstartslaster); Installasjonsprogrammet vil foreslå det automatisk.</para>

      <para>For mer informasjon om hvordan du konfigurerer GRUB, se gjerne <xref linkend="sect.config-grub" />.</para>

      <sidebar>
        <title><emphasis>PASS PÅ</emphasis> Oppstartladere og arkitekturer</title>

	<para>LILO og GRUB, som er omtalt i dette kapitlet, er oppstartslastere for <emphasis>i386</emphasis> og <emphasis>amd64</emphasis>-arkitekturer. Hvis du installerer Debian på en annen arkitektur, må du bruke en annen for oppstartslaster. Blant annet kan vi sitere <command>yaboot</command> or <command>quik</command> for <emphasis>powerpc</emphasis>, <command>silo</command> for <emphasis>sparc</emphasis>, <command>aboot</command> for <emphasis>alpha</emphasis>, <command>arcboot</command> for <emphasis>mips</emphasis>.</para>
      </sidebar>
    </section>
    <section>
      <title>Avslutte Installasjonen og systemstart</title>

      <para>Installasjonen er nå fullført, programmet ber deg om å ta ut CD-ROM fra leseren og om å starte datamaskinen på nytt.</para>
    </section>
  </section>
  <section id="sect.after-first-boot">
    <title>Etter den første oppstarten</title>

    <para>Hvis du aktiverer oppgaven "Debian desktop environment" uten et eksplisitt skrivebordsvalg (eller med "GNOME"-valget), vil datamaskinen vise <command>gdm3</command> login-behandler.</para>

    <figure>
      <title>Første oppstart</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/inst-gdm.png" scalefit="1" width="65%" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>Brukeren som allerede er opprettet, kan så logges inn og starte å virke umiddelbart.</para>
    <section>
      <title>Installere tilleggsprogramvare</title>

      <para>De installerte pakker svarer til de profiler som er valgt under installeringen, men ikke nødvendigvis til den bruk som maskinen faktisk er tiltenkt. I slike tilfeller, kan det være lurt å bruke en pakkestyringsverktøy for å avgrense utvalget av installerte pakker. De to mest brukte verktøyene (som er installert hvis "Debian desktop environment"-profil ble valgt) er <command>apt</command> (tilgjengelig fra kommandolinjen) og <command>synaptic</command> (“Synaptic Package Manager” i menyene).</para>

      <para>For å forenkle installasjonen av sammenhengende grupper av programmer, skaper Debian "oppgaver" som er dedikert til bestemte formål (posttjener, filtjener, etc.). Du har allerede hatt muligheten til å velge dem under installasjonen, og du kan finne dem igjen takket være pakkestyringsverktøy som <command>aptitude</command> (oppgavene er listet i en egen seksjon) og <command>synaptic</command> (via menyen <menuchoice> <guimenu>Edit</guimenu> <guimenuitem>Mark Packages by Task…</guimenuitem> </menuchoice>).</para>

      <para>Aptitude er et grensesnitt til APT i fullskjermtekstmodus . Det tillater brukeren å bla gjennom listen over tilgjengelige pakker etter ulike kategorier (installerte eller ikke installerte pakker, etter oppgave, for seksjon, etc.), og for å vise all tilgjengelig informasjon om hver av dem (avhengigheter, konflikter, beskrivelse, etc.). Hver pakke kan merkes "install" (som skal installeres, <keycap>+</keycap> tasten) eller “remove” (for å fjerning, <keycap>-</keycap> tasten). Alle disse operasjonene vil bli utført samtidig når du har bekreftet dem ved å trykke på <keycap>g</keycap> tasten (“g” for “go!”). Hvis du har glemt noen programmer, ingen grunn til bekymring. Du kan kjøre <command>aptitude</command> igjen så snart den første installasjonen er ferdig.</para>
      <indexterm><primary>aptitude</primary></indexterm>

      <sidebar>
        <title><emphasis>TIP</emphasis> Debian tenker på dem som snakker ikke-engelske språk</title>

	<para>Flere oppgaver er øremerket til legge systemet ut på andre språk enn engelsk. De omfatter oversatt dokumentasjon, ordbøker, og diverse andre pakker nyttig for dem som bruker ulike språk. Den riktige oppgaven velges automatisk hvis et ikke-engelsk språk ble valgt under installasjonen.</para>
      </sidebar>

      <sidebar>
        <title><emphasis>CULTURE</emphasis> <command>dselect</command>, det gamle brukergrensesnittet til å installere pakker</title>

	<para>Før var <command>aptitude</command>, standardprogrammet for å velge pakker for installasjon <command>dselect</command>, det gamle brukergrensesnittet knyttet til  <command>dpkg</command>. Ettersom det var et vanskelig program for nybegynnere å bruke, er det ikke anbefalt.</para>
        <indexterm><primary><command>dselect</command></primary></indexterm>
      </sidebar>

      <para>Selvfølgelig er det mulig å ikke installere en hvilken som helst oppgave. I dette tilfellet, kan du manuelt installere ønsket programvare med <command>apt-get</command> eller  <command>aptitude</command> kommandoen (som begge er tilgjengelig fra kommandolinjen).</para>

      <sidebar>
        <title><emphasis>VOCABULARY</emphasis> Pakkeavhengigheter, konflikter</title>

	<para>I Debian pakkesjargong, er en "avhengighet" en annen pakke som er nødvendig for riktig funksjon av den pakken det gjelder. Motsatt, er en "konflikt" en pakke som ikke kan installeres side-ved-side med en annen.</para>

	<para>Disse begrepene er diskutert mer i detalj i <xref linkend="packaging-system" />.</para>
      </sidebar>
    </section>
    <section>
      <title>Å oppgradere systemet</title>
      <indexterm><primary>safe-upgrade</primary></indexterm>

      <para>En første <command>aptitude safe-upgrade</command> (en kommando brukes til å automatisk oppdatere installerte programmer) er vanligvis nødvendig, spesielt for mulige sikkerhetsoppdateringer utstedt etter utgivelsen av den nyeste Debian stabile versjonen. Disse oppdateringene kan innebære noen flere spørsmål via <command>debconf</command>, Debians standard konfigurasjonsverktøy. For videre informasjon om disse oppdateringen utført av <command>aptitude</command>, besøk gjerne <xref linkend="sect.apt-upgrade" />.</para>
    </section>
  </section>
</chapter>
