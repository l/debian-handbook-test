<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">12.4. Overvåking</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-nb-NO-1.0-1" /><meta
        name="keywords"
        content="RAID, LVM, FAI, Å komme foran, Overvåking, Visualisering, Xen, LXC" /><link
        rel="home"
        href="index.html"
        title="Håndbok for Debian-administratoren" /><link
        rel="up"
        href="advanced-administration.html"
        title="Kapittel 12. Avansert administrasjon" /><link
        rel="prev"
        href="sect.automated-installation.html"
        title="12.3. Automatisert installasjon" /><link
        rel="next"
        href="workstation.html"
        title="Kapittel 13. Arbeidsstasjon" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/nb-NO/stable/sect.monitoring.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.automated-installation.html"><strong>Forrige</strong></a></li><li
          class="home">Håndbok for Debian-administratoren</li><li
          class="next"><a
            accesskey="n"
            href="workstation.html"><strong>Neste</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.monitoring"></a>12.4. Overvåking</h2></div></div></div><div
          class="para">
			Overvåking er en fellesbetegnelse, og de ulike involverte aktiviteter har flere mål: På den ene siden, som følge av ressursene maskinen gir, kan metning forutsees, med de påfølgende oppgraderinger som kreves. På den annen side varsles administrator så snart en tjeneste ikke er tilgjengelig eller ikke fungerer, som betyr at oppståtte problemer kan fikses tidligere.
		</div><div
          class="para">
			<span
            class="emphasis"><em>Munin</em></span> dekker det første området, ved å vise grafiske diagrammer for historiske verdier for en rekke parametere (benyttet RAM, anvendt diskplass, prosessorbelastning, nettverkstrafikk, Apache/MySQL-last, og så videre). <span
            class="emphasis"><em>Nagios</em></span> dekker det andre området, ved å regelmessig kontrollere at tjenestene fungerer og er tilgjengelig, og sende varsler gjennom de riktige kanaler (e-post, tekstmeldinger, og så videre). Begge har et modulær design, som gjør det enkelt å lage nye programtillegg for å overvåke bestemte parametere eller tjenester.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>ALTERNATIVE</em></span> Zabbix, et integrert overvåkningsverktøy</strong></p></div></div></div><a
            id="id-1.15.7.4.2"
            class="indexterm"></a><div
            class="para">
			Selv Munin og Nagios er i svært mye brukt, er de ikke de eneste på overvåkingsområdet, og hver av dem behandler kun halvparten av oppgaven (grafer på den ene side, varsling på den andre). Zabbix, derimot, integrerer begge sider ved overvåkingen; den har også et nettgrensesnitt for å sette opp de vanligste aspektene. Den har vokst med stormskritt løpet av de siste årene, og kan nå betraktes som en levedyktig konkurrent. På overvåkingstjeneren, vil du installere <span
              class="pkg pkg">zabbix-server-pgsql</span> (eller <span
              class="pkg pkg">zabbix-server-mysql</span>), muligens sammen med <span
              class="pkg pkg">zabbix-frontend-php</span> for å få et nettgrensesnitt. Hos verten, for å overvåke, vil du installere <span
              class="pkg pkg">zabbix-agent</span> for å sende data tilbake til tjeneren. <div
              xmlns=""
              class="url">→ <a
                xmlns="http://www.w3.org/1999/xhtml"
                href="http://www.zabbix.com/">http://www.zabbix.com/</a></div>
		</div></div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>ALTERNATIVE</em></span> Icinga, en forgrening fra Nagios</strong></p></div></div></div><a
            id="id-1.15.7.5.2"
            class="indexterm"></a><div
            class="para">
			Ansporet av meningsforskjeller om utviklingsmodellen for Nagios (som er kontrollert av et selskap), laget et antall utviklere av Nagios en forgrening og brukte Icinga som det nye navnet. Icinga er fortsatt kompatibel - så langt - med Nagios konfigurasjoner og plugins, men den legger også til ekstra funksjoner. <div
              xmlns=""
              class="url">→ <a
                xmlns="http://www.w3.org/1999/xhtml"
                href="http://www.icinga.org/">http://www.icinga.org/</a></div>
		</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.munin"></a>12.4.1. Å sette opp Munin</h3></div></div></div><a
            id="id-1.15.7.6.2"
            class="indexterm"></a><div
            class="para">
				Hensikten med Munin er å overvåke mange maskiner. Derfor bruker den ganske naturlig en klient/tjener-arkitektur. Den sentrale verten - grapher - samler data fra alle de overvåkede vertene, og genererer historiske grafer.
			</div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.15.7.6.4"></a>12.4.1.1. Konfigurere verter til monitor</h4></div></div></div><div
              class="para">
					Det første trinnet er å installere <span
                class="pkg pkg">munin-node</span>-pakken. Nissen denne pakken installerer lytter på port 4949, og sender tilbake data samlet inn av alle de aktive programtilleggene. Hvert programtillegg er et enkelt program som returnerer en beskrivelse av de innsamlede data, samt den siste målte verdi. Programtilleggene er lagret i <code
                class="filename">/usr/share/munin/plugins/</code>, men bare di med en symbolsk lenke i <code
                class="filename">/etc/munin/plugins/</code> er virkelig i bruk.
				</div><div
              class="para">
					Når pakken er installert, er et sett med aktive programtillegge fastsettes basert på tilgjengelig programvare og gjeldende konfigurasjon av verten. Imidlertid avhenger dette autoppsettet av en funksjon som hvert programtillegg må levere, og det er vanligvis en god idé å gå gjennom og justere resultatene for hånd. Å surfe på <a
                href="http://gallery.munin-monitoring.org">Plugin Gallery</a> kan være interessant, selv om ikke alle programtillegg har omfattende dokumentasjon. Men alle programtillegg er skript og de fleste er ganske enkle og godt kommentert. Å surfe <code
                class="filename">/etc/munin/plugins/</code> er derfor en god måte å få en idé om hva hvert programtillegg handler om og å avgjøre hvilke bør fjernes. Tilsvarende, å aktivere et interessant programtillegg som finnes i <code
                class="filename">/usr/share/munin/plugins/</code> er så enkelt som å sette opp en symbolsk lenke med <code
                class="command">ln -sf /usr/share/munin/plugins/<em
                  class="replaceable">plugin</em> /etc/munin/plugins/</code>. Merk at når navnet på et programtillegg ender med en understrekning "_", krever programtillegg et parameter. Denne parameteren må lagres i navnet på den symbolske lenken; for eksempel, må "if_" programtillegg bli aktivert med en <code
                class="filename">if_eth0</code>-symbolsk lenke, og den vil overvåke nettverkstrafikk på eth0 grensesnittet.
				</div><div
              class="para">
					Når alle programtilleggene er satt opp riktig, må nisseoppsettet oppdateres til å beskrive adgangskontrollen for de innsamlede dataene. Dette inkluderer<code
                class="literal">allow</code>-direktiver i <code
                class="filename">/etc/munin/munin-node.conf</code>-filen. Standardkonfigurasjonen er <code
                class="literal">allow ^127\.0\.0\.1$</code>, og gir bare gir tilgang til den lokale verten. En administrator vil vanligvis legg til en lignende linje med IP-adressen til grapher-verten, og deretter restarte nissen med <code
                class="command">service munin-node restart</code>.
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>GOING FURTHER</em></span> Å lage lokale programtillegg</strong></p></div></div></div><div
                class="para">
					Munin inkluderer detaljert dokumentasjon om hvordan programtilleggene skal fungere, og hvordan man kan utvikle nye programtillegg. <div
                  xmlns=""
                  class="url">→ <a
                    xmlns="http://www.w3.org/1999/xhtml"
                    href="http://munin-monitoring.org/wiki/plugins">http://munin-monitoring.org/wiki/plugins</a></div>
				</div><div
                class="para">
					Et programtillegg kan best testes når det kjøres under samme forhold som det ville blitt når den utløses av munin-node. Dette kan simuleres ved å kjøre <code
                  class="command">munin-run <em
                    class="replaceable">plugin</em></code> som rot. Et potensielt andre parameter som gis til denne kommandoen (slik som <code
                  class="literal">config</code>) formidles til programtillegget som et parameter.
				</div><div
                class="para">
					Når et programtillegg brukes med med <code
                  class="literal">config</code>-parameteret, må det må beskrive seg selv ved å returnere et sett med felt:
				</div><pre
                class="screen"><code
                  class="computeroutput">$ </code><strong
                  class="userinput"><code>sudo munin-run load config
</code></strong><code
                  class="computeroutput">graph_title Load average
graph_args --base 1000 -l 0
graph_vlabel load
graph_scale no
graph_category system
load.label load
graph_info The load average of the machine describes how many processes are in the run-queue (scheduled to run "immediately").
load.info 5 minute load average
</code></pre><div
                class="para">
					De forskjellige tilgjengelige feltene er beskrevet av "Plugin reference" som er tilgjengelig som en del av "Munin guide"-en. <div
                  xmlns=""
                  class="url">→ <a
                    xmlns="http://www.w3.org/1999/xhtml"
                    href="http://munin.readthedocs.org/en/latest/reference/plugin.html">http://munin.readthedocs.org/en/latest/reference/plugin.html</a></div>
				</div><div
                class="para">
					Starten uten et parameter, vil programtillegget bare returner de siste måleverdiene: For eksempel, å kjøre <code
                  class="command">sudo munin-run load</code> kunne returnere <code
                  class="literal">load.value 0.12</code>.
				</div><div
                class="para">
					Til slutt, når et programtillegg startes med <code
                  class="literal">autoconf</code> parameteret, skal det returnere "yes" (og et 0 exit status) eller "no" (med en 1 exit status) etter om programtillegget bør være aktivert på denne verten.
				</div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.15.7.6.5"></a>12.4.1.2. Å sette opp Grapher</h4></div></div></div><div
              class="para">
					"Grapher" aggregerer rett og slett dataene og genererer de tilhørende grafer. Den nødvendige programvaren er i <span
                class="pkg pkg">munin</span>-pakken. Standardoppsettet kjører <code
                class="command">munin-cron</code> (en gang hvert 5. minutt) Den samler data fra alle verter som er oppført i <code
                class="filename">/etc/munin/munin.conf</code> (kun den lokale verten er oppført som standard), lagrer historiske data i RRD-filer (<span
                class="emphasis"><em>Round Robin Database</em></span>, et filformat utviklet for å lagre data som varierer i tid) lagret under <code
                class="filename">/var/lib/munin/</code> og genererer en HTML-side med grafene i <code
                class="filename">/var/cache/munin/www/</code>.
				</div><div
              class="para">
					Alle overvåkede maskinene må derfor være oppført i konfigurasjonsfilen <code
                class="filename">/etc/munin/munin.conf</code>. Hver maskin er oppført som en full seksjon med et navn som passer til maskinen og minst en <code
                class="literal">address</code>-inngang som gir den tilsvarende IP-adressen.
				</div><pre
              class="programlisting">[ftp.falcot.com]
    address 192.168.0.12
    use_node_name yes
</pre><div
              class="para">
					Seksjoner kan være mer komplekse, og beskrive ekstra grafer laget ved å kombinere data fra flere maskiner. Prøvene som er gitt i konfigurasjonsfilen er gode utgangspunkter for tilpasninger.
				</div><div
              class="para">
					Det siste trinnet er å publisere de genererte sidene. Dette innebærer å konfigurere en nett-tjener, slik at innholdet i <code
                class="filename">/var/cache/munin/www/</code> blir tilgjengelig på et nettsted. Tilgang til denne nettsiden vil ofte være begrenset, enten ved hjelp av en autentiseringsmekanisme eller IP-basert adgangskontroll. Se <a
                class="xref"
                href="sect.http-web-server.html">Seksjon 11.2, «Nett-tjener (HTTP)»</a> for de relevante detaljene.
				</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.nagios"></a>12.4.2. Å sette opp Nagios</h3></div></div></div><a
            id="id-1.15.7.7.2"
            class="indexterm"></a><div
            class="para">
				I motsetning til Munin, installerer ikke Nagios nødvendigvis noe på de overvåkede vertene. Mesteparten av tiden, brukes Nagios til å kontrollere tilgjengeligheten for nettverkstjenester. For eksempel kan Nagios koble til en nett-tjener og sjekke at en gitt nettside kan nås innen et gitt tid.
			</div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.15.7.7.4"></a>12.4.2.1. Å installere</h4></div></div></div><div
              class="para">
					Det første skrittet for å sette opp Nagios er å installere <span
                class="pkg pkg">nagios3</span>, <span
                class="pkg pkg">nagios-plugins</span> og <span
                class="pkg pkg">nagios3-doc</span> -pakkene. Pakkeinstallasjonen konfigurerer nett-grensesnittete og lager en første <code
                class="literal">nagiosadmin</code>-bruker (som den ber om et passord for). Å legge til andre brukere er så enkelt som å sette dem inn i <code
                class="filename">/etc/nagios3/htpasswd.users</code>-filen med Apaches <code
                class="command">htpasswd</code>kommando. Hvis ikke noe Debconf spørsmål vises under installasjonen, kan <code
                class="command">dpkg-reconfigure nagios3-cgi</code> bli brukt til å definere <code
                class="literal">nagiosadmin</code>-passordet.
				</div><div
              class="para">
					Grensesnittet vises ved å la nettleseren gå til <code
                class="literal">http://<em
                  class="replaceable">server</em>/nagios3/</code>. Vær spesielt oppmerksom på at Nagios allerede overvåker noen parametere på maskinen der den kjører. Men noen interaktive funksjoner, som å legge til kommentarer til en vert, virker ikke. Disse funksjonene er deaktivert under Nagios standardkonfigurasjon, som av sikkerhetsgrunner er svært restriktiv.
				</div><div
              class="para">
					Som dokumenter i <code
                class="filename">/usr/share/doc/nagios3/README.Debian</code>, aktivering av noen egenskaper innebærer å redigere <code
                class="filename">/etc/nagios3/nagios.cfg</code> å at parameteret <code
                class="literal">check_external_commands</code> settes til “1”. Vi må også sette opp skrivetilgang til katalogen som Nagios bruker, med kommandoer som de følgende:
				</div><pre
              class="screen"><code
                class="computeroutput"># </code><strong
                class="userinput"><code>service nagios3 stop</code></strong>
<code
                class="computeroutput">[...]
# </code><strong
                class="userinput"><code>dpkg-statoverride --update --add nagios www-data 2710 /var/lib/nagios3/rw
</code></strong><code
                class="computeroutput"># </code><strong
                class="userinput"><code>dpkg-statoverride --update --add nagios nagios 751 /var/lib/nagios3
</code></strong><code
                class="computeroutput"># </code><strong
                class="userinput"><code>service nagios3 start</code></strong>
<code
                class="computeroutput">[...]</code></pre></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.15.7.7.5"></a>12.4.2.2. Konfigurering</h4></div></div></div><div
              class="para">
					Nagios nettgrensesnitt er ganske fint, men det tillater ikke konfigurasjon, heller ikke kan det brukes til å legge til overvåkede verter og tjenester. Hele konfigurasjonen styres via filer som det er referert til i den sentrale konfigurasjonsfilen,<code
                class="filename">/etc/nagios3/nagios.cfg</code>.
				</div><div
              class="para">
					Disse filene skal det ikke dykkes ned i uten noe forståelse av Nagios konsepter. Konfigurasjonen lister objekter av følgende typer:
				</div><div
              xmlns:d="http://docbook.org/ns/docbook"
              class="itemizedlist"><ul><li
                  class="listitem"><div
                    class="para">
							a <span
                      class="emphasis"><em>host</em></span> er en maskin som skal overvåkes;
						</div></li><li
                  class="listitem"><div
                    class="para">
							<span
                      class="emphasis"><em>hostgroup</em></span> er et sett av verter som bør grupperes sammen for visning, eller for å faktorere noe vanlige konfigurasjonselementer;
						</div></li><li
                  class="listitem"><div
                    class="para">
							<span
                      class="emphasis"><em>service</em></span> er et testbart element knyttet til en vert eller en gruppe verter. Det vil som oftest være en sjekk for en nettverkstjeneste, men det kan også innebære å sjekke om noen parametere er innenfor et akseptabelt spenn (for eksempel ledig diskplass eller prosessorbelastning);
						</div></li><li
                  class="listitem"><div
                    class="para">
							<span
                      class="emphasis"><em>servicegroup</em></span> er et sett av tjenester som skal grupperes sammen for visning;
						</div></li><li
                  class="listitem"><div
                    class="para">
							<span
                      class="emphasis"><em>contact</em></span> er en person som kan motta varsler;
						</div></li><li
                  class="listitem"><div
                    class="para">
							a <span
                      class="emphasis"><em>contactgroup</em></span> er et sett med slike kontakter;
						</div></li><li
                  class="listitem"><div
                    class="para">
							<span
                      class="emphasis"><em>timeperiod</em></span> er et tidsspenn innenfor hvilket enkelte tjenester må kontrolleres;
						</div></li><li
                  class="listitem"><div
                    class="para">
							a <span
                      class="emphasis"><em>command</em></span> er kommandolinjen som brukes for å sjekke en gitt tjeneste.
						</div></li></ul></div><div
              class="para">
					Alt etter typen, har hvert objekt en rekke egenskaper som kan tilpasses. En fullstendig liste ville bli for lang til å ta med her, men de viktigste egenskapene er forholdet mellom objektene.
				</div><div
              class="para">
					A <span
                class="emphasis"><em>service</em></span> uses a <span
                class="emphasis"><em>command</em></span> to check the state of a feature on a <span
                class="emphasis"><em>host</em></span> (or a <span
                class="emphasis"><em>hostgroup</em></span>) within a <span
                class="emphasis"><em>timeperiod</em></span>. In case of a problem, Nagios sends an alert to all members of the <span
                class="emphasis"><em>contactgroup</em></span> linked to the service. Each member is sent the alert according to the channel described in the matching <span
                class="emphasis"><em>contact</em></span> object.
				</div><div
              class="para">
					An inheritance system allows easy sharing of a set of properties across many objects without duplicating information. Moreover, the initial configuration includes a number of standard objects; in many cases, defining new hosts, services and contacts is a simple matter of deriving from the provided generic objects. The files in <code
                class="filename">/etc/nagios3/conf.d/</code> are a good source of information on how they work.
				</div><div
              class="para">
					The Falcot Corp administrators use the following configuration:
				</div><div
              class="example"><a
                xmlns=""
                id="id-1.15.7.7.5.9"></a><p
                class="title"><strong>Eksempel 12.3. <code
                    class="filename">/etc/nagios3/conf.d/falcot.cfg</code> file</strong></p><div
                class="example-contents"><pre
                  class="programlisting">define contact{
    name                            generic-contact
    service_notification_period     24x7
    host_notification_period        24x7
    service_notification_options    w,u,c,r
    host_notification_options       d,u,r
    service_notification_commands   notify-service-by-email
    host_notification_commands      notify-host-by-email
    register                        0 ; Template only
}
define contact{
    use             generic-contact
    contact_name    rhertzog
    alias           Raphael Hertzog
    email           hertzog@debian.org
}
define contact{
    use             generic-contact
    contact_name    rmas
    alias           Roland Mas
    email           lolando@debian.org
}

define contactgroup{
    contactgroup_name     falcot-admins
    alias                 Falcot Administrators
    members               rhertzog,rmas
}

define host{
    use                   generic-host ; Name of host template to use
    host_name             www-host
    alias                 www.falcot.com
    address               192.168.0.5
    contact_groups        falcot-admins
    hostgroups            debian-servers,ssh-servers
}
define host{
    use                   generic-host ; Name of host template to use
    host_name             ftp-host
    alias                 ftp.falcot.com
    address               192.168.0.6
    contact_groups        falcot-admins
    hostgroups            debian-servers,ssh-servers
}

# 'check_ftp' command with custom parameters
define command{
    command_name          check_ftp2
    command_line          /usr/lib/nagios/plugins/check_ftp -H $HOSTADDRESS$ -w 20 -c 30 -t 35
}

# Generic Falcot service
define service{
    name                  falcot-service
    use                   generic-service
    contact_groups        falcot-admins
    register              0
}

# Services to check on www-host
define service{
    use                   falcot-service
    host_name             www-host
    service_description   HTTP
    check_command         check_http
}
define service{
    use                   falcot-service
    host_name             www-host
    service_description   HTTPS
    check_command         check_https
}
define service{
    use                   falcot-service
    host_name             www-host
    service_description   SMTP
    check_command         check_smtp
}

# Services to check on ftp-host
define service{
    use                   falcot-service
    host_name             ftp-host
    service_description   FTP
    check_command         check_ftp2
}
</pre></div></div><div
              class="para">
					This configuration file describes two monitored hosts. The first one is the web server, and the checks are made on the HTTP (80) and secure-HTTP (443) ports. Nagios also checks that an SMTP server runs on port 25. The second host is the FTP server, and the check includes making sure that a reply comes within 20 seconds. Beyond this delay, a <span
                class="emphasis"><em>warning</em></span> is emitted; beyond 30 seconds, the alert is deemed critical. The Nagios web interface also shows that the SSH service is monitored: this comes from the hosts belonging to the <code
                class="literal">ssh-servers</code> hostgroup. The matching standard service is defined in <code
                class="filename">/etc/nagios3/conf.d/services_nagios2.cfg</code>.
				</div><div
              class="para">
					Note the use of inheritance: an object is made to inherit from another object with the “use <em
                class="replaceable">parent-name</em>”. The parent object must be identifiable, which requires giving it a “name <em
                class="replaceable">identifier</em>” property. If the parent object is not meant to be a real object, but only to serve as a parent, giving it a “register 0” property tells Nagios not to consider it, and therefore to ignore the lack of some parameters that would otherwise be required.
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>DOCUMENTATION</em></span> List of object properties</strong></p></div></div></div><div
                class="para">
					A more in-depth understanding of the various ways in which Nagios can be configured can be obtained from the documentation provided by the <span
                  class="pkg pkg">nagios3-doc</span> package. This documentation is directly accessible from the web interface, with the “Documentation” link in the top left corner. It includes a list of all object types, with all the properties they can have. It also explains how to create new plugins.
				</div></div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>GOING FURTHER</em></span> Remote tests with NRPE</strong></p></div></div></div><div
                class="para">
					Many Nagios plugins allow checking some parameters local to a host; if many machines need these checks while a central installation gathers them, the NRPE (<span
                  class="emphasis"><em>Nagios Remote Plugin Executor</em></span>) plugin needs to be deployed. The <span
                  class="pkg pkg">nagios-nrpe-plugin</span> package needs to be installed on the Nagios server, and <span
                  class="pkg pkg">nagios-nrpe-server</span> on the hosts where local tests need to run. The latter gets its configuration from <code
                  class="filename">/etc/nagios/nrpe.cfg</code>. This file should list the tests that can be started remotely, and the IP addresses of the machines allowed to trigger them. On the Nagios side, enabling these remote tests is a simple matter of adding matching services using the new <span
                  class="emphasis"><em>check_nrpe</em></span> command.
				</div></div></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.automated-installation.html"><strong>Forrige</strong>12.3. Automatisert installasjon</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Opp</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Hjem</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="workstation.html"><strong>Neste</strong>Kapittel 13. Arbeidsstasjon</a></li></ul></body></html>
