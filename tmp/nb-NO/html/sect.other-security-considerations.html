<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">14.6. Andre sikkerhetsrelaterte overveielser</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-nb-NO-1.0-1" /><meta
        name="keywords"
        content="Brannmur, Nettfilter, IDS/NIDS" /><link
        rel="home"
        href="index.html"
        title="Håndbok for Debian-administratoren" /><link
        rel="up"
        href="security.html"
        title="Kapittel 14. Sikkerhet" /><link
        rel="prev"
        href="sect.selinux.html"
        title="14.5. Introduksjon til SELinux" /><link
        rel="next"
        href="sect.dealing-with-compromised-machine.html"
        title="14.7. Dealing with a Compromised Machine" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/nb-NO/stable/sect.other-security-considerations.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.selinux.html"><strong>Forrige</strong></a></li><li
          class="home">Håndbok for Debian-administratoren</li><li
          class="next"><a
            accesskey="n"
            href="sect.dealing-with-compromised-machine.html"><strong>Neste</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.other-security-considerations"></a>14.6. Andre sikkerhetsrelaterte overveielser</h2></div></div></div><div
          class="para">
			Sikkerhet er ikke bare et teknisk problem; for mer enn noe annet, handler det om god praksis og forståelse av risiko. Denne seksjonen gjennomgår noen av de vanligste risikoene, samt noen "beste praksis"-er som, avhengig av tilfellet, bør øke sikkerheten eller minske virkningen av et vellykket angrep.
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.17.9.3"></a>14.6.1. Iboende risiko hos nett-applikasjoner</h3></div></div></div><div
            class="para">
				Nettprogrammenes universelle karakteren førte til spredningen. Flere kjøres ofte i parallell: en nettpost, en wiki, noen gruppevaresystemer, et forum, et fotogalleri, en blogg, og så videre. Mange av disse programmene er avhengige av "LAMP" (<span
              class="emphasis"><em>Linux, Apache, MySQL, PHP</em></span>)-stablen. Dessverre er mange av disse programmene også skrevet uten mye hensyn til sikkerhetsproblemer. Data som kommer utenfra brukes også ofte med liten eller ingen validering. Å gi spesiallagede verdier kan brukes til å undergrave et anrop til en kommando, slik at en annen blir utført i stedet. Mange av de mest åpenbare problemene er løst etter hvert som tiden har gått, men nye sikkerhetsproblemer dukker opp med jevne mellomrom.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>VOCABULARY</em></span> SQL injeksjon</strong></p></div></div></div><div
              class="para">
				Når et program legger inn data i SQL-spørringer på en usikker måte, blir det sårbart for SQL-injeksjoner; dette navnet dekker at det lov å endre et parameter slik at den faktiske spørringen som utføres av programmet er forskjellig fra den tiltenkte, enten for å skade database eller for å få tilgang til data som normalt ikke bør være tilgjengelig. <div
                xmlns=""
                class="url">→ <a
                  xmlns="http://www.w3.org/1999/xhtml"
                  href="http://en.wikipedia.org/wiki/SQL_Injection">http://en.wikipedia.org/wiki/SQL_Injection</a></div>
			</div><a
              id="id-1.17.9.3.3.3"
              class="indexterm"></a></div><div
            class="para">
				Å oppdatere nettprogrammer regelmessig er derfor et must, slik at ikke noe forsøk (enten av en profesjonell angriper eller en script kiddy) kan utnytte en kjent sårbarhet. Den faktiske risikoen avhenger av tilfellet, og spenner fra ødeleggelse av data - til kjøring av vilkårlig kode, medregnet å gjøre nettsider uleselige.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.17.9.4"></a>14.6.2. Å vite hva som forventes</h3></div></div></div><div
            class="para">
				En sårbarhet i et nettprogram blir ofte brukt som utgangspunkt for inntrengningsforsøk. Her følger en kort gjennomgang av mulige konsekvenser.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>QUICK LOOK</em></span> Å filtrere HTTP-spørringer</strong></p></div></div></div><div
              class="para">
				Apache 2 inkluderer moduler som tillater filtrering av innkommende HTTP-spørringer. Dette gjør det mulig å blokkere noen angrepsvektorer. For eksempel kan det å begrense lengden på parametrene forhindre overflom i mellomlager. Mer generelt kan man validere parametre selv før de sendes til nettprogrammet, og begrense tilgangen etter mange kriterier. Dette kan også kombineres med dynamiske brannmuroppdateringer, slik at en klient som krenker en av reglene blir utestengt fra tilgang til netttjeneren for en gitt periode.
			</div><div
              class="para">
				Å sette opp disse kontrollene kan være en lang og kronglete oppgave, men det kan lønne seg når nettprogrammet som som skal utplasseres har en tvilsom merittliste når det gjelder sikkerhet.
			</div><div
              class="para">
				<span
                class="emphasis"><em>mod-security2</em></span> (i <span
                class="pkg pkg">libapache2-mod-security2</span>-pakken) er den viktigste slike modulen. Den har til og med mange egne "klare til bruk"-regler (i <span
                class="pkg pkg">modsecurity-crs</span> package) som du enkelt kan aktivere.
			</div><a
              id="id-1.17.9.4.3.5"
              class="indexterm"></a><a
              id="id-1.17.9.4.3.6"
              class="indexterm"></a></div><div
            class="para">
				The consequences of an intrusion will have various levels of obviousness depending on the motivations of the attacker. <span
              class="emphasis"><em>Script-kiddies</em></span> only apply recipes they find on web sites; most often, they deface a web page or delete data. In more subtle cases, they add invisible contents to web pages so as to improve referrals to their own sites in search engines.
			</div><div
            class="para">
				En mer avansert angriper vil gå utover det. Et katastrofe-scenario kunne være dette opplegget: Angriperen får muligheten til å utføre kommandoer som <code
              class="literal">www-data</code>-bruker, men kjører en kommando som krever mange håndteringer. For å gjøre livet sitt enklere, installerer de andre nettprogrammer spesielt utformet for å fjernutføre mange typer kommandoer, som for eksempel surfing i filsystemet, å undersøke tillatelser, å laster opp eller ned filer, utføre kommandoer, og selv gi et nettverkskall. Ofte vil sårbarheten tillate å kjøre en <code
              class="command">wget</code>-kommando som vil laste ned skadelig programvare til <code
              class="filename">/tmp/</code>, og så kjøre den. Den skadelige programvaren er ofte lastet ned fra en utenlandsk nettside som tidligere er kompromittert, for å dekke sporene og gjøre det vanskeligere å finne den faktiske opprinnelsen til angrepet.
			</div><div
            class="para">
				På dette punktet, har angriperen nok bevegelsesfrihet slik at de ofte kan installere en IRC <span
              class="emphasis"><em>bot</em></span>(en robot som kobles til en IRC tjener og kan styres av denne kanalen). Denne boten er ofte brukt til å dele ulovlige filer (uautoriserte kopier av filmer eller programvare, og så videre). En besluttsom angriper kan ønske å gå enda lengre. <code
              class="literal">www-data</code>-kontoen gir ikke full tilgang til maskinen, og angriperen vil prøve å få administratorrettigheter. Nå, dette skal ikke være mulig, men hvis nettprogrammet ikke var oppdatert, er sjansene at kjernen og andre programmer er utdatert også; dette følger noen ganger av en avgjørelse fra administrator som, til tross for å vite om sikkerhetsproblemet, har unnlatt å oppgradere systemet siden det ikke er noen lokale brukere. Angriperen kan så dra nytte av denne andre sårbarheten for å få rot-tilgang.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>VOCABULARY</em></span> Opptrapping av privilegier</strong></p></div></div></div><div
              class="para">
				Dette begrepet omfatter alt som kan anvendes for å oppnå ytterligere tillatelser enn en gitt bruker bør normalt ha. <code
                class="command">sudo</code>.programmet er utviklet nettopp med det formål å gi administrative rettigheter til enkelte brukere. Men det samme begrepet brukes også for å beskrive handlingen når en angriper utnytter en sårbarhet å oppnå utilbørlige rettigheter.
			</div></div><div
            class="para">
				Nå eier angriper maskinen; og de vil vanligvis prøve å holde på dette privilegiet så lenge som mulig. Dette innebærer å installere en <span
              class="emphasis"><em>rootkit</em></span>, et program som vil erstatte enkelte komponentene i systemet, slik at angriperen vil kunne få administratorrettigheter igjen på et senere tidspunkt; rootkit forsøker også å skjule sin egen eksistens samt eventuelle spor etter inntrengning. En skadelig <code
              class="command">ps</code>-program vil unngå å liste noen prosesser, <code
              class="command">netstat</code>vil ikke liste somn av de aktive forbindelsene, og så videre. Ved hjelp av rotrettigheter, var angriperen i stand til å observere hele systemet, men fant ikke viktige data; slik at de vil prøve å få tilgang til andre maskiner i bedriftens nettverk. Analysere administratorkontoen og historiefiler, finner angriperen hvilke maskiner som rutinemessig er benyttet. Ved å erstatte <code
              class="command">sudo</code> eller <code
              class="command">ssh</code> med en skadelig program, kan angriperen avskjære noen av administratorens passord, som de vil bruke på de oppdagede tjenerne ... og inntrengingen kan forplante seg derfra.
			</div><div
            class="para">
				Dette blir et marerittscenario som kan forebygges ved flere tiltak. De neste avsnittene beskriver noen av disse tiltakene.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.choosing-the-software-wisely"></a>14.6.3. Kloke valg av programvare</h3></div></div></div><div
            class="para">
				Once the potential security problems are known, they must be taken into account at each step of the process of deploying a service, especially when choosing the software to install. Many web sites, such as <code
              class="literal">SecurityFocus.com</code>, keep a list of recently-discovered vulnerabilities, which can give an idea of a security track record before some particular software is deployed. Of course, this information must be balanced against the popularity of said software: a more widely-used program is a more tempting target, and it will be more closely scrutinized as a consequence. On the other hand, a niche program may be full of security holes that never get publicized due to a lack of interest in a security audit.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>VOCABULARY</em></span> Security audit</strong></p></div></div></div><div
              class="para">
				A security audit is the process of thoroughly reading and analyzing the source code of some software, looking for potential security vulnerabilities it could contain. Such audits are usually proactive and they are conducted to ensure a program meets certain security requirements.
			</div></div><div
            class="para">
				In the Free Software world, there is generally ample room for choice, and choosing one piece of software over another should be a decision based on the criteria that apply locally. More features imply an increased risk of a vulnerability hiding in the code; picking the most advanced program for a task may actually be counter-productive, and a better approach is usually to pick the simplest program that meets the requirements.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>VOCABULARY</em></span> Zero-day exploit</strong></p></div></div></div><div
              class="para">
				A <span
                class="emphasis"><em>zero-day exploit</em></span> attack is hard to prevent; the term covers a vulnerability that is not yet known to the authors of the program.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.managing-a-machine-as-a-whole"></a>14.6.4. Managing a Machine as a Whole</h3></div></div></div><div
            class="para">
				Most Linux distributions install by default a number of Unix services and many tools. In many cases, these services and tools are not required for the actual purposes for which the administrator set up the machine. As a general guideline in security matters, unneeded software is best uninstalled. Indeed, there is no point in securing an FTP server, if a vulnerability in a different, unused service can be used to get administrator privileges on the whole machine.
			</div><div
            class="para">
				By the same reasoning, firewalls will often be configured to only allow access to services that are meant to be publicly accessible.
			</div><div
            class="para">
				Current computers are powerful enough to allow hosting several services on the same physical machine. From an economic viewpoint, such a possibility is interesting: only one computer to administrate, lower energy consumption, and so on. From the security point of view, however, such a choice can be a problem. One compromised service can bring access to the whole machine, which in turn compromises the other services hosted on the same computer. This risk can be mitigated by isolating the services. This can be attained either with virtualization (each service being hosted in a dedicated virtual machine or container), or with AppArmor/SELinux (each service daemon having an adequately designed set of permissions).
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.users-are-players"></a>14.6.5. Users Are Players</h3></div></div></div><div
            class="para">
				Discussing security immediately brings to mind protection against attacks by anonymous crackers hiding in the Internet jungle; but an often-forgotten fact is that risks also come from inside: an employee about to leave the company could download sensitive files on the important projects and sell them to competitors, a negligent salesman could leave their desk without locking their session during a meeting with a new prospect, a clumsy user could delete the wrong directory by mistake, and so on.
			</div><div
            class="para">
				The response to these risks can involve technical solutions: no more than the required permissions should be granted to users, and regular backups are a must. But in many cases, the appropriate protection is going to involve training users to avoid the risks.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>QUICK LOOK</em></span> <span
                        class="pkg pkg">autolog</span></strong></p></div></div></div><div
              class="para">
				The <span
                class="pkg pkg">autolog</span> package provides a program that automatically disconnects inactive users after a configurable delay. It also allows killing user processes that persist after a session ends, thereby preventing users from running daemons.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.physical-security"></a>14.6.6. Physical Security</h3></div></div></div><div
            class="para">
				There is no point in securing the services and networks if the computers themselves are not protected. Important data deserve being stored on hot-swappable hard disks in RAID arrays, because hard disks fail eventually and data availability is a must. But if any pizza delivery boy can enter the building, sneak into the server room and run away with a few selected hard disks, an important part of security is not fulfilled. Who can enter the server room? Is access monitored? These questions deserve consideration (and an answer) when physical security is being evaluated.
			</div><div
            class="para">
				Physical security also includes taking into consideration the risks for accidents such as fires. This particular risk is what justifies storing the backup media in a separate building, or at least in a fire-proof strongbox.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.17.9.9"></a>14.6.7. Legal Liability</h3></div></div></div><div
            class="para">
				An administrator is, more or less implicitly, trusted by their users as well as the users of the network in general. They should therefore avoid any negligence that malevolent people could exploit.
			</div><div
            class="para">
				An attacker taking control of your machine then using it as a forward base (known as a “relay system”) from which to perform other nefarious activities could cause legal trouble for you, since the attacked party would initially see the attack coming from your system, and therefore consider you as the attacker (or as an accomplice). In many cases, the attacker will use your server as a relay to send spam, which shouldn't have much impact (except potentially registration on black lists that could restrict your ability to send legitimate emails), but won't be pleasant nevertheless. In other cases, more important trouble can be caused from your machine, for instance denial of service attacks. This will sometimes induce loss of revenue, since the legitimate services will be unavailable and data can be destroyed; sometimes this will also imply a real cost, because the attacked party can start legal proceedings against you. Rights-holders can sue you if an unauthorized copy of a work protected by copyright law is shared from your server, as well as other companies compelled by service level agreements if they are bound to pay penalties following the attack from your machine.
			</div><div
            class="para">
				When these situations occur, claiming innocence is not usually enough; at the very least, you will need convincing evidence showing suspect activity on your system coming from a given IP address. This won't be possible if you neglect the recommendations of this chapter and let the attacker obtain access to a privileged account (root, in particular) and use it to cover their tracks.
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.selinux.html"><strong>Forrige</strong>14.5. Introduksjon til SELinux</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Opp</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Hjem</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.dealing-with-compromised-machine.html"><strong>Neste</strong>14.7. Dealing with a Compromised Machine</a></li></ul></body></html>
