<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">8.2. Oppsett av nettverket</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-nb-NO-1.0-1" /><meta
        name="keywords"
        content="Oppsett, Lokalisering, Localer, Nettverk, Navneoppslag, Brukere, Grupper, Kontoer, Kommandolinjetolker, Skall, Utskrift, Oppstartslaster, Kjernekompilering" /><link
        rel="home"
        href="index.html"
        title="Håndbok for Debian-administratoren" /><link
        rel="up"
        href="basic-configuration.html"
        title="Kapittel 8. Grunnleggende oppsett: Nettverk, kontoer, utskrift ..." /><link
        rel="prev"
        href="basic-configuration.html"
        title="Kapittel 8. Grunnleggende oppsett: Nettverk, kontoer, utskrift ..." /><link
        rel="next"
        href="sect.hostname-name-service.html"
        title="8.3. Sette vertsnavnet, og sette opp navntjenesten" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/nb-NO/stable/sect.network-config.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="basic-configuration.html"><strong>Forrige</strong></a></li><li
          class="home">Håndbok for Debian-administratoren</li><li
          class="next"><a
            accesskey="n"
            href="sect.hostname-name-service.html"><strong>Neste</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.network-config"></a>8.2. Oppsett av nettverket</h2></div></div></div><div
          class="sidebar"><a
            xmlns=""
            id="sidebar.networking-basics"></a><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>DET GRUNNLEGGENDE</em></span> Viktige nettverkskonsepter (Ethernet, IP-adresse, subnett, kringkasting)</strong></p></div></div></div><a
            id="id-1.11.6.2.2"
            class="indexterm"></a><a
            id="id-1.11.6.2.3"
            class="indexterm"></a><a
            id="id-1.11.6.2.4"
            class="indexterm"></a><a
            id="id-1.11.6.2.5"
            class="indexterm"></a><a
            id="id-1.11.6.2.6"
            class="indexterm"></a><a
            id="id-1.11.6.2.7"
            class="indexterm"></a><a
            id="id-1.11.6.2.8"
            class="indexterm"></a><div
            class="para">
			De fleste moderne lokale nettverk bruker Ethernet-protokollen, der data deles inn i små blokker kalt rammer, som sendes over ledningen én om gangen. Datahastigheten varierer fra 10 Mb/s for eldre Ethernet-kort til 10 Gb/s i de nyeste kortene (med den vanligste hastigheten for tiden økende fra 100 Mb/s til 1 Gb/s). De mest brukte kablene kalles 10BASE-T, 100BASE-T, 1000BASE-T eller 10GBASE-T, avhengig av hastigheten de med sikkerhet kan gi (T står for «twisted pair»). Disse kablene ender i en RJ45-kontakt. Det finnes andre kabeltyper, som mest brukes for hastigheter på 1 Gb/s og oppover.
		</div><a
            id="id-1.11.6.2.10"
            class="indexterm"></a><a
            id="id-1.11.6.2.11"
            class="indexterm"></a><div
            class="para">
			En IP-adresse er et nummer som brukes til å identifisere en datamaskins nettverksgrensesnitt, enten på et lokalt nettverk eller Internett. I den nå mest utbredte versjonen av IP (IPv4) består dette tallet av 32 bit, vanligvis skrevet som 4 tall atskilt med punktum (f.eks. <code
              class="literal">192.168.0.1</code>), hvert tall mellom 0 og 255 (inklusivt, som tilsvarer 8 bit data). Den neste versjonen av protokollen utvider dette adresserommet til 128 bit, og disse adressene skrives som en serie av heksadesimale tall atskilt med kolon (for eksempel 2001:0db8:13bb:0002:0000:0000:0000:0020, eller forkortet, 2001:db8:13bb:2::20).
		</div><a
            id="id-1.11.6.2.13"
            class="indexterm"></a><a
            id="id-1.11.6.2.14"
            class="indexterm"></a><a
            id="id-1.11.6.2.15"
            class="indexterm"></a><div
            class="para">
			I sin binærkode definerer en nettverksmaske (nettmaske) hvilken del av en IP-adresse som samsvarer med nettverket, resten spesifiserer maskinen. I eksemplet med oppsett av en statisk IPv4-adresse gitt her, nettverksmaske <code
              class="literal">255.255.255.0</code> (binært med 24 «1»-ere fulgt av 8 «0»-er) indikerer at de første 24 bit av IP-adressen tilsvarer nettverksadressen, og de andre 8 er spesifikke for maskinen. I IPv6, for lesbarheten, er bare antallet «1»-ere angitt; nettmasken for et IPv6-nettverk kan dermed være <code
              class="literal">64</code>.
		</div><div
            class="para">
			Nettverksadressen er en IP-adresse der den delen som beskriver maskinens nummer er 0. Området for IPv4-adresser i et fullstendig nett er ofte angitt med syntaksen <span
              class="emphasis"><em>a.b.c.d/e</em></span>, der <span
              class="emphasis"><em>a.b.c.d</em></span> er nettverksadressen og, <span
              class="emphasis"><em>e</em></span> er det antall bit som berører nettverksdelen i en IP-adresse. Eksempel-nettverket skal da skrives <code
              class="literal">192.168.0.0/24</code>. Syntaksen er tilsvarende i IPv6: <code
              class="literal">2001:db8:13bb:2::/64</code>.
		</div><a
            id="id-1.11.6.2.18"
            class="indexterm"></a><a
            id="id-1.11.6.2.19"
            class="indexterm"></a><div
            class="para">
			En ruter er en maskin som forbinder flere nettverk med hverandre. All trafikk som kommer via en ruter blir guidet til riktig nettverk. For å gjøre dette analyserer ruteren innkommende pakker, og viderekobler dem ut fra IP-adressen til bestemmelsesstedet. Ruteren er ofte kjent som en innfallsport; med dette oppsettet fungerer den som en maskin som bidrar til å nå utover et lokalt nettverk (mot et utvidet nettverk, slik som Internett).
		</div><a
            id="id-1.11.6.2.21"
            class="indexterm"></a><div
            class="para">
			Den spesielle kringkastingsadressen forbinder alle stasjonene i et nettverk. Nesten aldri «rutet», funger den bare på det aktuelle nettverket. Nærmere bestemt betyr dette at en datapakke adressert til kringkastingsadressen aldri passerer gjennom ruteren.
		</div><div
            class="para">
			Dette kapittelet fokuserer på IPv4-adresser, siden de er de mest vanlige i dag. Vi går nærmere inn på detaljene i IPv6-protokollen i <a
              class="xref"
              href="sect.ipv6.html">Seksjon 10.5, «IPv6»</a>, men begrepene forblir de samme.
		</div></div><div
          class="para">
			The network is automatically configured during the initial installation. If Network Manager gets installed (which is generally the case for full desktop installations), then it might be that no configuration is actually required (for example, if you rely on DHCP on a wired connection and have no specific requirements). If a configuration is required (for example for a WiFi interface), then it will create the appropriate file in <code
            class="filename">/etc/NetworkManager/system-connections/</code>.
		</div><div
          class="para">
			If Network Manager is not installed, then the installer will configure <span
            class="pkg pkg">ifupdown</span> by creating the <code
            class="filename">/etc/network/interfaces</code> file. A line starting with <code
            class="literal">auto</code> gives a list of interfaces to be automatically configured on boot by the <code
            class="literal">networking</code> service.
		</div><div
          class="para">
			In a server context, <span
            class="pkg pkg">ifupdown</span> is thus the network configuration tool that you usually get. That is why we will cover it in the next sections.
		</div><a
          id="id-1.11.6.6"
          class="indexterm"></a><a
          id="id-1.11.6.7"
          class="indexterm"></a><a
          id="id-1.11.6.8"
          class="indexterm"></a><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>ALTERNATIV</em></span> NetworkManager</strong></p></div></div></div><a
            id="id-1.11.6.9.2"
            class="indexterm"></a><div
            class="para">
			If Network Manager is particularly recommended in roaming setups (see <a
              class="xref"
              href="sect.network-config.html#sect.roaming-network-config">Seksjon 8.2.5, «Automatisk nettverksoppsett for roaming-brukere»</a>), it is also perfectly usable as the default network management tool. You can create “System connections” that are used as soon as the computer boots either manually with a <code
              class="filename">.ini</code>-like file in <code
              class="filename">/etc/NetworkManager/system-connections/</code> or through a graphical tool (<code
              class="command">nm-connection-editor</code>). Just remember to deactivate all entries in <code
              class="filename">/etc/network/interfaces</code> if you want Network Manager to handle them. <div
              xmlns=""
              class="url">→ <a
                xmlns="http://www.w3.org/1999/xhtml"
                href="https://wiki.gnome.org/Projects/NetworkManager/SystemSettings">https://wiki.gnome.org/Projects/NetworkManager/SystemSettings</a></div> <div
              xmlns=""
              class="url">→ <a
                xmlns="http://www.w3.org/1999/xhtml"
                href="https://developer.gnome.org/NetworkManager/1.6/ref-settings.html">https://developer.gnome.org/NetworkManager/1.6/ref-settings.html</a></div>
		</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.interface-ethernet"></a>8.2.1. Ethernet-grensesnitt</h3></div></div></div><div
            class="para">
				Hvis datamaskinen har et Ethernet-kort, må det IP-nettet som er forbundet med det, bli satt opp ved å velge blant en av to metoder. Den enkleste metoden er dynamisk oppsett med DHCP, og det krever en DHCP-tjenermaskin i det lokale nettverket. Det kan indikere et ønsket vertsnavn, tilsvarende <code
              class="literal">hostname</code>-innstillingen i eksempelet nedenfor. DHCP-tjeneren sender deretter oppsettsinnstillinger for det aktuelle nettverket.
			</div><a
            id="id-1.11.6.10.3"
            class="indexterm"></a><a
            id="id-1.11.6.10.4"
            class="indexterm"></a><div
            class="example"><a
              xmlns=""
              id="example.config-dhcp"></a><p
              class="title"><strong>Eksempel 8.1. Oppsett av DHCP</strong></p><div
              class="example-contents"><pre
                class="programlisting">
auto enp0s31f6
iface enp0s31f6 inet dhcp
  hostname arrakis
</pre></div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>IN PRACTICE</em></span> Names of network interfaces</strong></p></div></div></div><a
              id="id-1.11.6.10.6.2"
              class="indexterm"></a><a
              id="id-1.11.6.10.6.3"
              class="indexterm"></a><a
              id="id-1.11.6.10.6.4"
              class="indexterm"></a><a
              id="id-1.11.6.10.6.5"
              class="indexterm"></a><div
              class="para">
				By default, the kernel attributes generic names such a <code
                class="literal">eth0</code> (for wired Ethernet) or <code
                class="literal">wlan0</code> (for WiFi) to the network interfaces. The number in those names is a simple incremental counter representing the order in which they have been detected. With modern hardware, that order might change for each reboot and thus the default names are not reliable.
			</div><div
              class="para">
				Fortunately, systemd and udev are able to rename the interfaces as soon as they appear. The default name policy is defined by <code
                class="filename">/lib/systemd/network/99-default.link</code> (see <span
                class="citerefentry"><span
                  class="refentrytitle">systemd.link</span>(5)</span> for an explanation of the <code
                class="literal">NamePolicy</code> entry in that file). In practice, the names are often based on the device's physical location (as guessed by where they are connected) and you will see names starting with <code
                class="literal">en</code> for wired ethernet and <code
                class="literal">wl</code> for WiFi. In the example above, the rest of the name indicates, in abbreviated form, a PCI (<code
                class="literal">p</code>) bus number (<code
                class="literal">0</code>), a slot number (<code
                class="literal">s31</code>), a function number (<code
                class="literal">f6</code>).
			</div><div
              class="para">
				Obviously, you are free to override this policy and/or to complement it to customize the names of some specific interfaces. You can find out the names of the network interfaces in the output of <code
                class="command">ip addr</code> (or as filenames in <code
                class="filename">/sys/class/net/</code>).
			</div></div><div
            class="para">
				Et «statisk» oppsett må angi nettverksinnstillinger på en bestemt måte. Dette inkluderer minst IP-adressen og nettverksmasken, og noen ganger er også kringkastingsadresser oppført. En ruter som kobler til omverdenen blir spesifisert som en port (gateway).
			</div><div
            class="example"><a
              xmlns=""
              id="example.static-network"></a><p
              class="title"><strong>Eksempel 8.2. Statisk oppsett</strong></p><div
              class="example-contents"><pre
                class="programlisting">
auto enp0s31f6
iface enp0s31f6 inet static
  address 192.168.0.3
  netmask 255.255.255.0
  broadcast 192.168.0.255
  network 192.168.0.0
  gateway 192.168.0.1
</pre></div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>MERK</em></span> Flere adresser</strong></p></div></div></div><div
              class="para">
				Det er ikke bare mulig å knytte flere grensesnitt til et enkelt, fysisk nettverkskort, men også flere IP-adresser til et enkelt grensesnitt. Merk deg også at en IP-adresse kan tilsvare hvilket som helst antall navn via DNS, og at et navn også kan tilsvare et hvilket som helst antall numeriske IP-adresser.
			</div><div
              class="para">
				Som du sikkert gjetter, kan oppsett være nokså komplekst, men disse alternativene er kun brukt i helt spesielle tilfeller. Eksemplene nevnt her er typiske for vanlige oppsett.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.interface-wireless"></a>8.2.2. Wireless Interface</h3></div></div></div><a
            id="id-1.11.6.11.2"
            class="indexterm"></a><div
            class="para">
				Getting wireless network cards to work can be a bit more challenging. First of all, they often require the installation of proprietary firmwares which are not installed by default in Debian. Then wireless networks rely on cryptography to restrict access to authorized users only, this implies storing some secret key in the network configuration. Let's tackle those topics one by one.
			</div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.11.6.11.4"></a>8.2.2.1. Installing the required firmwares</h4></div></div></div><a
              id="id-1.11.6.11.4.2"
              class="indexterm"></a><a
              id="id-1.11.6.11.4.3"
              class="indexterm"></a><div
              class="para">
					First you have to enable the non-free repository in APT's sources.list file: see <a
                class="xref"
                href="apt.html#sect.apt-sources.list">Seksjon 6.1, «Å fylle inn <code
                  class="filename">sources.list</code>-filen»</a> for details about this file. Many firmware are proprietary and are thus located in this repository. You can try to skip this step if you want, but if the next step doesn't find the required firmware, retry after having enabled the non-free section.
				</div><div
              class="para">
					Then you have to install the appropriate <code
                class="literal">firmware-*</code> packages. If you don't know which package you need, you can install the <span
                class="pkg pkg">isenkram</span> package and run its <code
                class="command">isenkram-autoinstall-firmware</code> command. The packages are often named after the hardware manufacturer or the corresponding kernel module: <span
                class="pkg pkg">firmware-iwlwifi</span> for Intel wireless cards, <span
                class="pkg pkg">firmware-atheros</span> for Qualcomm Atheros, <span
                class="pkg pkg">firmware-ralink</span> for Ralink, etc. A reboot is then recommended because the kernel driver usually looks for the firmware files when it is first loaded and no longer afterwards.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.11.6.11.5"></a>8.2.2.2. Wireless specific entries in <code
                      class="filename">/etc/network/interfaces</code></h4></div></div></div><a
              id="id-1.11.6.11.5.2"
              class="indexterm"></a><div
              class="para">
					<span
                class="emphasis"><em>ifupdown</em></span> is able to manage wireless interfaces but it needs the help of the <span
                class="pkg pkg">wpasupplicant</span> package which provides the required integration between <span
                class="emphasis"><em>ifupdown</em></span> and the <code
                class="command">wpa_supplicant</code> command used to configure the wireless interfaces (when using WPA/WPA2 encryption). The usual entry in <code
                class="filename">/etc/network/interfaces</code> needs to be extended with two supplementary parameters to specify the name of the wireless network (aka its SSID) and the <span
                class="emphasis"><em>Pre-Shared Key</em></span> (PSK).
				</div><div
              class="example"><a
                xmlns=""
                id="example.config-wireless"></a><p
                class="title"><strong>Eksempel 8.3. DHCP configuration for a wireless interface</strong></p><div
                class="example-contents"><pre
                  class="programlisting">
auto wlp4s0
iface wlp4s0 inet dhcp
  wpa-ssid Falcot
  wpa-psk ccb290fd4fe6b22935cbae31449e050edd02ad44627b16ce0151668f5f53c01b
</pre></div></div><div
              class="para">
					The <code
                class="literal">wpa-psk</code> parameter can contain either the plain text passphrase or its hashed version generated with <code
                class="command">wpa_passphrase <em
                  class="replaceable">SSID</em> <em
                  class="replaceable">passphrase</em></code>. If you use an unencrypted wireless connection, then you should put a <code
                class="literal">wpa-key-mgmt NONE</code> and no <code
                class="literal">wpa-psk</code> entry. For more information about the possible configuration options, have a look at <code
                class="filename">/usr/share/doc/wpasupplicant/README.Debian.gz</code>.
				</div><div
              class="para">
					At this point, you should consider restricting the read permissions on <code
                class="filename">/etc/network/interfaces</code> to the root user only since the file contains a private key that not all users should have access to.
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>HISTORY</em></span> WEP encryption</strong></p></div></div></div><a
                id="id-1.11.6.11.5.7.2"
                class="indexterm"></a><div
                class="para">
					Usage of the deprecated WEP encryption protocol is possible with the <span
                  class="pkg pkg">wireless-tools</span> package. See <code
                  class="filename">/usr/share/doc/wireless-tools/README.Debian</code> for instructions.
				</div></div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.ppp-rtc"></a>8.2.3. Forbinde PPP gjennom et PSTN-modem</h3></div></div></div><a
            id="id-1.11.6.12.2"
            class="indexterm"></a><a
            id="id-1.11.6.12.3"
            class="indexterm"></a><a
            id="id-1.11.6.12.4"
            class="indexterm"></a><a
            id="id-1.11.6.12.5"
            class="indexterm"></a><div
            class="para">
				Et punkt til punkt (PPP) etablerer en periodisk forbindelse. Dette er den mest vanlige løsning for tilkoblinger med et telefonmodem («PSTN-modem», ettersom forbindelsen går over det offentlige, svitsjede telefonnettet).
			</div><div
            class="para">
				En tilkobling via telefonmodem krever en konto med en aksessleverandør, inkludert et telefonnummer, brukernavn, passord, og noen ganger skal det brukes en autentiseringsprotokoll. En slik forbindelse er satt opp ved hjelp av verktøyet <code
              class="command">pppconfig</code> i Debian-pakken med samme navn. Som standard setter det opp en forbindelse som heter <code
              class="literal">provider</code> (som i Internett-leverandør). Når du er i tvil om autentiseringsprotokollen, velg <span
              class="emphasis"><em>PAP</em></span>: Den tilbys av de fleste Internett-leverandører.
			</div><a
            id="id-1.11.6.12.8"
            class="indexterm"></a><a
            id="id-1.11.6.12.9"
            class="indexterm"></a><div
            class="para">
				Etter å ha satt opp blir det mulig å koble til med kommandoen <code
              class="command">pon</code> (gi den navnet på tilkoblingen som et parameter, når standardverdien <code
              class="literal">provider</code> ikke er hensiktsmessig). Forbindelsen blir koblet fra med kommandoen <code
              class="command">poff</code>. Disse to kommandoer kan utføres av root-brukeren, eller av en annen bruker, forutsatt at de er medlem i gruppen <code
              class="literal">dip</code>.
			</div><a
            id="id-1.11.6.12.11"
            class="indexterm"></a><a
            id="id-1.11.6.12.12"
            class="indexterm"></a></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.adsl"></a>8.2.4. Tilkobling med et ADSL-modem</h3></div></div></div><a
            id="id-1.11.6.13.2"
            class="indexterm"></a><a
            id="id-1.11.6.13.3"
            class="indexterm"></a><a
            id="id-1.11.6.13.4"
            class="indexterm"></a><div
            class="para">
				Fellesbetegnelsen «ADSL-modem» dekker en rekke enheter med svært ulike oppgaver. Enklest å bruke med Linux er modemene som har et Ethernet-grensesnitt (og ikke bare et USB-grensesnitt). Disse pleier å være populære. De fleste ADSL Internett-leverandører låner ut (eller leaser) en «boks» med Ethernet-grensesnitt. Avhengig av typen modem, er det stor variasjon i oppsettet som kreves.
			</div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.adsl-pppoe"></a>8.2.4.1. Modemer som støtter PPPOE</h4></div></div></div><a
              id="id-1.11.6.13.6.2"
              class="indexterm"></a><a
              id="id-1.11.6.13.6.3"
              class="indexterm"></a><div
              class="para">
					Noen Ethernet-modemer arbeider med PPPoE-protokollen (Point to Point Protocol over Ethernet). Verktøyet <code
                class="command">pppoeconf</code> (fra pakken med samme navn) vil sette opp tilkoblingen. For å gjøre dette endrer den filen <code
                class="filename">/etc/ppp/peers/dsl-provider</code> med innstillingene gitt, og registrerer påloggingsinformasjonen i filene <code
                class="filename">/etc/ppp/pap-secrets</code> og <code
                class="filename">/etc/ppp/chap-secrets</code>. Det anbefales å godta alle endringer som foreslås.
				</div><div
              class="para">
					Så snart dette oppsettet er fullført, kan du åpne ADSL-tilkobling med kommandoen, <code
                class="command">pon dsl-provider</code>, og koble den fra med <code
                class="command">poff dsl-provider</code>.
				</div><a
              id="id-1.11.6.13.6.6"
              class="indexterm"></a><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>TIPS</em></span> som starter <code
                          class="command">ppp</code> ved oppstart</strong></p></div></div></div><a
                id="id-1.11.6.13.6.7.2"
                class="indexterm"></a><a
                id="id-1.11.6.13.6.7.3"
                class="indexterm"></a><div
                class="para">
					PPP-forbindelser over ADSL er, per definisjon, periodiske. Siden de vanligvis ikke faktureres etter tidsbruk, er det få motforestillinger mot å alltid holde dem åpne. Standardmåtene å gjøre det på, er å bruke init-systemet.
				</div><div
                class="para">
					With systemd, adding an automatically restarting task for the ADSL connection is a simple matter of creating a “unit file” such as <code
                  class="filename">/etc/systemd/system/adsl-connection.service</code>, with contents such as the following:
				</div><pre
                class="programlisting">[Unit]
Description=ADSL connection

[Service]
Type=forking
ExecStart=/usr/sbin/pppd call dsl-provider
Restart=always

[Install]
WantedBy=multi-user.target</pre><div
                class="para">
					Så snart denne unit-filen er definert, må den aktiveres med <code
                  class="command">systemctl enable adsl-connection</code>. Så kan sløyfen startes manuelt med <code
                  class="command">systemctl start adsl-connection</code>. Den vil også bli startet automatisk ved oppstart.
				</div><div
                class="para">
					På systemer som ikke bruker <code
                  class="command">systemd</code> (medregnet <span
                  class="distribution distribution">Wheezy</span> og tidligere versjoner av Debian), fungerer standard SystemV init annerledes. I slike systemer er alt som er nødvendig å legge til en linje som følgende ved slutten av <code
                  class="filename">/etc/inittab</code>-filen; så, hver gang forbindelsen blir frakoblet, vil <code
                  class="command">init</code> åpne den igjen.
				</div><pre
                class="programlisting">
adsl:2345:respawn:/usr/sbin/pppd call dsl-provider</pre><div
                class="para">
					For ADSL-forbindelser som daglig auto-frakobler, reduserer metoden varigheten av avbruddet.
				</div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.adsl-pptp"></a>8.2.4.2. Modemer som støtter PPTP</h4></div></div></div><a
              id="id-1.11.6.13.7.2"
              class="indexterm"></a><div
              class="para">
					Protokollen PPTP (Point-to-Point Tunneling Protocol) ble opprettet av Microsoft. I begynnelsen utplassert av ADSL, og ble raskt erstattet av PPPOE. Hvis denne protokollen er tvunget på deg, se <a
                class="xref"
                href="sect.virtual-private-network.html#sect.pptp">Seksjon 10.2.4, «PPTP»</a>.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.adsl-dhcp"></a>8.2.4.3. Modemer som støtter DHCP</h4></div></div></div><div
              class="para">
					Når et modem er koblet til datamaskinen med en Ethernet-kabel (krysset kabel), setter du vanligvis opp en nettverkstilkobling med DHCP på datamaskinen. Modemet fungerer automatisk som en standard systemport, og tar seg av ruting (som betyr at den håndterer nettverkstrafikk mellom datamaskinen og Internett).
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>DET GRUNNLEGGENDE</em></span> Krysset kabel for en direkte Ethernet-forbindelse</strong></p></div></div></div><a
                id="id-1.11.6.13.8.3.2"
                class="indexterm"></a><div
                class="para">
					Datamaskinenes nettverkskort forventes å motta data fra bestemte ledninger i kabelen, og sende sine data på andre. Når du kobler en datamaskin til et lokalt nettverk, kobler du vanligvis en kabel (rett eller i kryss) mellom nettverkskortet og en nettverksveksler eller svitsj. Men hvis du vil koble to datamaskiner direkte (uten mellomliggende svitsj eller nettverksbryter), må du rute signalet fra ett kort til mottakersiden av det andre kortet, og vice versa. Dette er hensikten med en krysset kabel, og grunnen til at den brukes.
				</div><div
                class="para">
					Merk at dette skillet er blitt nesten irrelevant over tid, ettersom moderne nettverkskort er i stand til å oppdage type kabel, presentere og tilpasse seg etter det. Så det vil ikke være uvanlig at begge typer kabel vil virke på et gitt sted.
				</div></div><div
              class="para">
					De fleste «ADSL-rutere» på markedet kan brukes slik, som de fleste av ADSL-modemene som leveres fra Internett-leverandørene.
				</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.roaming-network-config"></a>8.2.5. Automatisk nettverksoppsett for roaming-brukere</h3></div></div></div><a
            id="id-1.11.6.14.2"
            class="indexterm"></a><a
            id="id-1.11.6.14.3"
            class="indexterm"></a><div
            class="para">
				Mange Falcot-ingeniører har en bærbar datamaskin for profesjonell bruk, som de også bruker hjemme. Nettverksoppsettet avhenger av hvor den befinner seg. Hjemme kan det være et wifi-nettverk (beskyttet av en WPA-nøkkel), mens arbeidsplassen bruker et kablet nettverk for større sikkerhet og mer båndbredde.
			</div><div
            class="para">
				For å unngå å koble manuelt til eller fra det tilhørende nettverksgrensesnittet installerte administratorene pakken <span
              class="pkg pkg">network-manager</span> på disse flyttbare maskinene. Denne programvaren gjør at brukeren kan enkelt bytte fra ett nettverk til et annet ved hjelp av et lite ikon i systemstatusfeltet på det grafiske skrivebordet. Ved å klikke på dette ikonet vises en liste over tilgjengelige nettverk (både kablet og trådløst), slik at de rett og slett kan velge nettverket de ønsker å bruke. Programmet lagrer oppsett for nettverkene som brukeren allerede har koblet til, og bytter automatisk til det beste tilgjengelige nettverket når den gjeldende tilkoblingen faller ut.
			</div><div
            class="para">
				For å gjøre dette er programmet strukturert i to deler: En bakgrunnsprosess som kjører som root håndterer aktivering og oppsett av nettverksgrensesnitt, og et brukergrensesnitt kontroller denne bakgrunnsprosessen. PolicyKit håndterer de nødvendige fullmakter til å styre dette programmet, og Debian satte opp PolicyKit på en slik måte at medlemmer i netdev-gruppen kan legge til eller endre Network Manager-tilkoblinger.
			</div><div
            class="para">
				NetworkManager vet hvordan man skal håndtere ulike typer tilkoblinger (DHCP, manuelt oppsett, lokale nettverk), men bare hvis programmet selv har vært brukt til å sette opp. Dette er grunnen til at det systematisk vil ignorere alle nettverksgrensesnitt i <code
              class="filename">/etc/network/interfaces</code> som det ikke passer for. Ettersom NetworkManager ikke gir detaljer når ingen nettverkstilkoblinger vises, er den enkle måten å slette alt oppsett for grensesnitt som må håndteres av NetworkManager fra <code
              class="filename">/etc/network/interfaces</code>.
			</div><div
            class="para">
				Merk at dette programmet er installert som standard når «Desktop Environment»-oppgaven er valgt ved den første installasjonen.
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="basic-configuration.html"><strong>Forrige</strong>Kapittel 8. Grunnleggende oppsett: Nettverk, kont...</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Opp</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Hjem</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.hostname-name-service.html"><strong>Neste</strong>8.3. Sette vertsnavnet, og sette opp navntjenesten</a></li></ul></body></html>
