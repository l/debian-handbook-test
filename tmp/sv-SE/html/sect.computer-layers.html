<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">B.3. Hur en dator fungerar inuti: de olika lagren som är inblandade</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-sv-SE-1.0-1" /><meta
        name="keywords"
        content="BIOS, Kärna, Unix, Process, Hierarki, Grundläggande kommandon" /><link
        rel="home"
        href="index.html"
        title="Handbok för Debianadministratören" /><link
        rel="up"
        href="short-remedial-course.html"
        title="Appendix B. Kort snabbkurs" /><link
        rel="prev"
        href="sect.filesystem-hierarchy.html"
        title="B.2. Organisation av filsystemshierarkin" /><link
        rel="next"
        href="sect.kernel-role-and-tasks.html"
        title="B.4. Some Tasks Handled by the Kernel" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/sv-SE/stable/sect.computer-layers.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.filesystem-hierarchy.html"><strong>Föregående</strong></a></li><li
          class="home">Handbok för Debianadministratören</li><li
          class="next"><a
            accesskey="n"
            href="sect.kernel-role-and-tasks.html"><strong>Nästa</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.computer-layers"></a>B.3. Hur en dator fungerar inuti: de olika lagren som är inblandade</h2></div></div></div><div
          class="para">
			En dator betraktas ofta som något ganska abstrakt, och det synliga externa gränssnittet är mycket enklare än dess inre komplexitet. Sådan komplexitet komme från antalet delar som är involverade. Dessa delar kan dock betraktas i lager, där ett lager endas interagerar med de direkt ovanför eller under.
		</div><div
          class="para">
			En slutanvändaren kan klara sig utan att känna till dessa detaljer…så länge allt fungerar. Vid konfrontation med ett problem så som ”Internet fungerar inte!”, är det första man ska göra att försöka identifiera i vilket lager felet uppstår. Fungerar nätverkskortet (hårdara)? Hittas det av datorn? Kan Linux-kärnan se det? Är nätverksparametrarna korrekt konfigurerade? Alla dessa frågor isolerar ett specifikt lager och fokuserar på en potentiell källa till problemet.
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.hardware"></a>B.3.1. Det djupaste lagret: hårdvaran</h3></div></div></div><a
            id="id-1.21.6.4.2"
            class="indexterm"></a><a
            id="id-1.21.6.4.3"
            class="indexterm"></a><a
            id="id-1.21.6.4.4"
            class="indexterm"></a><a
            id="id-1.21.6.4.5"
            class="indexterm"></a><a
            id="id-1.21.6.4.6"
            class="indexterm"></a><a
            id="id-1.21.6.4.7"
            class="indexterm"></a><a
            id="id-1.21.6.4.8"
            class="indexterm"></a><a
            id="id-1.21.6.4.9"
            class="indexterm"></a><div
            class="para">
				Låt oss börja med den inledande påminnelsen om att en dator i första hand är en uppsättning hårdvarudelar. Generellt finns det ett huvudkort (känt som <span
              class="emphasis"><em>moderkort</em></span>) med en processor (eller flera processorer), lite RAM, styrenheter för andra enheter, för expansionskort (med styrenheter för andra enheter). Väsentliga bland dessa styrenheter är IDE (Parallell ATA), SCSI och Seriell ATA, då dessa ansluter lagringsenheter så som hårddiskar. Andra styrenheter inkluderar USB, som kan användas för att ansluta en stor mängd enheter (allt från webbkameror till termometrar, från tangentbord till hemautomationssystem) och IEEE 1394 (Firewire). Dessa styrenheter tillåter ofta anslutning av flera enheter, vilket leder till att det fullstända undersystemet som hanteras av en styrenhet ofta refereras till som en ”buss”. Expansionskort inkluderar grafikkort (till vilket bildskärmar ansluts), ljudkort, nätverkskort, o.s.v. Vissa morderkort har dessa funktioner inbyggda, och behöver därför inte expansionskort.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>I PRAKTIKEN</em></span> Kontrollera att hårdvaran fungerar</strong></p></div></div></div><div
              class="para">
				Att kontrollera att en bit hårdvara fungerar kan vara knepigt. Att bevisa att den inte fungerar kan å andra sidan vara ganska enkelt.
			</div><div
              class="para">
				En hårddisk består av snurrande plattor och flyttbara magnetiska huvuden. När en hårddisk strömsätts hörs ett karakteristiskt ljud från motorn som snurrar plattorna. Den avger också energi i form av värme. En hårddisk som förblir kall och tyst när den får ström är därför sannolikt trasig.
			</div><div
              class="para">
				Närvkerskort har ofta LED:ar som visar tillståndet för länken. Om en kabel som leder till en fungerande nätverkshubb eller switch ansluts kommer åtminstone en LED att tändas. Om ingen LED tänds är antingen kortet självt, nätverksenheten eller kabeln mellan dem trasig. Nästa steg är därför att testa varje komponent individuellt.
			</div><div
              class="para">
				Vissa expansionskort — speciellt 3D-grafikkort — har kylningsenheter, så som kylflänsar och/eller fläktar. Om fläkten inte snurrar även om kortet är strömsatt är en trolig förklaring att kortet är överhettat. Detta gäller också för processorn som finns på moderkortet.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.bios"></a>B.3.2. Uppstartaren: BIOS eller UEFI</h3></div></div></div><a
            id="id-1.21.6.5.2"
            class="indexterm"></a><a
            id="id-1.21.6.5.3"
            class="indexterm"></a><a
            id="id-1.21.6.5.4"
            class="indexterm"></a><div
            class="para">
				Hårdvara kan inte på egen hand utföra nyttiga uppgifter utan en motsvarande programvar som driver den. Att kontrollera och interagera med hårdvaran är därför syftet för operativsystemet och programmen. Dessa, å sin sida, kräver fungerande hårdvara för att köra.
			</div><div
            class="para">
				Denna symbios mellan hårdvara och programvara uppstår inte på egenhan. När datorm först startas upp krävs en del inledande inställning. Detta hanteras av BIOS eller UEFI, en bit programvara som finns inbyggd i moderkortet som automatiskt kör vid uppstart. Dess primära uppgift är att söka efter programvara som den kan lämna över kontrollen till. Vanligtvis, i BIOS-fallet, involverar detta att leta efter den första hårddisken med en startsektor (ocks känd som <span
              class="emphasis"><em>master boot record</em></span> (huvudstartsektor) eller <acronym
              class="acronym">MBR</acronym>), läsa in denna sektor och köra den. Därefter är BIOS vanligtvis inte involverat (förrän vid nästa uppstart). I fallet med UEFI involverar processen letande efter diskar för att hitta en specifik EFI-partition som innehåller vidare EFI-program att exekvera.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>VERKTYG</em></span> Inställning, BIOS/UEFI-konfigurationsverktyget</strong></p></div></div></div><a
              id="id-1.21.6.5.7.2"
              class="indexterm"></a><div
              class="para">
				The BIOS/UEFI also contains a piece of software called Setup, designed to allow configuring aspects of the computer. In particular, it allows choosing which boot device is preferred (for instance, the floppy disk or CD-ROM drive), setting the system clock, and so on. Starting Setup usually involves pressing a key very soon after the computer is powered on. This key is often <span
                class="keycap"><strong>Del</strong></span> or <span
                class="keycap"><strong>Esc</strong></span>, sometimes <span
                class="keycap"><strong>F2</strong></span> or <span
                class="keycap"><strong>F10</strong></span>. Most of the time, the choice is flashed on screen while booting.
			</div></div><div
            class="para">
				The boot sector (or the EFI partition), in turn, contains another piece of software, called the bootloader, whose purpose is to find and run an operating system. Since this bootloader is not embedded in the main board but loaded from disk, it can be smarter than the BIOS, which explains why the BIOS does not load the operating system by itself. For instance, the bootloader (often GRUB on Linux systems) can list the available operating systems and ask the user to choose one. Usually, a time-out and default choice is provided. Sometimes the user can also choose to add parameters to pass to the kernel, and so on. Eventually, a kernel is found, loaded into memory, and executed.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>NOTE</em></span> UEFI, a modern replacement to the BIOS</strong></p></div></div></div><a
              id="id-1.21.6.5.9.2"
              class="indexterm"></a><a
              id="id-1.21.6.5.9.3"
              class="indexterm"></a><div
              class="para">
				UEFI is a relatively recent development. Most new computers will support UEFI booting, but usually they also support BIOS booting alongside for backwards compatibility with operating systems that are not ready to exploit UEFI.
			</div><div
              class="para">
				This new system gets rid of some of the limitations of BIOS booting: with the usage of a dedicated partition, the bootloaders no longer need special tricks to fit in a tiny <span
                class="emphasis"><em>master boot record</em></span> and then discover the kernel to boot. Even better, with a suitably built Linux kernel, UEFI can directly boot the kernel without any intermediary bootloader. UEFI is also the basic foundation used to deliver <span
                class="emphasis"><em>Secure Boot</em></span>, a technology ensuring that you run only software validated by your operating system vendor.
			</div></div><div
            class="para">
				The BIOS/UEFI is also in charge of detecting and initializing a number of devices. Obviously, this includes the IDE/SATA devices (usually hard disk(s) and CD/DVD-ROM drives), but also PCI devices. Detected devices are often listed on screen during the boot process. If this list goes by too fast, use the <span
              class="keycap"><strong>Pause</strong></span> key to freeze it for long enough to read. Installed PCI devices that don't appear are a bad omen. At worst, the device is faulty. At best, it is merely incompatible with the current version of the BIOS or main board. PCI specifications evolve, and old main boards are not guaranteed to handle newer PCI devices.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.kernel"></a>B.3.3. The Kernel</h3></div></div></div><div
            class="para">
				Both the BIOS/UEFI and the bootloader only run for a few seconds each; now we are getting to the first piece of software that runs for a longer time, the operating system kernel. This kernel assumes the role of a conductor in an orchestra, and ensures coordination between hardware and software. This role involves several tasks including: driving hardware, managing processes, users and permissions, the filesystem, and so on. The kernel provides a common base to all other programs on the system.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.userspace-presentation"></a>B.3.4. The User Space</h3></div></div></div><div
            class="para">
				Although everything that happens outside of the kernel can be lumped together under “user space”, we can still separate it into software layers. However, their interactions are more complex than before, and the classifications may not be as simple. An application commonly uses libraries, which in turn involve the kernel, but the communications can also involve other programs, or even many libraries calling each other.
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.filesystem-hierarchy.html"><strong>Föregående</strong>B.2. Organisation av filsystemshierarkin</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Upp</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Hem</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.kernel-role-and-tasks.html"><strong>Nästa</strong>B.4. Some Tasks Handled by the Kernel</a></li></ul></body></html>
