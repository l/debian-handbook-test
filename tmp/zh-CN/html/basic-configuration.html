<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">第 8 章 基础配置：网络，账户，打印……</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-zh-CN-1.0-1" /><meta
        name="keywords"
        content="配置, 本地化, 地区设置, 网络, 名称解析, 用户, 用户组, 账户, 命令行解释器, Shell, 打印, Bootloader, 内核编译" /><link
        rel="home"
        href="index.html"
        title="Debian 管理员手册" /><link
        rel="up"
        href="index.html"
        title="Debian 管理员手册" /><link
        rel="prev"
        href="sect.common-procedures.html"
        title="7.2. 通常步骤" /><link
        rel="next"
        href="sect.network-config.html"
        title="8.2. 配置网络" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/zh-CN/stable/basic-configuration.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.common-procedures.html"><strong>上一页</strong></a></li><li
          class="home">Debian 管理员手册</li><li
          class="next"><a
            accesskey="n"
            href="sect.network-config.html"><strong>下一页</strong></a></li></ul><div
        xml:lang="zh-CN"
        class="chapter"
        lang="zh-CN"><div
          class="titlepage"><div><div><h1
                class="title"><a
                  xmlns=""
                  id="basic-configuration"></a>第 8 章 基础配置：网络，账户，打印……</h1></div></div></div><div
          class="toc"><dl
            class="toc"><dt><span
                class="section"><a
                  href="basic-configuration.html#sect.config-language-support">8.1. 用其他语言进行配置</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="basic-configuration.html#sect.default-language">8.1.1. 设置默认语言</a></span></dt><dt><span
                    class="section"><a
                      href="basic-configuration.html#sect.keyboard-config">8.1.2. 键盘配置</a></span></dt><dt><span
                    class="section"><a
                      href="basic-configuration.html#sect.utf8-migration">8.1.3. 迁移到 UTF-8</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.network-config.html">8.2. 配置网络</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.network-config.html#sect.interface-ethernet">8.2.1. Ethernet Interface</a></span></dt><dt><span
                    class="section"><a
                      href="sect.network-config.html#sect.ppp-rtc">8.2.2. Connecting with PPP through a PSTN Modem</a></span></dt><dt><span
                    class="section"><a
                      href="sect.network-config.html#sect.adsl">8.2.3. Connecting through an ADSL Modem</a></span></dt><dt><span
                    class="section"><a
                      href="sect.network-config.html#sect.roaming-network-config">8.2.4. Automatic Network Configuration for Roaming Users</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.hostname-name-service.html">8.3. Setting the Hostname and Configuring the Name Service</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.hostname-name-service.html#sect.name-resolution">8.3.1. Name Resolution</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.user-group-databases.html">8.4. User and Group Databases</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.user-group-databases.html#sect.etc-passwd">8.4.1. User List: <code
                        class="filename">/etc/passwd</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.user-group-databases.html#sect.etc-shadow">8.4.2. The Hidden and Encrypted Password File: <code
                        class="filename">/etc/shadow</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.user-group-databases.html#sect.account-modification">8.4.3. Modifying an Existing Account or Password</a></span></dt><dt><span
                    class="section"><a
                      href="sect.user-group-databases.html#sect.disabling-account">8.4.4. Disabling an Account</a></span></dt><dt><span
                    class="section"><a
                      href="sect.user-group-databases.html#sect.etc-group">8.4.5. Group List: <code
                        class="filename">/etc/group</code></a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.creating-accounts.html">8.5. Creating Accounts</a></span></dt><dt><span
                class="section"><a
                  href="sect.shell-environment.html">8.6. Shell Environment</a></span></dt><dt><span
                class="section"><a
                  href="sect.config-printing.html">8.7. Printer Configuration</a></span></dt><dt><span
                class="section"><a
                  href="sect.config-bootloader.html">8.8. Configuring the Bootloader</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.config-bootloader.html#sect.identify-disks">8.8.1. Identifying the Disks</a></span></dt><dt><span
                    class="section"><a
                      href="sect.config-bootloader.html#sect.config-lilo">8.8.2. Configuring LILO</a></span></dt><dt><span
                    class="section"><a
                      href="sect.config-bootloader.html#sect.config-grub">8.8.3. GRUB 2 Configuration</a></span></dt><dt><span
                    class="section"><a
                      href="sect.config-bootloader.html#sect.config-yaboot">8.8.4. For Macintosh Computers (PowerPC): Configuring Yaboot</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.config-misc.html">8.9. Other Configurations: Time Synchronization, Logs, Sharing Access…</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.config-misc.html#sect.timezone">8.9.1. Timezone</a></span></dt><dt><span
                    class="section"><a
                      href="sect.config-misc.html#sect.time-synchronization">8.9.2. Time Synchronization</a></span></dt><dt><span
                    class="section"><a
                      href="sect.config-misc.html#sect.rotation-logs">8.9.3. Rotating Log Files</a></span></dt><dt><span
                    class="section"><a
                      href="sect.config-misc.html#sect.sharing-admin-rights">8.9.4. Sharing Administrator Rights</a></span></dt><dt><span
                    class="section"><a
                      href="sect.config-misc.html#sect.fstab-mount-points">8.9.5. List of Mount Points</a></span></dt><dt><span
                    class="section"><a
                      href="sect.config-misc.html#sect.locate-updatedb">8.9.6. <code
                        class="command">locate</code> and <code
                        class="command">updatedb</code></a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.kernel-compilation.html">8.10. Compiling a Kernel</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.kernel-compilation.html#sect.kernel-compilation-prerequisites">8.10.1. Introduction and Prerequisites</a></span></dt><dt><span
                    class="section"><a
                      href="sect.kernel-compilation.html#sect.kernel-sources">8.10.2. 获取源代码</a></span></dt><dt><span
                    class="section"><a
                      href="sect.kernel-compilation.html#sect.config-kernel">8.10.3. Configuring the Kernel</a></span></dt><dt><span
                    class="section"><a
                      href="sect.kernel-compilation.html#sect.kernel-build">8.10.4. Compiling and Building the Package</a></span></dt><dt><span
                    class="section"><a
                      href="sect.kernel-compilation.html#sect.modules-build">8.10.5. Compiling External Modules</a></span></dt><dt><span
                    class="section"><a
                      href="sect.kernel-compilation.html#sect.kernel-patch">8.10.6. 选择内核补丁</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.kernel-installation.html">8.11. 安装内核</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.kernel-installation.html#sect.kernel-package">8.11.1. Debian 内核包特性</a></span></dt><dt><span
                    class="section"><a
                      href="sect.kernel-installation.html#sect.kernel-installation-with-dpkg">8.11.2. Installing with <code
                        class="command">dpkg</code></a></span></dt></dl></dd></dl></div><div
          class="highlights"><div
            class="para">
		A computer with a new installation created with <code
              class="command">debian-installer</code> is intended to be as functional as possible, but many services still have to be configured. Furthermore, it is always good to know how to change certain configuration elements defined during the initial installation process.
	</div></div><div
          class="para">
		这章综述我们称之为“基础配置”所包括的任何事项：网络、语言、地区、用户、用户组、打印、挂载点等。
	</div><div
          class="section"><div
            class="titlepage"><div><div><h2
                  class="title"><a
                    xmlns=""
                    id="sect.config-language-support"></a>8.1. 用其他语言进行配置</h2></div></div></div><a
            id="id-1.11.5.2"
            class="indexterm"></a><div
            class="para">
			如果你在法语环境下安装了系统，那么默认语言可能会被设置为法语。所以你最好知道你的安装器使用的是什么语言。如果对语言有要求而又设置错误了，你可以自己进行修改。
		</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>工具</em></span> <code
                        class="command">locale</code> 命令显示当前配置</strong></p></div></div></div><div
              class="para">
			The <code
                class="command">locale</code> command lists a summary of the current configuration of various locale parameters (date format, numbers format, etc.), presented in the form of a group of standard environment variables dedicated to the dynamic modification of these settings.
		</div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="sect.default-language"></a>8.1.1. 设置默认语言</h3></div></div></div><a
              id="id-1.11.5.5.2"
              class="indexterm"></a><a
              id="id-1.11.5.5.3"
              class="indexterm"></a><a
              id="id-1.11.5.5.4"
              class="indexterm"></a><div
              class="para">
				一个 locale 指一系列的区域设置。它不仅包括对文字语言的设置，也包括数字格式显示、日期、时间和货币，以及“按字母顺序排列规则”（正确地处理重音字符）。虽然这些参数可以被独立配置，我们仍建议您使用 locale 这个从地区形式最大化匹配一连贯参数的工具。这些 locales 一般以以下格式 <code
                class="literal"><em
                  class="replaceable">语言代码</em>_<em
                  class="replaceable">城市代码</em></code>，有时后缀也在指定字符集和编码中被使用。这是考虑到同一语言在不同区域之间使用习惯和印刷差异。
			</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>文化</em></span> 字符集</strong></p></div></div></div><a
                id="id-1.11.5.5.6.2"
                class="indexterm"></a><a
                id="id-1.11.5.5.6.3"
                class="indexterm"></a><a
                id="id-1.11.5.5.6.4"
                class="indexterm"></a><a
                id="id-1.11.5.5.6.5"
                class="indexterm"></a><a
                id="id-1.11.5.5.6.6"
                class="indexterm"></a><a
                id="id-1.11.5.5.6.7"
                class="indexterm"></a><div
                class="para">
				Historically, each locale has an associated “character set” (group of known characters) and a preferred “encoding” (internal representation for characters within the computer).
			</div><div
                class="para">
				最广泛使用的字符编码是基于拉丁字母、使用单个 byte 表达一个字符，被限制为最多256个字符。256个字符不足以覆盖所有欧洲语言，因此多编码系统非常有必要，这就是为何我们将 <span
                  class="emphasis"><em>ISO-8859-1</em></span> （即“Latin 1”）升级为 <span
                  class="emphasis"><em>ISO-8859-15</em></span> （即“Latin 9”），等等。
			</div><div
                class="para">
				Working with foreign languages often implied regular switches between various encodings and character sets. Furthermore, writing multilingual documents led to further, almost intractable problems. Unicode (a super-catalog of nearly all writing systems from all of the world's languages) was created to work around this problem. One of Unicode's encodings, UTF-8, retains all 128 ASCII symbols (7-bit codes), but handles other characters differently. Those are preceded by a specific escape sequence of a few bits, which implicitly defines the length of the character. This allows encoding all Unicode characters on a sequence of one or more bytes. Its use has been popularized by the fact that it is the default encoding in XML documents.
			</div><a
                id="id-1.11.5.5.6.11"
                class="indexterm"></a><a
                id="id-1.11.5.5.6.12"
                class="indexterm"></a><a
                id="id-1.11.5.5.6.13"
                class="indexterm"></a><div
                class="para">
				它是最广泛使用的编码，也是 Debian 发行版系统的默认选项。
			</div></div><div
              class="para">
				<span
                class="pkg pkg">locales</span> 包括所有应用“本土化”所需要的所有元素。安装过程中，该包将要求使用者选择一系列支持语言。该选择能在使用root帐号运行 <code
                class="command">dpkg-reconfigure locales</code> 改变。
			</div><div
              class="para">
				第一个让您回答的问题是选哪些“ locales ”来支持。选择所有英语国家（所有以<code
                class="literal">en_</code>开始的环境）是一种可能。如果主机上有外国用户，打开对应的语言环境支持不要犹豫。所有在本系统被打开支持的语言环境存储在 <code
                class="filename">/etc/locale.gen</code> 。它可以被手动编辑，但需要在你做任何改动后运行 <code
                class="command">locale-gen</code> 使改动生效。该命令将创建新添加的语言环境及其关联文件并移除过期的文件。
			</div><div
              class="para">
				第二个问题，标题 “系统环境的默认字符环境”请求设置默认的字符系统。该选择在美国是 <code
                class="literal">en_US.UTF-8</code>，英式发音者更习惯于 <code
                class="literal">en_GB.UTF-8</code> ，加拿大人喜欢 <code
                class="literal">en_CA.UTF-8</code> 或者对于法国人来说 <code
                class="literal">fr_CA.UTF-8</code>。<code
                class="filename">/etc/default/locale</code> 文件会保存这个变更。该设置将由 PAM 系统写入到所有登录用户会话的 <code
                class="varname">LANG</code> 环境变量。
			</div><a
              id="id-1.11.5.5.10"
              class="indexterm"></a><a
              id="id-1.11.5.5.11"
              class="indexterm"></a><a
              id="id-1.11.5.5.12"
              class="indexterm"></a><div
              class="sidebar"><a
                xmlns=""
                id="sidebar.intro-pam"></a><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>BEHIND THE SCENES</em></span> <code
                          class="filename">/etc/environment</code> and <code
                          class="filename">/etc/default/locale</code></strong></p></div></div></div><div
                class="para">
				<code
                  class="filename">/etc/environment</code> 文件为 <code
                  class="command">login</code> 、 <code
                  class="command">gdm</code>、 <code
                  class="command">ssh</code> 程序提供正确的环境变量。
			</div><div
                class="para">
				90这些应用不直接创建这些变量，而通过 PAM 系统的 <code
                  class="filename">pam_env.so</code> 模块。PAM（插入式验证模块）是一个提供身份验证、会话初始化和密码管理的模块库。<a
                  class="xref"
                  href="sect.ldap-directory.html#sect.config-pam">第 11.7.3.2 节 “Configuring PAM”</a> 是一个 PAM 配置样式。
			</div><div
                class="para">
				The <code
                  class="filename">/etc/default/locale</code> file works in a similar manner, but contains only the <code
                  class="varname">LANG</code> environment variable. Thanks to this split, some PAM users can inherit a complete environment without localization. Indeed, it is generally discouraged to run server programs with localization enabled; on the other hand, localization and regional settings are recommended for programs that open user sessions.
			</div><a
                id="id-1.11.5.5.13.5"
                class="indexterm"></a><a
                id="id-1.11.5.5.13.6"
                class="indexterm"></a></div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="sect.keyboard-config"></a>8.1.2. 键盘配置</h3></div></div></div><a
              id="id-1.11.5.6.2"
              class="indexterm"></a><a
              id="id-1.11.5.6.3"
              class="indexterm"></a><div
              class="para">
				甚至如果键盘布局在终端和图形模式中被设置成不同， Debian 也提供了一个简单的配置让它们两个工作：它基于 debconf 并由<span
                class="pkg pkg">keyboard-configuration</span> 包实现。使用 <code
                class="command">dpkg-reconfigure keyboard-configuration</code> 命令来重新设置键盘布局。
			</div><a
              id="id-1.11.5.6.5"
              class="indexterm"></a><a
              id="id-1.11.5.6.6"
              class="indexterm"></a><a
              id="id-1.11.5.6.7"
              class="indexterm"></a><div
              class="para">
				<a
                id="id-1.11.5.6.8.1"
                class="indexterm"></a>The questions are relevant to the physical keyboard layout (a standard PC keyboard in the US will be a “Generic 104 key”), then the layout to choose (generally “US”), and then the position of the AltGr key (right Alt). Finally comes the question of the key to use for the “Compose key”, which allows for entering special characters by combining keystrokes. Type successively <span
                class="keycap"><strong>Compose</strong></span> <span
                class="keycap"><strong>'</strong></span> <span
                class="keycap"><strong>e</strong></span> and produce an e-acute (“é”). All these combinations are described in the <code
                class="filename">/usr/share/X11/locale/en_US.UTF-8/Compose</code> file (or another file, determined according to the current locale indicated by <code
                class="filename">/usr/share/X11/locale/compose.dir</code>).
			</div><a
              id="id-1.11.5.6.9"
              class="indexterm"></a><a
              id="id-1.11.5.6.10"
              class="indexterm"></a><a
              id="id-1.11.5.6.11"
              class="indexterm"></a><a
              id="id-1.11.5.6.12"
              class="indexterm"></a><div
              class="para">
				注意，该处说明的是默认键盘布局下图形模式的键盘设定； GNOME 和 KDE 等环境，为每一个用户提供一个键位控制面板去设置他们的喜好键位。面板中也能提供一些特殊键位的扩展选项。
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="sect.utf8-migration"></a>8.1.3. 迁移到 UTF-8</h3></div></div></div><div
              class="para">
				The generalization of UTF-8 encoding has been a long awaited solution to numerous difficulties with interoperability, since it facilitates international exchange and removes the arbitrary limits on characters that can be used in a document. The one drawback is that it had to go through a rather difficult transition phase. Since it could not be completely transparent (that is, it could not happen at the same time all over the world), two conversion operations were required: one on file contents, and the other on filenames. Fortunately, the bulk of this migration has been completed and we discuss it largely for reference.
			</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>文化</em></span><span
                          class="foreignphrase"><em
                            class="foreignphrase"> 乱码</em></span>以及谬误</strong></p></div></div></div><div
                class="para">
				当一个文本发送（或者接收）但是却没有携带编码信息，接收者并不是常常能确切地知道如何去确定一组字节的含义。你通常能通过对文本进行统计获得一些帮助，但是并不是总得到一个确切的答案。当编码系统选择了不同于写入文件时使用的编码时，字节就被曲解了，当你获取它时，最好的结果是一些字符错了，最坏的结果，一些变得完全无法识别了。
			</div><div
                class="para">
				Thus, if a French text appears normal with the exception of accented letters and certain symbols which appear to be replaced with sequences of characters like “Ã©” or Ã¨” or “Ã§”, it is probably a file encoded as UTF-8 but interpreted as ISO-8859-1 or ISO-8859-15. This is a sign of a local installation that has not yet been migrated to UTF-8. If, instead, you see question marks instead of accented letters — even if these question marks seem to also replace a character that should have followed the accented letter — it is likely that your installation is already configured for UTF-8 and that you have been sent a document encoded in Western ISO.
			</div><div
                class="para">
				So much for “simple” cases. These cases only appear in Western culture, since Unicode (and UTF-8) was designed to maximize the common points with historical encodings for Western languages based on the Latin alphabet, which allows recognition of parts of the text even when some characters are missing.
			</div><div
                class="para">
				In more complex configurations, which, for example, involve two environments corresponding to two different languages that do not use the same alphabet, you often get completely illegible results — a series of abstract symbols that have nothing to do with each other. This is especially common with Asian languages due to their numerous languages and writing systems. The Japanese word <span
                  class="foreignphrase"><em
                    class="foreignphrase">mojibake</em></span> has been adopted to describe this phenomenon. When it appears, diagnosis is more complex and the simplest solution is often to simply migrate to UTF-8 on both sides.
			</div></div><div
              class="para">
				As far as file names are concerned, the migration can be relatively simple. The <code
                class="command">convmv</code> tool (in the package with the same name) was created specifically for this purpose; it allows renaming files from one encoding to another. The use of this tool is relatively simple, but we recommend doing it in two steps to avoid surprises. The following example illustrates a UTF-8 environment containing directory names encoded in ISO-8859-15, and the use of <code
                class="command">convmv</code> to rename them.
			</div><pre
              class="screen"><code
                class="computeroutput">$ </code><strong
                class="userinput"><code>ls travail/</code></strong>
<code
                class="computeroutput">Ic?nes  ?l?ments graphiques  Textes
$ </code><strong
                class="userinput"><code>convmv -r -f iso-8859-15 -t utf-8 travail/</code></strong>
<code
                class="computeroutput">Starting a dry run without changes...
mv "travail/�l�ments graphiques"        "travail/Éléments graphiques"
mv "travail/Ic�nes"     "travail/Icônes"
No changes to your files done. Use --notest to finally rename the files.
$ </code><strong
                class="userinput"><code>convmv -r --notest -f iso-8859-15 -t utf-8 travail/</code></strong>
<code
                class="computeroutput">mv "travail/�l�ments graphiques"        "travail/Éléments graphiques"
mv "travail/Ic�nes"     "travail/Icônes"
Ready!
$ </code><strong
                class="userinput"><code>ls travail/</code></strong>
<code
                class="computeroutput">Éléments graphiques  Icônes  Textes</code></pre><div
              class="para">
				For the file content, conversion procedures are more complex due to the vast variety of existing file formats. Some file formats include encoding information that facilitates the tasks of the software used to treat them; it is sufficient, then, to open these files and re-save them specifying UTF-8 encoding. In other cases, you have to specify the original encoding (ISO-8859-1 or “Western”, or ISO-8859-15 or “Western (Euro)”, according to the formulations) when opening the file.
			</div><div
              class="para">
				For simple text files, you can use <code
                class="command">recode</code> (in the package of the same name) which allows automatic recoding. This tool has numerous options so you can play with its behavior. We recommend you consult the documentation, the <span
                class="citerefentry"><span
                  class="refentrytitle">recode</span>(1)</span> man page, or the <span
                class="citerefentry"><span
                  class="refentrytitle">recode</span></span> info page (more complete).
			</div></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.common-procedures.html"><strong>上一页</strong>7.2. 通常步骤</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>上一级</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>起始页</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.network-config.html"><strong>下一页</strong>8.2. 配置网络</a></li></ul></body></html>
