<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">第 8 章 基础配置：网络，账户，打印……</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-zh-CN-1.0-1" /><meta
        name="keywords"
        content="配置, 本地化, 地区设置, 网络, 名称解析, 用户, 用户组, 账户, 命令行解释器, Shell, 打印, Bootloader, 内核编译" /><link
        rel="home"
        href="index.html"
        title="Debian 管理员手册" /><link
        rel="up"
        href="index.html"
        title="Debian 管理员手册" /><link
        rel="prev"
        href="sect.common-procedures.html"
        title="7.2. 通常步骤" /><link
        rel="next"
        href="sect.network-config.html"
        title="8.2. 配置网络" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/zh-CN/stable/basic-configuration.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.common-procedures.html"><strong>上一页</strong></a></li><li
          class="home">Debian 管理员手册</li><li
          class="next"><a
            accesskey="n"
            href="sect.network-config.html"><strong>下一页</strong></a></li></ul><div
        xml:lang="zh-CN"
        class="chapter"
        lang="zh-CN"><div
          class="titlepage"><div><div><h1
                class="title"><a
                  xmlns=""
                  id="basic-configuration"></a>第 8 章 基础配置：网络，账户，打印……</h1></div></div></div><div
          class="toc"><dl
            class="toc"><dt><span
                class="section"><a
                  href="basic-configuration.html#sect.config-language-support">8.1. 用其他语言进行配置</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="basic-configuration.html#sect.default-language">8.1.1. 设置默认语言</a></span></dt><dt><span
                    class="section"><a
                      href="basic-configuration.html#sect.keyboard-config">8.1.2. 键盘配置</a></span></dt><dt><span
                    class="section"><a
                      href="basic-configuration.html#sect.utf8-migration">8.1.3. 迁移到 UTF-8</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.network-config.html">8.2. 配置网络</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.network-config.html#sect.interface-ethernet">8.2.1. Ethernet 接口</a></span></dt><dt><span
                    class="section"><a
                      href="sect.network-config.html#sect.ppp-rtc">8.2.2. 经由 PSTN 调制解调器的 PPP 链接</a></span></dt><dt><span
                    class="section"><a
                      href="sect.network-config.html#sect.adsl">8.2.3. 以 ADSL 数据链接</a></span></dt><dt><span
                    class="section"><a
                      href="sect.network-config.html#sect.roaming-network-config">8.2.4. 网络自动配置漫游用户</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.hostname-name-service.html">8.3. 设置主机名称与配置名称服务</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.hostname-name-service.html#sect.name-resolution">8.3.1. Name Resolution</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.user-group-databases.html">8.4. User and Group Databases</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.user-group-databases.html#sect.etc-passwd">8.4.1. User List: <code
                        class="filename">/etc/passwd</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.user-group-databases.html#sect.etc-shadow">8.4.2. The Hidden and Encrypted Password File: <code
                        class="filename">/etc/shadow</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.user-group-databases.html#sect.account-modification">8.4.3. Modifying an Existing Account or Password</a></span></dt><dt><span
                    class="section"><a
                      href="sect.user-group-databases.html#sect.disabling-account">8.4.4. Disabling an Account</a></span></dt><dt><span
                    class="section"><a
                      href="sect.user-group-databases.html#sect.etc-group">8.4.5. Group List: <code
                        class="filename">/etc/group</code></a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.creating-accounts.html">8.5. Creating Accounts</a></span></dt><dt><span
                class="section"><a
                  href="sect.shell-environment.html">8.6. Shell Environment</a></span></dt><dt><span
                class="section"><a
                  href="sect.config-printing.html">8.7. Printer Configuration</a></span></dt><dt><span
                class="section"><a
                  href="sect.config-bootloader.html">8.8. Configuring the Bootloader</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.config-bootloader.html#sect.identify-disks">8.8.1. Identifying the Disks</a></span></dt><dt><span
                    class="section"><a
                      href="sect.config-bootloader.html#sect.config-lilo">8.8.2. Configuring LILO</a></span></dt><dt><span
                    class="section"><a
                      href="sect.config-bootloader.html#sect.config-grub">8.8.3. GRUB 2 Configuration</a></span></dt><dt><span
                    class="section"><a
                      href="sect.config-bootloader.html#sect.config-yaboot">8.8.4. For Macintosh Computers (PowerPC): Configuring Yaboot</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.config-misc.html">8.9. Other Configurations: Time Synchronization, Logs, Sharing Access…</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.config-misc.html#sect.timezone">8.9.1. Timezone</a></span></dt><dt><span
                    class="section"><a
                      href="sect.config-misc.html#sect.time-synchronization">8.9.2. Time Synchronization</a></span></dt><dt><span
                    class="section"><a
                      href="sect.config-misc.html#sect.rotation-logs">8.9.3. Rotating Log Files</a></span></dt><dt><span
                    class="section"><a
                      href="sect.config-misc.html#sect.sharing-admin-rights">8.9.4. Sharing Administrator Rights</a></span></dt><dt><span
                    class="section"><a
                      href="sect.config-misc.html#sect.fstab-mount-points">8.9.5. List of Mount Points</a></span></dt><dt><span
                    class="section"><a
                      href="sect.config-misc.html#sect.locate-updatedb">8.9.6. <code
                        class="command">locate</code> and <code
                        class="command">updatedb</code></a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.kernel-compilation.html">8.10. Compiling a Kernel</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.kernel-compilation.html#sect.kernel-compilation-prerequisites">8.10.1. Introduction and Prerequisites</a></span></dt><dt><span
                    class="section"><a
                      href="sect.kernel-compilation.html#sect.kernel-sources">8.10.2. 获取源代码</a></span></dt><dt><span
                    class="section"><a
                      href="sect.kernel-compilation.html#sect.config-kernel">8.10.3. Configuring the Kernel</a></span></dt><dt><span
                    class="section"><a
                      href="sect.kernel-compilation.html#sect.kernel-build">8.10.4. Compiling and Building the Package</a></span></dt><dt><span
                    class="section"><a
                      href="sect.kernel-compilation.html#sect.modules-build">8.10.5. Compiling External Modules</a></span></dt><dt><span
                    class="section"><a
                      href="sect.kernel-compilation.html#sect.kernel-patch">8.10.6. 选择内核补丁</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.kernel-installation.html">8.11. 安装内核</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.kernel-installation.html#sect.kernel-package">8.11.1. Debian 内核包特性</a></span></dt><dt><span
                    class="section"><a
                      href="sect.kernel-installation.html#sect.kernel-installation-with-dpkg">8.11.2. Installing with <code
                        class="command">dpkg</code></a></span></dt></dl></dd></dl></div><div
          class="highlights"><div
            class="para">
		以 <code
              class="command">debian-installer</code> 命令安装的电脑是尽可能的可用，但仍有若干服务需要配置。而且，了解修改初始安装进程的配置是件好事。
	</div></div><div
          class="para">
		这章综述我们称之为“基础配置”所包括的任何事项：网络、语言、地区、用户、用户组、打印、挂载点等。
	</div><div
          class="section"><div
            class="titlepage"><div><div><h2
                  class="title"><a
                    xmlns=""
                    id="sect.config-language-support"></a>8.1. 用其他语言进行配置</h2></div></div></div><a
            id="id-1.11.5.2"
            class="indexterm"></a><div
            class="para">
			如果你在法语环境下安装了系统，那么默认语言可能会被设置为法语。所以你最好知道你的安装器使用的是什么语言。如果对语言有要求而又设置错误了，你可以自己进行修改。
		</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>工具</em></span> <code
                        class="command">locale</code> 命令显示当前配置</strong></p></div></div></div><div
              class="para">
			<code
                class="command">locale</code> 命令行出地区设置参数的当前语系配置 (日期格式、数字格式等)，以一组标准的环境变量表示这些设置的动态修改。
		</div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="sect.default-language"></a>8.1.1. 设置默认语言</h3></div></div></div><a
              id="id-1.11.5.5.2"
              class="indexterm"></a><a
              id="id-1.11.5.5.3"
              class="indexterm"></a><a
              id="id-1.11.5.5.4"
              class="indexterm"></a><div
              class="para">
				一个 locale 指一系列的区域设置。它不仅包括对文字语言的设置，也包括数字格式显示、日期、时间和货币，以及“按字母顺序排列规则”（正确地处理重音字符）。虽然这些参数可以被独立配置，我们仍建议您使用 locale 这个从地区形式最大化匹配一连贯参数的工具。这些 locales 一般以以下格式 <code
                class="literal"><em
                  class="replaceable">语言代码</em>_<em
                  class="replaceable">城市代码</em></code>，有时后缀也在指定字符集和编码中被使用。这是考虑到同一语言在不同区域之间使用习惯和印刷差异。
			</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>文化</em></span> 字符集</strong></p></div></div></div><a
                id="id-1.11.5.5.6.2"
                class="indexterm"></a><a
                id="id-1.11.5.5.6.3"
                class="indexterm"></a><a
                id="id-1.11.5.5.6.4"
                class="indexterm"></a><a
                id="id-1.11.5.5.6.5"
                class="indexterm"></a><a
                id="id-1.11.5.5.6.6"
                class="indexterm"></a><a
                id="id-1.11.5.5.6.7"
                class="indexterm"></a><div
                class="para">
				过去，每个地区都对应一组 “字符集” (已知字符的集合) 与偏好的 “编码” (电脑内表示字符的方法)。
			</div><div
                class="para">
				最广泛使用的字符编码是基于拉丁字母、使用单个 byte 表达一个字符，被限制为最多256个字符。256个字符不足以覆盖所有欧洲语言，因此多编码系统非常有必要，这就是为何我们将 <span
                  class="emphasis"><em>ISO-8859-1</em></span> （即“Latin 1”）升级为 <span
                  class="emphasis"><em>ISO-8859-15</em></span> （即“Latin 9”），等等。
			</div><div
                class="para">
				在英文以外的语系工作，经常需要切换编码与字符集。尤有甚者，撰写多语系文档还会碰到极为顽固的问题。Unicode (几乎包括全世界所有书写系统的编码) 就是用来解决此等问题。UTF-8 是 Unicode 的编码之一，仍是 128 ASCII 符号 (7-比特代码)，但以不同方式处理其他字符。以逸出字符为首的数个比特带头，设置字符的长度。此种方法允许 Unicode 字符以一个或多个字节呈现。已是 XML 文档的缺省编码方式。
			</div><a
                id="id-1.11.5.5.6.11"
                class="indexterm"></a><a
                id="id-1.11.5.5.6.12"
                class="indexterm"></a><a
                id="id-1.11.5.5.6.13"
                class="indexterm"></a><div
                class="para">
				它是最广泛使用的编码，也是 Debian 发行版系统的默认选项。
			</div></div><div
              class="para">
				<span
                class="pkg pkg">locales</span> 包括所有应用“本土化”所需要的所有元素。安装过程中，该包将要求使用者选择一系列支持语言。该选择能在使用root帐号运行 <code
                class="command">dpkg-reconfigure locales</code> 改变。
			</div><div
              class="para">
				第一个让您回答的问题是选哪些“ locales ”来支持。选择所有英语国家（所有以<code
                class="literal">en_</code>开始的环境）是一种可能。如果主机上有外国用户，打开对应的语言环境支持不要犹豫。所有在本系统被打开支持的语言环境存储在 <code
                class="filename">/etc/locale.gen</code> 。它可以被手动编辑，但需要在你做任何改动后运行 <code
                class="command">locale-gen</code> 使改动生效。该命令将创建新添加的语言环境及其关联文件并移除过期的文件。
			</div><div
              class="para">
				第二个问题，标题 “系统环境的默认字符环境”请求设置默认的字符系统。该选择在美国是 <code
                class="literal">en_US.UTF-8</code>，英式发音者更习惯于 <code
                class="literal">en_GB.UTF-8</code> ，加拿大人喜欢 <code
                class="literal">en_CA.UTF-8</code> 或者对于法国人来说 <code
                class="literal">fr_CA.UTF-8</code>。<code
                class="filename">/etc/default/locale</code> 文件会保存这个变更。该设置将由 PAM 系统写入到所有登录用户会话的 <code
                class="varname">LANG</code> 环境变量。
			</div><a
              id="id-1.11.5.5.10"
              class="indexterm"></a><a
              id="id-1.11.5.5.11"
              class="indexterm"></a><a
              id="id-1.11.5.5.12"
              class="indexterm"></a><div
              class="sidebar"><a
                xmlns=""
                id="sidebar.intro-pam"></a><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>后台</em></span> <code
                          class="filename">/etc/environment</code> 与 <code
                          class="filename">/etc/default/locale</code></strong></p></div></div></div><div
                class="para">
				<code
                  class="filename">/etc/environment</code> 文件为 <code
                  class="command">login</code> 、 <code
                  class="command">gdm</code>、 <code
                  class="command">ssh</code> 程序提供正确的环境变量。
			</div><div
                class="para">
				90这些应用不直接创建这些变量，而通过 PAM 系统的 <code
                  class="filename">pam_env.so</code> 模块。PAM（插入式验证模块）是一个提供身份验证、会话初始化和密码管理的模块库。<a
                  class="xref"
                  href="sect.ldap-directory.html#sect.config-pam">第 11.7.3.2 节 “Configuring PAM”</a> 是一个 PAM 配置样式。
			</div><div
                class="para">
				<code
                  class="filename">/etc/default/locale</code> 文件以类似的方式运作，但只有 <code
                  class="varname">LANG</code> 环境变量。感谢此种区隔，某些 PAM 用户可以在地区设置之外承袭完整的环境。事实上，不鼓励在服务器软件运行地区设置；比较建议在用户端的程序设置地区及区域。
			</div><a
                id="id-1.11.5.5.13.5"
                class="indexterm"></a><a
                id="id-1.11.5.5.13.6"
                class="indexterm"></a></div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="sect.keyboard-config"></a>8.1.2. 键盘配置</h3></div></div></div><a
              id="id-1.11.5.6.2"
              class="indexterm"></a><a
              id="id-1.11.5.6.3"
              class="indexterm"></a><div
              class="para">
				甚至如果键盘布局在终端和图形模式中被设置成不同， Debian 也提供了一个简单的配置让它们两个工作：它基于 debconf 并由<span
                class="pkg pkg">keyboard-configuration</span> 包实现。使用 <code
                class="command">dpkg-reconfigure keyboard-configuration</code> 命令来重新设置键盘布局。
			</div><a
              id="id-1.11.5.6.5"
              class="indexterm"></a><a
              id="id-1.11.5.6.6"
              class="indexterm"></a><a
              id="id-1.11.5.6.7"
              class="indexterm"></a><div
              class="para">
				<a
                id="id-1.11.5.6.8.1"
                class="indexterm"></a>问题与键盘的实体配置 (美式标准键盘为 “通用 104 键”)有关，选择配置 (通常是 “US”)，然后选取 AltGr键 (即右侧的 Alt 键)。最后是 “组合键”，以多个键同时按下组合成特殊字符。连续键入 <span
                class="keycap"><strong>Compose</strong></span> <span
                class="keycap"><strong>'</strong></span> <span
                class="keycap"><strong>e</strong></span> 就能产生带读音符号的 e (“é”)。这些组合键列在 <code
                class="filename">/usr/share/X11/locale/en_US.UTF-8/Compose</code> 文件 (或其他文件，视 <code
                class="filename">/usr/share/X11/locale/compose.dir</code> 指示的当前在地设置)。
			</div><a
              id="id-1.11.5.6.9"
              class="indexterm"></a><a
              id="id-1.11.5.6.10"
              class="indexterm"></a><a
              id="id-1.11.5.6.11"
              class="indexterm"></a><a
              id="id-1.11.5.6.12"
              class="indexterm"></a><div
              class="para">
				注意，该处说明的是默认键盘布局下图形模式的键盘设定； GNOME 和 KDE 等环境，为每一个用户提供一个键位控制面板去设置他们的喜好键位。面板中也能提供一些特殊键位的扩展选项。
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="sect.utf8-migration"></a>8.1.3. 迁移到 UTF-8</h3></div></div></div><div
              class="para">
				期待已久的 UTF-8 一般化编码是解决互通性的方案之一，可解决文档中字符的国际交换与误值的限制。其中一个限制是必须经由相当困难的转换阶段。它可以完全透通 (就是，不会同时在全世界发生)，需要两个转换作业：文件内容，以及文件名称。幸运的是，该等移殖已经完成且讨论甚多。
			</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>文化</em></span><span
                          class="foreignphrase"><em
                            class="foreignphrase"> 乱码</em></span>以及谬误</strong></p></div></div></div><div
                class="para">
				当一个文本发送（或者接收）但是却没有携带编码信息，接收者并不是常常能确切地知道如何去确定一组字节的含义。你通常能通过对文本进行统计获得一些帮助，但是并不是总得到一个确切的答案。当编码系统选择了不同于写入文件时使用的编码时，字节就被曲解了，当你获取它时，最好的结果是一些字符错了，最坏的结果，一些变得完全无法识别了。
			</div><div
                class="para">
				因此，法文的内容看起来正常，祗是无法显示 “Ã©” 或 Ã¨” 或 “Ã§” 等重音字母与符号，很可能以 UTF-8 编码保存但被解读成 ISO-8859-1 或 ISO-8859-15。在地的安装尚未移殖至 UTF-8。如果，看到问号取代重音字母 — 即使这些问号取代重音字母后的字符 — 很可能已安装并配置为 UTF-8 不过送出的文档仍以 Western ISO 编码。
			</div><div
                class="para">
				这些都是 “简单的” 个案。这些个案祗出现在西方文化里，因为 Unicode (与 UTF-8) 是扩充拉丁字母为基础的西方语系编码，即使失漏部份字符仍可辨识其他内容。
			</div><div
                class="para">
				在较复杂的环境里，诸如，使用不同字母的两种语文，通常得到完全不同的结果 — 彼此完全无意义的抽象符号。特别是语言与文本完全不同的亚洲语文。日文的 <span
                  class="foreignphrase"><em
                    class="foreignphrase">mojibake</em></span>，即乱码，用来说明此现象。出现时，诊断极为困难，最简单的方法就是两端都移殖至 UTF-8。
			</div></div><div
              class="para">
				转换文件名编码，移殖工作还算简单。<code
                class="command">convmv</code> 工具 (以同名存在套件内) 是专门移殖用的；可以把文件名重命名于不同的编码。此工具还很简单，但需要两个步骤。下例说明在 UTF-8 环境下采用 ISO-8859-15 编码的文件夹，以 <code
                class="command">convmv</code> 重命名。
			</div><pre
              class="screen"><code
                class="computeroutput">$ </code><strong
                class="userinput"><code>ls travail/</code></strong>
<code
                class="computeroutput">Ic?nes  ?l?ments graphiques  Textes
$ </code><strong
                class="userinput"><code>convmv -r -f iso-8859-15 -t utf-8 travail/</code></strong>
<code
                class="computeroutput">Starting a dry run without changes...
mv "travail/�l�ments graphiques"        "travail/Éléments graphiques"
mv "travail/Ic�nes"     "travail/Icônes"
No changes to your files done. Use --notest to finally rename the files.
$ </code><strong
                class="userinput"><code>convmv -r --notest -f iso-8859-15 -t utf-8 travail/</code></strong>
<code
                class="computeroutput">mv "travail/�l�ments graphiques"        "travail/Éléments graphiques"
mv "travail/Ic�nes"     "travail/Icônes"
Ready!
$ </code><strong
                class="userinput"><code>ls travail/</code></strong>
<code
                class="computeroutput">Éléments graphiques  Icônes  Textes</code></pre><div
              class="para">
				以文件内容来说，因为文件格式的多样性，增加转换工作的复杂度。有些文件格式本身包括编码信息协助软件使用它们；就可以直接打开它们，并指明以 UTF-8 编码再保存之。其他的情况下，则必须以原始的编码格式 (ISO-8859-1 或 “Western”、或 ISO-8859-15 或 “Western (Euro)”，视其规则而定) 开启它们。
			</div><div
              class="para">
				简单的文本档，可以使用 <code
                class="command">recode</code> (以同名存在于套件中) 自动重新编码。此工具有很多选项。建议参加相关的文档， <span
                class="citerefentry"><span
                  class="refentrytitle">recode</span>(1)</span> man 页面，或 <span
                class="citerefentry"><span
                  class="refentrytitle">recode</span></span> info 页面 (较为完整)。
			</div></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.common-procedures.html"><strong>上一页</strong>7.2. 通常步骤</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>上一级</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>起始页</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.network-config.html"><strong>下一页</strong>8.2. 配置网络</a></li></ul></body></html>
