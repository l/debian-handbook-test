<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">6.4. Графические оболочки: aptitude, synaptic</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-ru-RU-1.0-1" /><meta
        name="keywords"
        content="apt, apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="Настольная книга администратора Debian" /><link
        rel="up"
        href="apt.html"
        title="Глава 6. Обслуживание и обновление: инструменты APT" /><link
        rel="prev"
        href="sect.apt-cache.html"
        title="6.3. Команда apt-cache" /><link
        rel="next"
        href="sect.package-authentication.html"
        title="6.5. Проверка подлинности пакета" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/ru-RU/stable/sect.apt-frontends.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.apt-cache.html"><strong>Пред.</strong></a></li><li
          class="home">Настольная книга администратора Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.package-authentication.html"><strong>След.</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.apt-frontends"></a>6.4. Графические оболочки: <code
                  class="command">aptitude</code>, <code
                  class="command">synaptic</code></h2></div></div></div><a
          id="id-1.9.13.2"
          class="indexterm"></a><a
          id="id-1.9.13.3"
          class="indexterm"></a><a
          id="id-1.9.13.4"
          class="indexterm"></a><div
          class="para">
			APT это программа, написанная на C++, исходные коды которой расположены главным образом в разделяемой (общей) библиотеке <code
            class="command">libapt-pkg</code>. Использование разделяемой библиотеки облегчается создание пользовательского интерфейса (front-ends), притом коды, содержащиеся в библиотеке, можно быстро использовать повторно. Исторически, <code
            class="command">apt-get</code> была создана первоначально для тестирования пользовательского интерфейса для <code
            class="command">libapt-pkg</code>. Однако успех ее использования превзошел ожидаемый результат и этим затеняется тот факт, что цель для которой была создана программа - другая.
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.aptitude"></a>6.4.1. программа <code
                    class="command">aptitude</code></h3></div></div></div><div
            class="para">
				<code
              class="command">aptitude</code> - это интерактивная программа, она также может быть использована в псевдо-графической моде а консоле. Вы можете посмотреть перечень установленных и доступных пакетов, прочитать всю доступную о них информацию, и выбрать пакеты для установки или удаления. Программа была создана специально - для использования администраторами. Поведение этой программы по умолчанию намного более понятливо чем <code
              class="command">apt-get</code>'s, а пользовательский интерфейс - проще к пониманию.
			</div><div
            class="figure"><a
              xmlns=""
              id="id-1.9.13.6.3"></a><div
              class="figure-contents"><div
                class="mediaobject"><img
                  src="images/aptitude.png"
                  alt="The aptitude менеджер пакетов" /></div></div><p
              class="title"><strong>Рисунок 6.1. The <code
                  class="command">aptitude</code> менеджер пакетов</strong></p></div><div
            class="para">
				Сразу после старта программа <code
              class="command">aptitude</code> показывает перечень пакетов, отсортированных по их состоянию (установленные, не установленные, или установленные, но не доступные на зеркалах (на одной части экрана). На другой части экрана (в другой секции) отображаются задачи, виртуальные пакеты, и новые пакеты, что появились недавно на зеркалах). Для облегчения тематического просмотра есть возможность представить информацию на экране в другом виде. Во всех случаях <code
              class="command">aptitude</code> отображает перечень скомбинированных категорий и пакетов на экране. Категории (подразделы, ветви) организованы в древовидную структуру. Для просмотра категорий можно соответственно раскрыть или закрыть их с клавишами <span
              class="keycap"><strong>Enter</strong></span>, <span
              class="keycap"><strong>[</strong></span> и <span
              class="keycap"><strong>]</strong></span>. Клавиши <span
              class="keycap"><strong>+</strong></span> используется для пометки пакета к установке, <span
              class="keycap"><strong>-</strong></span> помечает его к удалению и <span
              class="keycap"><strong>_</strong></span> - начисто удалить пакет (удалить не только пакет, но и конфигурационные и др. изменяемые файлы). Запомни, что эти клавиши можно также использовать для категорий. В этом случае действие помеченной категории будет распростаняться на все пакеты, что расположены внутри. Например - если помечен подраздел к удалению, то он будет удален весь - удалятся все файлы, расположенные внутри него (будьте осторожны!). <span
              class="keycap"><strong>u</strong></span> - обновит перечень доступных пакетов (с зеркал) и <span
              class="keycap"><strong>Shift</strong></span>+<span
              class="keycap"><strong>u</strong></span> подготавливает к глобальному обновлению системы. <span
              class="keycap"><strong>g</strong></span> переключается в режим показа запрошенных изменений (нажав повторно клавишу <span
              class="keycap"><strong>g</strong></span> вы дадите программе разрешение на установку-замену и т.д., что вы ей задали). <span
              class="keycap"><strong>q</strong></span> - выход из настоящего просмотра (и из программы). Если после первого нажатия клавиши "g" и показа вам - что программа намерена установить-удалить - вы решите, что не согласны и хотите что-то изменить- нажмите тоже клавишу "q" и вы выйдете в предыдущий экран и можете поправить то, что вы хотели. Когда вы находитесь в первоначальном экране просмотра (как при старте) - с помощью клавиши "q" вы выйдете из программы <code
              class="command">aptitude </code>.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>ДОКУМЕНТАЦИЯ</em></span> <code
                        class="command">aptitude</code></strong></p></div></div></div><div
              class="para">
				Эта секция не описывает детальное использование программы <code
                class="command">aptitude</code>, она скорее сфокусирована на том, чтобы дать вам средства первой необходимости при ее использовании. <code
                class="command">aptitude</code> достаточно хорошо документирована и мы советуем вам использовать этот комплект руководства доступный в пакете <span
                class="pkg pkg">aptitude-doc-en</span> (смотри <code
                class="filename">/usr/share/doc/aptitude/html/en/index.html</code>).
			</div></div><div
            class="para">
				Для поиска пакета нажмите <span
              class="keycap"><strong>/</strong></span> и, в открывшемся окошке, введите пример (шаблон). Этот шаблон программа будет искать в именах пакетов. Можно также искать в других секциях пакета. Для этого в окошке для поиска надо ввести вначале дополнительное сочетание клавиш, а потом само слово для поиска: <code
              class="literal">~d</code> - для поиска в описании пакета <code
              class="literal">~s</code> - для поиска в разделе. Есть и другие характеристики, которые подробно описаны в документации. Похожие шаблоны могут фильтровать перечень показываемых пакетов. Для этого нажмите клавишу <span
              class="keycap"><strong>l</strong></span> и далее введите имя шаблона (как в <span
              class="foreignphrase"><em
                class="foreignphrase">limit</em></span>). Будут видны только пакеты, в названии которых упоминается шаблон.
			</div><div
            class="para">
				Управление "автоматическим флагом" (“automatic flag”) в пакетах Debian-а (смотри <a
              class="xref"
              href="sect.apt-get.html#sect.automatic-tracking">Раздел 6.2.7, «Трассирование автоматически устнавливаемых пакетов (наблюдение)»</a>) легче с <code
              class="command">aptitude</code>. Можно при просмотре списка установленных пакетов пометить пакет с "автоматическим флагом" (“automatic flag”) - комбинацией клавиш <span
              class="keycap"><strong>Shift</strong></span>+<span
              class="keycap"><strong>m</strong></span>. Удалить эти пометки - с клавишей <span
              class="keycap"><strong>m</strong></span>. Пакеты, с установленным "автоматическим флагом" (“Automatic packages”) показаны с отметкой “A” слева на экране напротив имени пакета. А эта функция предлагает простой путь отчетливо представить себе перечень пакетов, использованных на вашем компьютере, чтобы вы действительно не беспокоились о библиотеках и зависимостях. Соответствующий шаблон может быть использован с <span
              class="keycap"><strong>l</strong></span> (чтобы активировать режим фильтрации) и <code
              class="literal">~i!~M</code>. А эта функция позволит вам посмотреть установленные пакеты (<code
              class="literal">~i</code>), а те что не промаркированы как автоматически поставленные смотрим так (<code
              class="literal">!~M</code>).
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>ИНСТРУМЕНТ</em></span> использующий <code
                        class="command">aptitude</code> в интерфейсе командной строки терминала</strong></p></div></div></div><div
              class="para">
				Большинство возможностей команды <code
                class="command">aptitude</code> доступны через интерактивный интерфейс в консоле (общение с программой через команды-строки в консоле). Такой способ общения с программой хорошо знаком постоянным пользователя программ <code
                class="command">apt-get</code> и <code
                class="command">apt-cache</code>.
			</div><div
              class="para">
				Расширенные возможности программы <code
                class="command">aptitude</code> также доступны в режиме команды-строки. Вы можете использовать похожие шаблоны поиска как в интерактивной версии. Для примера, если вы хотите почистить лист пакетов "вручную установленных", и если вы знаете, что нет локально установленных программ, нуждающихся в любой специфичной библиотеки модулей Perl, вы можете промаркировать соответствующие пакеты как автоматические с одиночной командой:
			</div><pre
              class="screen"><code
                class="computeroutput"># </code><strong
                class="userinput"><code>aptitude markauto '~slibs|~sperl'</code></strong></pre><div
              class="para">
				Здесь, вы можете отчетливо увидеть мощность шаблонных поисков программы <code
                class="command">aptitude</code>, которая дает возможность мгновенно выбрать все пакеты в <code
                class="literal">libs</code> и <code
                class="literal">perl</code> секциях (разделах).
			</div><div
              class="para">
				Остерегайтесь - при маркировании некоторых пакетов как "автоматически установленных" и если нет других пакетов, зависящих от них - эти пакеты будут удалены немедленно (после запроса на подтверждение).
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.9.13.6.9"></a>6.4.1.1. Управление Рекомендациями, Предложениями и Задачами</h4></div></div></div><div
              class="para">
					Другой интересной особеностью программы <code
                class="command">aptitude</code> является то обстоятельство, что она принимает во внимание рекомендации между пакетами, но в то же время дает возможность пользователям не устанавливать их в базовой компоновке (то есть в том объеме, что программа прелагает первоначально). Для примера, пакет <span
                class="pkg pkg">gnome</span> рекомендует программу <span
                class="pkg pkg">gdebi</span> (один из нескольких рекомендованных пакетов). Когда вы выбираете предшествующий (чуть выше упомянутый) пакет для установки, последний (то есть рекомендованный) пакет будет также выбран (и маркироваться как "автоматически установленный", если ранее он не был установлен в системе). Нажав клавишу <span
                class="keycap"><strong>g</strong></span> станет очевидно: пакет <span
                class="pkg pkg">gdebi</span> появился на экране в списке отложенных действий, при этом данный пакет помечен программой как "автоматически установленный" - для удовлетворения зависимостей (памятка - выйти из этого предварительно просмотра надо клавишей "q"). Однако, ты можешь решить не устанавливать этот (второй) пакет (и отметить это через "-" - то есть снять метку "+") до подтверждения операции (до повторного нажатия клавиши "g").
				</div><div
              class="para">
					Запомни, что эта рекомендованная трассирующая (отслеживающая) возможность не применяется к обновлениям (upgrade). Для примера, если новая версия <span
                class="pkg pkg">gnome</span> рекомендует пакет, что ранее не рекомендовала, пакет не будет отмечен к установке. Однако это будет показано на предварительном просмотре на экране при обновлении и администратор сможет сам отметить данный пакет к установке (если в нем есть необходимость).
				</div><div
              class="para">
					Предложения между пакетами также учитываются, но с учетом их особенного положения. Для примера, программа <span
                class="pkg pkg">gnome</span> предлагает <span
                class="pkg pkg">dia-gnome</span>, последний будет показан на экране в итоговом предварительном просмотре планируемых действий программы (в разделе, где пакеты предлагают другие пакеты). Этот вывод на экран просматривает администратор и решает - надо ли брать предложение в расчет или нет. Это есть только предложение, а не зависимость и рекомендация, пакет не будет выбираться автоматически — этот выбор нуждается в ручном вмешательстве пользователя (таким образом, пакет не будет маркирован как "автоматически установленный").
				</div><div
              class="para">
					В том же духе, вспомните <code
                class="command">aptitude</code> делает умное использование общего представления задачи. Как только задача отображается как категории на экране в перечне пакетов, ты можешь выбрать из двух вариантов: согласиться на полный вариант предложенного для установки или удаления, или просмотреть перечень пакетов, включенных в задачу, чтобы выбрать более мелкие под-задачи (и откорректировать при необходимости. Например отказаться от рекомендованных и предложенных пакетов).
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.9.13.6.10"></a>6.4.1.2. Улучшенные алгоритмы решения</h4></div></div></div><div
              class="para">
					Завершая этот раздел, хотелось бы напомнить, что программа <code
                class="command">aptitude</code> имеет более продуманные алгоритмы в сравнении с <code
                class="command">apt-get</code> в случаях, когда приходится разрешать затруднительные ситуации. После определения пользователем что он хочет установить или удалить (отметил соответствующим образом в программе нужные пакеты) программа просчитывает возможные комбинации. В частности - может ли данные действия привести к разбалансировке системы. <code
                class="command">aptitude</code> вычисляет несколько возможных сценариев и представляет их в порядке уменьшения рекомендуемого ею (релевантности). Однако те алгоритмы не являются безотказными. К счастью в таких случаях всегда есть возможность вручную выбрать желаемое действие. Когда выбранные действия приведут к противоречиям, верхняя часть экрана покажет количество обрываемых (“broken”) пакетов (и вы можете непосредственно перейти к тем пакетам через нажатие клавишы <span
                class="keycap"><strong>b</strong></span>). Затем можно вручную откорректировать нужный пакет (согласиться на установку, отменить ее или другое). В частности, вы можете получить доступ к различным доступным версиям пакетов просто выбрав нужный пакет нажатием клавиши <span
                class="keycap"><strong>Enter</strong></span>. Если, из предложенного, вы выбрали какой-то вариант и он решает возникшую проблему, то программа напишет - что препятствия устранены. Не стесняйтесь использовать данную функцию. Когда количество оборванных пакетов понизится до 0, вы можете без опаски перейти к предварительному просмотру на экране суммарной информации предлагаемых (отложенных) программой действий для последней проверки, прежде чем применять их.
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>ЗАМЕТКА</em></span> Журнал программы <code
                          class="command">aptitude</code></strong></p></div></div></div><div
                class="para">
					Подобно <code
                  class="command">dpkg</code>, программа <code
                  class="command">aptitude</code> сохраняет историю всех выполненных действий в своем журнале (<code
                  class="filename">/var/log/aptitude</code>). Однако, эти две программы работают на разных уровнях, вы не сможете найти похожую информацию в соответствующим им журналах. Программа <code
                  class="command">dpkg</code> журналирует все операции, выполненные с отдельными пакетами шаг за шагом. А программа <code
                  class="command">aptitude</code> дает более широкий обзор высокоуровневых операций, подобных общесистемному обновлению.
				</div><div
                class="para">
					Будьте внимательны (осторожнее), только этот журнал содержит суммарно операции выполненные программой <code
                  class="command">aptitude</code>. Иногда используются другие графические программы (или даже используют <code
                  class="command">dpkg</code>) для просмотра журналов. В этом случае журнал программы <code
                  class="command">aptitude</code> будет отражать частично перечень выполненных действий. Таким образом вы не можете полагаться на него для целей построения достоверной истории обновления-изменения вашей системы.
				</div></div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.9.13.7"></a>6.4.2. Программа <code
                    class="command">synaptic</code></h3></div></div></div><div
            class="para">
				Программа <code
              class="command">synaptic</code> - это графический менеджер для Debian-а, который имеет опрятный и эффективный графический интерфейс базирующийся на GTK+/GNOME. Он имеет много готовых к использованию фильтров. Они дают возможность быстро получить доступ к новым годным пакетам, установленным пакетам, обновляемым пакетам, устарелым пакетам и так далее. При просмотре перечня пакетов вы можете выбрать операции, которые будут сделаны с пакетами (установка, обновление, удаленые, полная очистка вместе с удалением). Эти выбранные операции не будут выполнены немедленно, а только поставлены в перечень планирумых задач (отложенные действия). Одиночное нажатие клавиши мыши запустит процесс выполнения заданного (планируемого). При этом программа сначала проверит правильность операции (имеется в виду нет ли конфликтов с другими пакетами, имеются ли неудовлетворенные зависимости, имеются ли рекомендованные и предлагаемые пакеты и так далее) и затем выполнит их на одном дыхании.
			</div><div
            class="figure"><a
              xmlns=""
              id="id-1.9.13.7.3"></a><div
              class="figure-contents"><div
                class="mediaobject"><img
                  src="images/synaptic.png"
                  alt="synaptic менеджер пакетов" /></div></div><p
              class="title"><strong>Рисунок 6.2. <code
                  class="command">synaptic</code> менеджер пакетов</strong></p></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.apt-cache.html"><strong>Пред.</strong>6.3. Команда apt-cache</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Наверх</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Начало</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.package-authentication.html"><strong>След.</strong>6.5. Проверка подлинности пакета</a></li></ul></body></html>
