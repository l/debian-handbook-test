<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">5.4. Pakketten Manipuleren met dpkg</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-nl-NL-1.0-1" /><meta
        name="keywords"
        content="Binair pakket, Bron pakket, dpkg, afhankelijkheden, conflict" /><link
        rel="home"
        href="index.html"
        title="Het Debian Beheerders Handboek" /><link
        rel="up"
        href="packaging-system.html"
        title="Hoofdstuk 5. Pakketten Systeem: Gereedschap en Fundamentele Principes" /><link
        rel="prev"
        href="sect.source-package-structure.html"
        title="5.3. Structuur van een Bron Pakket" /><link
        rel="next"
        href="sect.coexistence-with-other-packaging-systems.html"
        title="5.5. Gelijktijdig bestaan met Andere Besturingssystemen" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/nl-NL/stable/sect.manipulating-packages-with-dpkg.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.source-package-structure.html"><strong>Terug</strong></a></li><li
          class="home">Het Debian Beheerders Handboek</li><li
          class="next"><a
            accesskey="n"
            href="sect.coexistence-with-other-packaging-systems.html"><strong>Volgende</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.manipulating-packages-with-dpkg"></a>5.4. Pakketten Manipuleren met <code
                  class="command">dpkg</code></h2></div></div></div><a
          id="id-1.8.8.2"
          class="indexterm"></a><div
          class="para">
			<code
            class="command">dpkg</code> is het basis commando om Debian pakketten op het systeem te behandelen. als je een <code
            class="filename">.deb</code> pakket hebt, is het <code
            class="command">dpkg</code> dat de installatie of analyse van hun inhoud toelaat. Maar dit programma heeft slechts een gedeeltelijk zocht op het Debian universum: het weet wat er geïnstalleerd is op het systeem, en wat er wordt gegeven op de commando regel, maar het weet niks over de andere beschikbare pakketten. Zodoende zal het falen als een afhankelijkheid niet voldaan is. Gereedschappen zoals <code
            class="command">apt</code>, in het tegendeel, zullen een lijst met afhankelijkheden maken om alles zo automatisch mogelijk te installeren.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>NOTITIE</em></span> <code
                      class="command">dpkg</code> of <code
                      class="command">apt</code>?</strong></p></div></div></div><div
            class="para">
			<code
              class="command">dpkg</code> zou als een systeem gereedschap beschouwd moeten worden (backend) en <code
              class="command">apt</code> als een gereedschap dichter bij de gebruiker, welke de beperktheden van het vorige overwint. Deze gereedschappen werken samen, iedereen met zijn eigenaardigheden, passend voor specifieke taken.
		</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.8.8.5"></a>5.4.1. Pakketten Installeren</h3></div></div></div><a
            id="id-1.8.8.5.2"
            class="indexterm"></a><a
            id="id-1.8.8.5.3"
            class="indexterm"></a><div
            class="para">
				<code
              class="command">dpkg</code> is, bovenal, het gereedschap voor het installeren van reeds beschikbare Debian pakketen (omdat het niks download). Om dit te doen, gebruiken we de <code
              class="literal">-i</code> of <code
              class="literal">--install</code> optie.
			</div><div
            class="example"><a
              xmlns=""
              id="id-1.8.8.5.5"></a><p
              class="title"><strong>Voorbeeld 5.2. Installatie van een pakket met <code
                  class="command">dpkg</code></strong></p><div
              class="example-contents"><pre
                class="screen scale">
<code
                  class="computeroutput"># </code><strong
                  class="userinput"><code>dpkg -i man-db_2.7.6.1-2_amd64.deb</code></strong>
<code
                  class="computeroutput">(Reading database ... 110431 files and directories currently installed.)
Preparing to unpack man-db_2.7.6.1-2_amd64.deb ...
Unpacking man-db (2.7.6.1-2) over (2.7.6.1-1) ...
Setting up man-db (2.7.6.1-2) ...
Updating database of manual pages ...
Processing triggers for mime-support (3.60) ...</code></pre></div></div><div
            class="para">
				We kunnen de verschillende stappen zien die <code
              class="command">dpkg</code> uitvoert; we weten dus op welk punt iedere fout kan gebeuren. De installatie kan ook uitgevoerd worden in twee fasen: eerst uitpakken, dan configuratie. <code
              class="command">apt-get</code> maakt hier gebruik van, door het aantal aanroepen van <code
              class="command">dpkg</code> te beperken (omdat ieder oproep kostbaar is, door het laden van de databank ik het geheugen), vooral de lijst van al geïnstalleerde bestanden).
			</div><div
            class="example"><a
              xmlns=""
              id="id-1.8.8.5.7"></a><p
              class="title"><strong>Voorbeeld 5.3. Individueel uitpakken en configuratie</strong></p><div
              class="example-contents"><pre
                class="screen scale">
<code
                  class="computeroutput"># </code><strong
                  class="userinput"><code>dpkg --unpack man-db_2.7.6.1-2_amd64.deb</code></strong>
<code
                  class="computeroutput">(Reading database ... 110431 files and directories currently installed.)
Preparing to unpack man-db_2.7.6.1-2_amd64.deb ...
Unpacking man-db (2.7.6.1-2) over (2.7.6.1-2) ...
Processing triggers for mime-support (3.60) ...
# </code><strong
                  class="userinput"><code>dpkg --configure man-db</code></strong>
<code
                  class="computeroutput">Setting up man-db (2.7.6.1-2) ...
Updating database of manual pages ...
</code></pre></div></div><a
            id="id-1.8.8.5.8"
            class="indexterm"></a><a
            id="id-1.8.8.5.9"
            class="indexterm"></a><div
            class="para">
				Soms zal <code
              class="command">dpkg</code> falen om een pakket te installeren en een foutmelding geven; als de gebruiker beveelt om dit te negeren, zal het enkel een waarschuwing geven; het is de reden dat we de verschillende <code
              class="literal">--force-*</code> opties. Het <code
              class="command">dpkg --force-help</code> commando, of de documentatie voor dit commando, zal een volledige lijst van deze opties geven. De meest voorkomende fout, welke je vroeger of later zal tegenkomen, is een file collision. Wanneer een pakket een bestand bevat dat al geïnstalleerd is door een ander pakket, <code
              class="command">dpkg</code> zal weigeren om dit te installeren. De volgende melding zal dan worden weergegeven:
			</div><pre
            class="screen">
<code
              class="computeroutput">Bezig met uitpakken van libgdm1 van .../libgdm_3.8.3-2_amd64 ...
dpkg: fout bij verwerken van /var/cache/apt/archives/libgdm_3.8.3-2_amd64.deb (--unpack):
 proberen om '/usr/bin/gdmflexiserver' te overschrijven, welke ook in pakket gdm3 3.4.1-9 zit</code></pre><div
            class="para">
				In dit geval, als je denkt dat het vervangen van dit bestand geen significant risico voor de stabiliteit van jouw systeem is (wat meestal het geval is), kun je de optie <code
              class="literal">--fore-overwrite</code> gebruiken, welke <code
              class="command">dpkg</code> verteld deze foutmelding te negeren en het bestand te overschrijven.
			</div><div
            class="para">
				Terwijl er veel <code
              class="literal">--force-*</code> opties beschikbaar zijn, wordt enkel <code
              class="literal">--force-overwrite</code> waarschijnlijk vaak gebruikt. Deze optie bestaat enkel voor uitzonderlijke situaties en het is beter om ze zo veel mogelijk met rust te laten om de regels opgelegd door het pakketten mechanisme te respecteren. Vergeet niet, deze regels zorgen voor de consistentie en stabiliteit van jouw systeem.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>LET OP</em></span> Effectief gebruik van <code
                        class="literal">--force-*</code></strong></p></div></div></div><a
              id="id-1.8.8.5.14.2"
              class="indexterm"></a><div
              class="para">
				Als je niet voorzichtig bent, kan het gebruik van een <code
                class="literal">--force-*</code> optie lijden tot een systeem waar de APT familie van commando's zal weigeren te functioneren. Deze opties laten de installatie van een pakket toe wanneer aan een afhankelijkheid niet voldaan kan worden of wanneer er een conflict is. Het resultaat is een inconsistent systeem vanuit het opzicht van afhankelijkheden en de APT commando's zullen weigeren iedere actie uit te voeren behalve deze die het systeem terug naar een consistente staat brengen. (Dit bestaat meestal uit het installeren van ontbrekende afhankelijkheden of het verwijderen van problematische pakketten). Dit resulteert vaan in een bericht als dit, verkregen na installatie van een nieuwe versie van <span
                class="pkg pkg">rdesktop</span> terwijl zijn afhankelijkheden van een nieuwere versie van <span
                class="pkg pkg">libc6</span> genegeerd wordt:
			</div><pre
              class="screen"><code
                class="computeroutput"># </code><strong
                class="userinput"><code>apt full-upgrade
</code></strong><code
                class="computeroutput">[...]
You might want to run 'apt-get -f install' to correct these.
The following packages have unmet dependencies:
  rdesktop: Depends: libc6 (&gt;= 2.5) but 2.3.6.ds1-13etch7 is installed
E: Unmet dependencies. Try using -f.</code></pre><div
              class="para">
				Een heldhaftige beheerder die zeker is van de correctheid van zijn analyse kan ervoor kiezen om een afhankelijkheid of conflict te negeren en de corresponderende optie <code
                class="literal">--force-*</code> te gebruiken. In dit geval, als ze willen doorgaan met het gebruik van <code
                class="command">apt</code> of <code
                class="command">aptitude</code>, moeten ze <code
                class="filename">/var/lib/dpkg/status</code> bewerken om de afhankelijkheid of het conflict die ze willen overschrijven te wissen of aan te passen.
			</div><div
              class="para">
				Deze manipulatie is een lelijke hack, en zou nooit gebruikt moeten worden, behalve in de meest extreem noodzakelijke gevallen. Heel vaak is een meer passende oplossing het pakket dat het probleem veroorzaakt te her-compileren (zie <a
                class="xref"
                href="debian-packaging.html#sect.rebuilding-package">Paragraaf 15.1, “Rebuilding a Package from its Sources”</a>) of gebruik een nieuwe (mogelijk gecorrigeerde) versie van een opslagplaats als <code
                class="literal">stable-backports</code> (zie <a
                class="xref"
                href="apt.html#sect.backports">Paragraaf 6.1.2.4, “Stabiele Backports”</a>).
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.8.8.6"></a>5.4.2. Pakket verwijdering</h3></div></div></div><a
            id="id-1.8.8.6.2"
            class="indexterm"></a><a
            id="id-1.8.8.6.3"
            class="indexterm"></a><a
            id="id-1.8.8.6.4"
            class="indexterm"></a><a
            id="id-1.8.8.6.5"
            class="indexterm"></a><div
            class="para">
				<code
              class="command">dpkg</code> aanroepen met de <code
              class="literal">-r</code> of <code
              class="literal">--remove</code> optie, gevolgd door de naam van een pakket, verwijderd dat pakket. Deze verwijdering is niet volledig: all de configuratie bestanden, onderhouders scripts, log bestanden (system logs) en andere gebruikers gegevens behandeld door het pakket blijven achter. Op deze manier is het uitschakelen van een programma simpel gedaan door het te verijderen en steeds de mogelijk te hebben om het snel te herinstalleren met dezelfde configuratie. Om alles verbonden aan een pakket met het pakket te wissen gebruikt de <code
              class="literal">-P</code> of <code
              class="literal">--purge</code> optie, gevolgd door de naam van het pakket.
			</div><div
            class="example"><a
              xmlns=""
              id="id-1.8.8.6.7"></a><p
              class="title"><strong>Voorbeeld 5.4. Verwijdering en zuivering van het <span
                  class="pkg pkg">debian-cd</span> pakket</strong></p><div
              class="example-contents"><pre
                class="screen"><code
                  class="computeroutput"># </code><strong
                  class="userinput"><code>dpkg -r debian-cd</code></strong>
<code
                  class="computeroutput">(Reading database ... 112188 files and directories currently installed.)
Removing debian-cd (3.1.20) ...
# </code><strong
                  class="userinput"><code>dpkg -P debian-cd</code></strong>
<code
                  class="computeroutput">(Reading database ... 111613 files and directories currently installed.)
Purging configuration files for debian-cd (3.1.20) ...
</code></pre></div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.8.8.7"></a>5.4.3. De Databank van <code
                    class="command">dpkg</code> bevragen en <code
                    class="filename">.deb</code> bestanden inspecteren</h3></div></div></div><a
            id="id-1.8.8.7.2"
            class="indexterm"></a><a
            id="id-1.8.8.7.3"
            class="indexterm"></a><a
            id="id-1.8.8.7.4"
            class="indexterm"></a><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>TERUG NAAR DE BASIS</em></span> Optie syntaxis</strong></p></div></div></div><div
              class="para">
				De meeste opties zijn beschikbaar in een “lange” versie (één of meer relevante woorden, voorafgegaan door een dubbel streepje) en een “korte” versie (een enkele letter, meestal het initiaal van één woord van de lange versie, en voorafgegaan door een enkel streepje). Deze conventie is zo algemeen dat het een POSIX standaard is.
			</div></div><div
            class="para">
				Voordat we dit hoofdstuk afsluiten, zullen we de <code
              class="command">dpkg</code> opties die het navragen van de interne databank, om informatie te bekomen, bestuderen. We geven eerst de lange optie en dan die corresponderende korte optie (welke natuurlijk dezelfde mogelijke argumenten aanneemt) we citeren <code
              class="literal">--listfiles <em
                class="replaceable">pakket</em></code> (of <code
              class="literal">-L</code>), welke een lijst geeft van alle bestanden geïnstalleerd door dit pakket; <code
              class="literal">--search <em
                class="replaceable">file</em></code> (of <code
              class="literal">-S</code>), welke de/het pakket(ten) vindt die dit bestand bevat(ten); <code
              class="literal">--status <em
                class="replaceable">pakket</em></code> (of <code
              class="literal">-s</code>), welke de headers van een geïnstalleerd pakket weergeeft; <code
              class="literal">--list</code> (of <code
              class="literal">-l</code>), welke de lijst van pakketten die het systeem kent en hun installatie status laat zien; <code
              class="literal">--contents <em
                class="replaceable">bestand.deb</em></code> (of <code
              class="literal">-c</code>), welke een lijst geeft van bestanden in het aangegeven Debian pakket; <code
              class="literal">--info<em
                class="replaceable"> bestand.deb </em></code> (of <code
              class="literal">-I</code>), welke de headers van dit Debian pakket laat zien.
			</div><div
            class="example"><a
              xmlns=""
              id="id-1.8.8.7.7"></a><p
              class="title"><strong>Voorbeeld 5.5. Verschillende navragen met <code
                  class="command">dpkg</code></strong></p><div
              class="example-contents"><pre
                class="screen scale"
                width="80">
<code
                  class="computeroutput">$ </code><strong
                  class="userinput"><code>dpkg -L base-passwd</code></strong>
<code
                  class="computeroutput">/.
/usr
/usr/sbin
/usr/sbin/update-passwd
/usr/share
/usr/share/base-passwd
/usr/share/base-passwd/group.master
/usr/share/base-passwd/passwd.master
/usr/share/doc
/usr/share/doc/base-passwd
/usr/share/doc/base-passwd/README
/usr/share/doc/base-passwd/changelog.gz
/usr/share/doc/base-passwd/copyright
/usr/share/doc/base-passwd/users-and-groups.html
/usr/share/doc/base-passwd/users-and-groups.txt.gz
/usr/share/doc-base
/usr/share/doc-base/users-and-groups
/usr/share/lintian
/usr/share/lintian/overrides
/usr/share/lintian/overrides/base-passwd
/usr/share/man
/usr/share/man/de
/usr/share/man/de/man8
/usr/share/man/de/man8/update-passwd.8.gz
/usr/share/man/es
/usr/share/man/es/man8
/usr/share/man/es/man8/update-passwd.8.gz
/usr/share/man/fr
/usr/share/man/fr/man8
/usr/share/man/fr/man8/update-passwd.8.gz
/usr/share/man/ja
/usr/share/man/ja/man8
/usr/share/man/ja/man8/update-passwd.8.gz
/usr/share/man/man8
/usr/share/man/man8/update-passwd.8.gz
/usr/share/man/pl
/usr/share/man/pl/man8
/usr/share/man/pl/man8/update-passwd.8.gz
/usr/share/man/ru
/usr/share/man/ru/man8
/usr/share/man/ru/man8/update-passwd.8.gz
$ </code><strong
                  class="userinput"><code>dpkg -S /bin/date</code></strong>
<code
                  class="computeroutput">coreutils: /bin/date
$ </code><strong
                  class="userinput"><code>dpkg -s coreutils</code></strong>
<code
                  class="computeroutput">Package: coreutils
Essential: yes
Status: install ok installed
Priority: required
Section: utils
Installed-Size: 15103
Maintainer: Michael Stone &lt;mstone@debian.org&gt;
Architecture: amd64
Multi-Arch: foreign
Version: 8.26-3
Replaces: mktemp, realpath, timeout
Pre-Depends: libacl1 (&gt;= 2.2.51-8), libattr1 (&gt;= 1:2.4.46-8), libc6 (&gt;= 2.17), libselinux1 (&gt;= 2.1.13)
Conflicts: timeout
Description: GNU core utilities
 This package contains the basic file, shell and text manipulation
 utilities which are expected to exist on every operating system.
 .
 Specifically, this package includes:
 arch base64 basename cat chcon chgrp chmod chown chroot cksum comm cp
 csplit cut date dd df dir dircolors dirname du echo env expand expr
 factor false flock fmt fold groups head hostid id install join link ln
 logname ls md5sum mkdir mkfifo mknod mktemp mv nice nl nohup nproc numfmt
 od paste pathchk pinky pr printenv printf ptx pwd readlink realpath rm
 rmdir runcon sha*sum seq shred sleep sort split stat stty sum sync tac
 tail tee test timeout touch tr true truncate tsort tty uname unexpand
 uniq unlink users vdir wc who whoami yes
Homepage: http://gnu.org/software/coreutils
$ </code><strong
                  class="userinput"><code>dpkg -l 'b*'</code></strong>
<code
                  class="computeroutput">Desired=Unknown/Install/Remove/Purge/Hold
| Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend
|/ Err?=(none)/Reinst-required (Status,Err: uppercase=bad)
||/ Name                 Version         Architecture    Description
+++-====================-===============-===============-=============================================
un  backupninja          &lt;none&gt;          &lt;none&gt;          (no description available)
un  backuppc             &lt;none&gt;          &lt;none&gt;          (no description available)
un  baekmuk-ttf          &lt;none&gt;          &lt;none&gt;          (no description available)
un  base                 &lt;none&gt;          &lt;none&gt;          (no description available)
un  base-config          &lt;none&gt;          &lt;none&gt;          (no description available)
ii  base-files           9.9+deb9u1      amd64           Debian base system miscellaneous files
ii  base-passwd          3.5.43          amd64           Debian base system master password and group 
ii  bash                 4.4-5           amd64           GNU Bourne Again SHell
[...]
$ </code><strong
                  class="userinput"><code>dpkg -c /var/cache/apt/archives/gnupg_2.1.18-8~deb9u1_amd64.deb</code></strong>
<code
                  class="computeroutput">drwxr-xr-x root/root         0 2017-09-18 20:41 ./
drwxr-xr-x root/root         0 2017-09-18 20:41 ./usr/
drwxr-xr-x root/root         0 2017-09-18 20:41 ./usr/bin/
-rwxr-xr-x root/root    996648 2017-09-18 20:41 ./usr/bin/gpg
-rwxr-xr-x root/root      3444 2017-09-18 20:41 ./usr/bin/gpg-zip
-rwxr-xr-x root/root    161192 2017-09-18 20:41 ./usr/bin/gpgconf
-rwxr-xr-x root/root     26696 2017-09-18 20:41 ./usr/bin/gpgparsemail
-rwxr-xr-x root/root     76112 2017-09-18 20:41 ./usr/bin/gpgsplit
-rwxr-xr-x root/root    158344 2017-09-18 20:41 ./usr/bin/kbxutil
-rwxr-xr-x root/root      1081 2014-06-25 16:17 ./usr/bin/lspgpot
-rwxr-xr-x root/root      2194 2017-09-18 20:41 ./usr/bin/migrate-pubring-from-classic-gpg
-rwxr-xr-x root/root     14328 2017-09-18 20:41 ./usr/bin/watchgnupg
drwxr-xr-x root/root         0 2017-09-18 20:41 ./usr/sbin/
-rwxr-xr-x root/root      3078 2017-09-18 20:41 ./usr/sbin/addgnupghome
-rwxr-xr-x root/root      2219 2017-09-18 20:41 ./usr/sbin/applygnupgdefaults
drwxr-xr-x root/root         0 2017-09-18 20:41 ./usr/share/
drwxr-xr-x root/root         0 2017-09-18 20:41 ./usr/share/doc/
drwxr-xr-x root/root         0 2017-09-18 20:41 ./usr/share/doc/gnupg/
-rw-r--r-- root/root     18964 2017-01-23 18:39 ./usr/share/doc/gnupg/DETAILS.gz
[...]
$ </code><strong
                  class="userinput"><code>dpkg -I /var/cache/apt/archives/gnupg_2.1.18-8~deb9u1_amd64.deb</code></strong>
<code
                  class="computeroutput"> new debian package, version 2.0.
 size 1124042 bytes: control archive=2221 bytes.
    1388 bytes,    24 lines      control              
    2764 bytes,    43 lines      md5sums              
 Package: gnupg
 Source: gnupg2
 Version: 2.1.18-8~deb9u1
 Architecture: amd64
 Maintainer: Debian GnuPG Maintainers &lt;pkg-gnupg-maint@lists.alioth.debian.org&gt;
 Installed-Size: 2088
 Depends: gnupg-agent (= 2.1.18-8~deb9u1), libassuan0 (&gt;= 2.0.1), libbz2-1.0, libc6 (&gt;= 2.15), libgcrypt20 (&gt;= 1.7.0), libgpg-error0 (&gt;= 1.14), libksba8 (&gt;= 1.3.4), libreadline7 (&gt;= 6.0), libsqlite3-0 (&gt;= 3.7.15), zlib1g (&gt;= 1:1.1.4)
 Recommends: dirmngr (= 2.1.18-8~deb9u1), gnupg-l10n (= 2.1.18-8~deb9u1)
 Suggests: parcimonie, xloadimage
 Breaks: debsig-verify (&lt;&lt; 0.15), dirmngr (&lt;&lt; 2.1.18-8~deb9u1), gnupg2 (&lt;&lt; 2.1.11-7+exp1), libgnupg-interface-perl (&lt;&lt; 0.52-3), libgnupg-perl (&lt;= 0.19-1), libmail-gnupg-perl (&lt;= 0.22-1), monkeysphere (&lt;&lt; 0.38~), php-crypt-gpg (&lt;= 1.4.1-1), python-apt (&lt;= 1.1.0~beta4), python-gnupg (&lt;&lt; 0.3.8-3), python3-apt (&lt;= 1.1.0~beta4)
 Replaces: gnupg2 (&lt;&lt; 2.1.11-7+exp1)
 Provides: gpg
 Section: utils
 Priority: optional
 Multi-Arch: foreign
 Homepage: https://www.gnupg.org/
 Description: GNU privacy guard - a free PGP replacement
  GnuPG is GNU's tool for secure communication and data storage.
  It can be used to encrypt data and to create digital signatures.
  It includes an advanced key management facility and is compliant
  with the proposed OpenPGP Internet standard as described in RFC4880.
[...]</code></pre></div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>VERDER GAAN</em></span> Versies vergelijken</strong></p></div></div></div><a
              id="id-1.8.8.7.8.2"
              class="indexterm"></a><a
              id="id-1.8.8.7.8.3"
              class="indexterm"></a><div
              class="para">
				Omdat <code
                class="command">dpkg</code> het programma is voor het afhandelen van Debian pakketten, biedt het de referentie implementatie van de logica voor het vergelijken van versie nummers. Daarom heeft het een <code
                class="literal">--compare-versions</code> optie, bruikbaar voor externe programma's (vooral configuratie scripts uitgevoerd door <code
                class="command">dpkg</code> zelf). Deze optie vereist drie parameters: een versie nummer, een vergelijkings-operator en een tweede versie nummer. De verschillende mogelijke operatoren zijn <code
                class="literal">lt</code> (strikt minderdan), <code
                class="literal">le</code> (minder dan of gelijk aan), <code
                class="literal">eq</code> (gelijk aan), <code
                class="literal">ne</code> (niet gelijk aan), <code
                class="literal">ge</code> (groter dan of gelijk aan) en <code
                class="literal">gt</code> (strikt groter dan). Als de vergelijking correct is zal <code
                class="command">dpkg</code> 0 (success) weergeven; indien niet, geeft het een andere waarde (indicatie van de fout).
			</div><pre
              class="screen">
<code
                class="computeroutput">$ </code><strong
                class="userinput"><code>dpkg --compare-versions 1.2-3 gt 1.1-4</code></strong>
<code
                class="computeroutput">$ </code><strong
                class="userinput"><code>echo $?</code></strong>
<code
                class="computeroutput">0
$ </code><strong
                class="userinput"><code>dpkg --compare-versions 1.2-3 lt 1.1-4</code></strong>
<code
                class="computeroutput">$ </code><strong
                class="userinput"><code>echo $?</code></strong>
<code
                class="computeroutput">1
$ </code><strong
                class="userinput"><code>dpkg --compare-versions 2.6.0pre3-1 lt 2.6.0-1</code></strong>
<code
                class="computeroutput">$ </code><strong
                class="userinput"><code>echo $?</code></strong>
<code
                class="computeroutput">1</code></pre><div
              class="para">
				Merk de onverwachte fout op in de laatste vergelijking: voor <code
                class="command">dpkg</code> heeft <code
                class="literal">pre</code>, wat meestal duid op een pre-release, geen specifieke betekenis en dit programma vergelijkt de alfabetische karakters op dezelfde manier als de nummers (a &lt; b &lt; c ...), in alfabetische volgorde. Dit is waarom “<code
                class="literal">0pre3</code>” als groter beschouwd wordt dan “<code
                class="literal">0</code>”. Wanneer we willen dat het versie nummer van een Pakket aangeeft dat het een pre-release is, gebruiken we het tilde karakter, “<code
                class="literal">~</code>”:
			</div><pre
              class="screen">
<code
                class="computeroutput">$ </code><strong
                class="userinput"><code>dpkg --compare-versions 2.6.0~pre3-1 lt 2.6.0-1</code></strong>
<code
                class="computeroutput">$ </code><strong
                class="userinput"><code>echo $?</code></strong>
<code
                class="computeroutput">0</code></pre></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.8.8.8"></a>5.4.4. Het log bestand van <code
                    class="command">dpkg</code></h3></div></div></div><div
            class="para">
				<code
              class="command">dpkg</code> houdt in <code
              class="filename">/var/log/dpkg.log</code> een log bij van al zijn acties. Dit log is extreem uitgebreid, omdat het details bevat van ieder stadium waarin pakketten behandeld orden door <code
              class="command">dpkg</code>. Buiten een manier om het gedrag van dpkg te volgen, helpt het bovenal, om een historiek van de ontwikkeling van het systeem bij te houden: men kan het exacte moment van installatie of update van ieder pakket zien en deze informatie kan extreem behulpzaam zijn in het begrijpen van recente veranderingen in het gedrag. Verder, door het bijhouden van alle versies, is het kruiscontrole met <code
              class="filename">changelog.Debian.gz</code> voor de pakketten in kwestie gemakkelijk of zelfs met online fouten rapporten.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.multi-arch"></a>5.4.5. Multi-Arch Ondersteuning</h3></div></div></div><a
            id="id-1.8.8.9.2"
            class="indexterm"></a><a
            id="id-1.8.8.9.3"
            class="indexterm"></a><div
            class="para">
				Alle Debian pakketten hebben een <code
              class="literal">Architectuur</code> veld in hun controle informatie. Dit veld kan ofwel “<code
              class="literal">all</code>” bevatten (voor pakketten die architectuur onafhankelijk zijn) of de naam van de doel architectuur (zoals “amd64”, “armhf”, …). In het laatste geval, zal <code
              class="command">dpkg</code>, als standaard, enkel de installatie van het pakket toestaan als de architectuur overeenkomt met de architectuur van de gastheer zoals gerapporteerd door <code
              class="command">dpkg --print-architecture</code>.
			</div><div
            class="para">
				Deze beperking verzekerd dat de gebruiker niet zal eindigen met binaire pakketten die gecompileerd zijn voor een foute architectuur. Alles zou perfect zijn behalve dat (sommige) computers binaire programma's voor meerdere architecturen, ofwel natuurlijk (een “amd64“ systeem kan “i386“ binaire programma's draaien) of via emulatoren.
			</div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.8.8.9.6"></a>5.4.5.1. Multi-Arch activeren</h4></div></div></div><div
              class="para">
					De multi-arch ondersteuning van <code
                class="command">dpkg</code> laat de gebruikers toe “vreemde architecturen” die op het huidige systeem geïnstalleerd kunnen worden te definiëren. Dis is simpelweg gedaan met <code
                class="command">dpkg --add-architecture</code> zoals in het voorbeeld hieronder. Er is een overeenkomstig commando <code
                class="command">dpkg --remove-architecture</code> om de ondersteuning voor een vreemde architectuur te laten vallen, maar het kan enkel gebruikt worden wanneer er geen pakketten voor deze architectuur over zijn.
				</div><pre
              class="screen">
<code
                class="computeroutput"># </code><strong
                class="userinput"><code>dpkg --print-architecture</code></strong>
<code
                class="computeroutput">amd64
# </code><strong
                class="userinput"><code>dpkg --print-foreign-architectures</code></strong>
<code
                class="computeroutput"># </code><strong
                class="userinput"><code>dpkg -i gcc-6-base_6.3.0-18_armhf.deb</code></strong>
<code
                class="computeroutput">dpkg: error processing archive gcc-6-base_6.3.0-18_armhf.deb (--install):
 package architecture (armhf) does not match system (amd64)
Errors were encountered while processing:
 gcc-6-base_6.3.0-18_armhf.deb
# </code><strong
                class="userinput"><code>dpkg --add-architecture armhf</code></strong>
<code
                class="computeroutput"># </code><strong
                class="userinput"><code>dpkg --add-architecture armel</code></strong>
<code
                class="computeroutput"># </code><strong
                class="userinput"><code>dpkg --print-foreign-architectures</code></strong>
<code
                class="computeroutput">armhf
armel
# </code><strong
                class="userinput"><code>dpkg -i gcc-6-base_6.3.0-18_armhf.deb</code></strong>
<code
                class="computeroutput">Selecting previously unselected package gcc-6-base:armhf.
(Reading database ... 112000 files and directories currently installed.)
Preparing to unpack gcc-6-base_6.3.0-18_armhf.deb ...
Unpacking gcc-6-base:armhf (6.3.0-18) ...
Setting up gcc-6-base:armhf (6.3.0-18) ...
# </code><strong
                class="userinput"><code>dpkg --remove-architecture armhf</code></strong>
<code
                class="computeroutput">dpkg: error: cannot remove architecture 'armhf' currently in use by the database
# </code><strong
                class="userinput"><code>dpkg --remove-architecture armel</code></strong>
<code
                class="computeroutput"># </code><strong
                class="userinput"><code>dpkg --print-foreign-architectures</code></strong>
<code
                class="computeroutput">armhf</code></pre><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>NOTITIE</em></span> De multi-arch ondersteuning van APT</strong></p></div></div></div><div
                class="para">
					APT zal automatisch detecteren wanneer dpkg geconfigureerd is om vreemde architecturen te ondersteunen en zal de corresponderende <code
                  class="filename">Pakketten</code> downloaden tijden het update proces.
				</div><div
                class="para">
					Vreemde pakketten kunnen dan geïnstalleerd worden met <code
                  class="command">apt install <em
                    class="replaceable">pakket</em>:<em
                    class="replaceable">architectuur</em></code>.
				</div></div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>IN DE PRAKTIJK</em></span> Gepatenteerde i396 binaire programma's gebruiken op amp64</strong></p></div></div></div><div
                class="para">
					There are multiple use cases for multi-arch, but the most popular one is the possibility to execute 32 bit binaries (i386) on 64 bit systems (amd64).
				</div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.8.8.9.7"></a>5.4.5.2. Multi-Arch Gerelateerde Veranderingen</h4></div></div></div><div
              class="para">
					To make multi-arch actually useful and usable, libraries had to be repackaged and moved to an architecture-specific directory so that multiple copies (targeting different architectures) can be installed alongside. Such updated packages contain the “<code
                class="literal">Multi-Arch: same</code>” header field to tell the packaging system that the various architectures of the package can be safely co-installed (and that those packages can only satisfy dependencies of packages of the same architecture). The most important libraries have been converted since the introduction of multi-arch in Debian <span
                class="distribution distribution">Wheezy</span>, but there are many libraries that will likely never be converted unless someone specifically requests it (through a bug report for example).
				</div><pre
              class="screen"><code
                class="computeroutput">$ </code><strong
                class="userinput"><code>dpkg -s gcc-6-base
</code></strong><code
                class="computeroutput">dpkg-query: error: --status needs a valid package name but 'gcc-6-base' is not: ambiguous package name 'gcc-6-base' with more than one installed instance

Use --help for help about querying packages.
$ </code><strong
                class="userinput"><code>dpkg -s gcc-6-base:amd64 gcc-6-base:armhf | grep ^Multi
</code></strong><code
                class="computeroutput">Multi-Arch: same
Multi-Arch: same
$ </code><strong
                class="userinput"><code>dpkg -L libgcc1:amd64 |grep .so
</code></strong><code
                class="computeroutput">/lib/x86_64-linux-gnu/libgcc_s.so.1
$ </code><strong
                class="userinput"><code>dpkg -S /usr/share/doc/gcc-6-base/copyright
</code></strong><code
                class="computeroutput">gcc-6-base:amd64, gcc-6-base:armhf: /usr/share/doc/gcc-6-base/copyright
</code></pre><div
              class="para">
					Het is noemenswaardig dat dezelfde <code
                class="literal">Multi-Arch: same</code> pakketten hun met gekwalificeerde architectuur genoemd moeten worden om ondubbelzinnig identificeerbaar te zijn. Ze hebben ook de mogelijkheid om bestanden te delen met andere instanties van hetzelfde pakket; <code
                class="command">dpkg</code> verzekerd dat alle pakketten bit-voor-bit identieke bestanden hebben als ze gedeeld worden. Last but not least, alle instanties van een pakket moeten dezelfde versie hebben, Ze moeten dus samen ge-upgrade worden.
				</div><div
              class="para">
					Multi-Arch ondersteuning brengt ook enkele interessante uitdagingen mee in de manier waarop afhankelijkheden worden behandeld. Voldoen aan een afhankelijkheid vereist een pakket gemarkeerd met “<code
                class="literal">Multi-Arch: foreign</code>” of een pakket wiens architectuur overeenkomt met een van de pakketten die de afhankelijkheid aangeeft (bij het afhandelen van afhankelijkheden worden architectuur-onafhankelijke pakketten beschouwd als van dezelfde architectuur als de gastheer). Een afhankelijkheid kan ook afgezwakt worden om ieder architectuur toe te staan om het af te handelen, met de <code
                class="literal"><em
                  class="replaceable">package</em>:any</code> syntaxis, maar vreemde pakketten kunnen enkel zo'n afhankelijkheid oplossin als ze gemarkeerd zijn als “<code
                class="literal">Multi-Arch: allowed</code>”.
				</div></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.source-package-structure.html"><strong>Terug</strong>5.3. Structuur van een Bron Pakket</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Omhoog</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Begin</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.coexistence-with-other-packaging-systems.html"><strong>Volgende</strong>5.5. Gelijktijdig bestaan met Andere Besturingssy...</a></li></ul></body></html>
