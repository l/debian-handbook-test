<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
]>
<chapter id="installation">
  <chapterinfo>
    <mediaobject condition="pdf">
      <imageobject>
        <imagedata fileref="images/chap-installation.png" scalefit="1" />
      </imageobject>
    </mediaobject>
    <keywordset>
      <keyword>Installatie</keyword>
      <keyword>Schijfindeling</keyword>
      <keyword>Formatteren</keyword>
      <keyword>Bestandssysteem</keyword>
      <keyword>Opstart Sector</keyword>
      <keyword>Hardware Detectie</keyword>
    </keywordset>
  </chapterinfo>
  <title>Installatie</title>
  <highlights>
    <para>Om Debian te gebruiken moet je het installeren op een computer; deze taak wordt verzorgd door het <emphasis>debian-installer</emphasis> programma. Een goede installatie vraagt vele handelingen. Dit hoofdstuk bespreekt ze in hun chronologische volgorde.</para>
  </highlights>
  <indexterm><primary>Installatie</primary><secondary>van het systeem</secondary></indexterm>

  <sidebar>
    <title><emphasis>TERUG NAAR DE BASIS</emphasis> Een inhaal cursus in de bijlagen</title>

    <para>Een computer installeren is altijd gemakkelijker wanneer je bekent bent met hoe het werkt. Ben je dat niet, maak dan een snelle omleiding naar <xref linkend="short-remedial-course" /> voor dit hoofdstuk te lezen.</para>
  </sidebar>

  <para>The installer for <emphasis role="distribution">Stretch</emphasis>
  is based on <command>debian-installer</command>. Its modular design
  enables it to work in various scenarios and allows it to evolve and adapt
  to changes. Despite the limitations implied by the need to support a
  large number of architectures, this installer is very accessible to
  beginners, since it assists users at each stage of the process. Automatic
  hardware detection, guided partitioning, and graphical user interfaces
  have solved most of the problems that newbies used to face in the
  early years of Debian.</para>
  <indexterm><primary>installatieprogramma</primary></indexterm>
  <indexterm><primary><command>debian-installer</command></primary></indexterm>

  <para>Installation requires 128 MB of RAM (Random Access Memory) and at
  least 2 GB of hard drive space. All Falcot computers meet these
  criteria. Note, however, that these figures apply to the installation of
  a very limited system without a graphical desktop. A minimum of 512 MB
  of RAM and 10 GB of hard drive space are really recommended for a basic
  office desktop workstation.</para>

  <sidebar>
    <title><emphasis>BEWARE</emphasis> Upgrading from Jessie</title>

    <para>If you already have Debian Jessie installed on your computer, this
    chapter is not for you! Unlike other distributions, Debian allows
    updating a system from one version to the next without having to
    reinstall the system. Reinstalling, in addition to being unnecessary,
    could even be dangerous, since it could remove already installed
    programs.</para>

    <para>Het upgraden wordt beschreven in <xref linkend="sect.dist-upgrade" />.</para>
  </sidebar>
  <section id="sect.installation-methods">
    <title>Installatie Methoden</title>

    <para>Een Debian systeem van geïnstalleerd worden vanaf verschillende soorten media, zolang de BIOS van de machine dit toestaat. Je kan bij voorbeeld opstarten vanaf een CD-ROM, een USB stick of zelf via een netwerk.</para>

    <sidebar>
      <title><emphasis>TERUG NAAR DE BASIS</emphasis> BIOS, de hardware/software interface</title>
      <indexterm><primary>BIOS</primary></indexterm>
      <indexterm><primary>Basic Input/Output System</primary></indexterm>

      <para>BIOS (wat Basic Input/Output System betekend) is software dat is inbegrepen in het moederbord (het electronische bord dat alle apparatuur verbindt) en wordt uitgevoerd wanneer de computer opstart, om het besturingssysteem in de laden (via een aangepaste opstartlader). Het blijft in de achtergrond om een interface te bieden tussen de hardware en de software (in ons geval, de Linux kernel).</para>
    </sidebar>
    <section id="sect.install-cd">
      <title>Installeren vanaf een CD-ROM/DVD-ROM</title>

      <para>De meest gebruikte methode van installatie is van een CD-ROM (of DVD-ROM, welke zich precies hetzelfde gedraagt): de computer wordt opgestart van die medium en het installatieprogramma neemt het over.</para>

      
      <para>Various CD-ROM families have different purposes:
      <emphasis>netinst</emphasis> (network installation) contains the
      installer and the base Debian system; all other programs are
      then downloaded. Its “image”, that is the ISO-9660 filesystem
      that contains the exact contents of the disk, only takes up
      about 150 to 280 MB (depending on architecture).
      On the other hand, the complete set offers all packages and
      allows for installation on a computer that has no Internet access;
      it requires around 14 DVD-ROMs (or 3 Blu-ray disks). There is no
      more official CD-ROMs set as they were really huge, rarely used and
      now most of the computers use DVD-ROMs as well as CD-ROMs. But the
      programs are divided among the disks
      according to their popularity and importance; the first
      disk will be sufficient for most installations, since it
      contains the most used softwares.</para>

      <para>Er is nog een laatste type van beeld, gekend als <filename>mini.iso</filename>, welke enkel beschikbaar is als een bij-product van het installatieprogramma. Het beeld bevat enkel de minimum die nodig is om het netwerk te configureren en al het andere wordt gedownload (zelfs inclusief delen van het installatieprogramma zelf, dit is waarom dit soort beeld de neiging heeft kapot te gaan wanneer een nieuwe versie van het installatieprogramma is vrijgegeven). Deze beelden kunnen gevonden worden op de normale Debian spiegels onder de <filename>dist/<replaceable>vrijgave</replaceable>/main/installer-<replaceable>arch</replaceable>/current/images/netboot/</filename> directory.</para>
      <indexterm><primary><filename>mini.iso</filename></primary></indexterm>

      <sidebar>
        <title><emphasis>TIP</emphasis> Multi-Architectuur discs</title>

	<para>De meeste installatie CD- en DVD-Rom's werken enkel met een specifieke hardware architectuur. Als je de volledige beelden wil downloaden, met je ervoor zorgen dat je deze kiest welke werken op de hardware van de computer waarop je hen wil installeren.</para>

	<para>Some CD/DVD-ROM images can work on several
	architectures. We thus have a CD-ROM image combining the
	<emphasis>netinst</emphasis> images of the
	<emphasis>i386</emphasis> and <emphasis>amd64</emphasis>
	architectures.</para>
      </sidebar>
      <indexterm><primary>CD-ROM</primary><secondary>Installatie CD-ROM</secondary></indexterm>
      <indexterm><primary>CD-ROM</primary><secondary><emphasis>netinst CD-ROM</emphasis></secondary></indexterm>
      <indexterm><primary>DVD-ROM</primary><secondary>Installatie DVD-ROM</secondary></indexterm>
      <indexterm><primary>DVD-ROM</primary><secondary><emphasis>netinst DVD-ROM</emphasis></secondary></indexterm>

      <para>To acquire Debian CD-ROM images, you may of course download
      them and burn them to disk. You may also purchase them, and, thus,
      provide the project with a little financial support. Check the
      website to see the list of DVD-ROM image vendors and download sites.
      <ulink type="block" url="http://www.debian.org/CD/index.html" />
      </para>
    </section>
    <section id="sect.install-usb">
      <title>Opstarten vanaf een USB stick</title>
      <indexterm><primary>USB stick</primary></indexterm>

      <para>Omdat de meeste computers kunnen opstarten van USB apparaten kun je Debian ook installeren vanaf een USB stick (dit is niets meer dan een kleine flash-geheugen disc).</para>

      <para>De installatie handleiding legt uit hoe een USB stick te maken die de <command>debian-installer</command> bevat. De procedure is heel simpel omdat ISO beelden voor i386 en amd64 hybride beelden zijn die kunnen opstarten vanag een CD-ROM en van een USB stick.</para>

      <para>You must first identify the device name of the USB key
      (ex: <literal>/dev/sdb</literal>); the simplest means to do this
      is to check the messages issued by the kernel using the
      <command>dmesg</command> command. Then you must copy the
      previously downloaded ISO image (for example
      debian-9.0.0-amd64-netinst.iso) with the command
      <command>cat debian-9.0.0-amd64-netinst.iso &gt;/dev/sdb;
      sync</command>.  This command requires administrator rights,
      since it accesses the USB key directly and blindly erases its
      content.</para>

      <para>Een gedetailleerdere uitleg is beschikbaar in de installatie handleiding. Het beschrijft, onder andere, een alternatieve complexere methode om een USB voor te bereiden, maar dat laat toe om de standaard opties van het installatieprogramma aan te passen (deze ingegeven in de kernel commando regel). <ulink type="block" url="http://www.debian.org/releases/stable/amd64/ch04s03.html" /></para>
    </section>
    <section id="sect.install-net">
      <title>Installeren d.m.v. Netwerk Opstarten</title>
      <indexterm><primary>installatie</primary><secondary><emphasis>netboot installatie</emphasis></secondary></indexterm>
      <indexterm><primary>installatie</primary><secondary><emphasis>PXE installatie</emphasis></secondary></indexterm>
      <indexterm><primary>installatie</primary><secondary><emphasis>TFTP installatie</emphasis></secondary></indexterm>

      <para>Veel BIOS-en staan het opstarten rechtstreeks van een netwerk toe, door de kernel en een minimal bestandssysteem beeld te downloaden. Deze methode (Welke verschillende namen heeft zoals <acronym>PXE</acronym> of <acronym>TFTP</acronym> boot) kan een godsgeschenk zijn als de computer geen CD-ROM lezer heeft of als de BIOS niet van de zulke media kan opstarten.</para>

      <para>Deze installatie methode werkt in twee stappen. Eerst, terwijl de computer opstart, stuurt de BIOS (of de netwerk kaart) een BOOTP/DHCP verzoek om automatisch een IP adres te krijgen. Wanneer een BOOTP of DHCP server een antwoord geeft, bevat het een bestandsnaam en netwerk instellingen. Na het netwerk geconfigureerd te hebben stuurt doe cliënt computer een TFTP (Trivial File Transfer Protocol) verzoek voor een bestand wiens naam eerder was aangegeven. Eenmaal dit bestand beschikbaar is, wordt het uitgevoerd als ware het een opstartlader. Deze start dan het Debian installatieprogramma, welke wordt uitgevoerd alsof het draaide vanaf de harde-schijf, een CD-ROM of een USB stick.</para>

      <para>Alle details van deze methode zijn beschikbaar in de installatie gids ("Preparing files for TFTP Net Bootin" sectie). <ulink type="block" url="http://www.debian.org/releases/stable/amd64/ch05s01.html#boot-tftp" /> <ulink type="block" url="http://www.debian.org/releases/stable/amd64/ch04s05.html" /></para>
    </section>
    <section id="sect.install-auto">
      <title>Andere Installatie Methoden</title>

      <para>When we have to deploy customized installations for a large
      number of computers, we generally choose an automated rather than a
      manual installation method. Depending on the situation and the
      complexity of the installations to be made, we can use FAI (Fully
      Automatic Installer, described in <xref linkend="sect.fai" />), or even a
      customized installation DVD with preseeding (see <xref linkend="sect.d-i-preseeding" />).</para>
    </section>
  </section>
  <section id="sect.installation-steps">
    <title>Installeren, Stap voor Stap</title>
    <section id="sect.install-boot">
      <title>Opstarten en het Installatieprogramma Starten</title>

      <para>Eenmaal de BIOS is begonnen met het opstarten vanaf de CD- of DVD-ROM verschijnt het Isolinux opstartlader menu. Op dit punt is de Linux kernel nog niet geladen; dit menu staat je toe de op te starten kernel te kiezen en mogelijke parameters er naartoe te zenden.</para>

      <para>For a standard installation, you only need to choose
      “Install” or “Graphical install” (with the arrow keys), then
      press the <keycap>Enter</keycap> key to initiate the remainder
      of the installation process. If the DVD-ROM is a “Multi-arch” disk,
      and the machine has an Intel or AMD 64 bit processor, those menu
      options enable the installation of the 64 bit variant
      (<emphasis>amd64</emphasis>) and the installation of the 32 bit
      variant remains available in a dedicated sub-menu (“32-bit install
      options”). If you have a 32 bit processor, you don't get a choice
      and the menu entries install the 32 bit variant
      (<emphasis>i386</emphasis>).
      </para>

      <sidebar>
        <title><emphasis>VERDER GAAN</emphasis> 32 of 64 bit?</title>
        <indexterm><primary>PAE</primary></indexterm>
        <indexterm><primary>Physical Address Extension</primary></indexterm>
        <indexterm><primary>32/64 bit, keuze</primary></indexterm>

	<para>Het fundamentele verschil tussen 32 en 64 bit sysemen is de grote van geheugen adressen. In theorie kan een 32 bit systeem niet werken met meer dan 4 GB RAP (2<superscript>32</superscript> bytes). In de praktijk is het mogelijk om rond deze limiet te werken door gebruik te maken van de <literal>686-pae</literal> kernel variant, zolang de processor met de PAE (Physical Address Extension) functionaliteit kan werken. Hoewel dit meestal een merkbare invloed op de prestaties van het systeem heeft, is het nuttig om de 64 bit modus te gebruiken op aan server met een grote hoeveelheid RAM.</para>

	<para>Voor een kantoor computer (maar een klein percentage verschil in prestaties te verwaarlozen is), met je er aan denken dat bepaalde gepatenteerde programma's niet beschikbaar zijn in een 64 bit versie (zoals Skype bij voorbeeld). Het is technisch mogelijk om ze te laten werken op 64 bit systemen, maar je moet de 32 bit versies van al de nodige bibliotheken installeren (zie <xref linkend="sect.multi-arch" />), en soms <command>setarch</command> of <command>linux32</command> gebruiken (in het <emphasis role="pkg">util-linux</emphasis> pakket) Om het programma te misleiden over aard van het systeem. <indexterm><primary><command>setarch</command></primary></indexterm> <indexterm><primary><command>linux32</command></primary></indexterm></para>
      </sidebar>

      <sidebar>
        <title><emphasis>IN DE PRAKTIJK</emphasis> Installatie langs een bestaand Windows syseem</title>
        <indexterm><primary>dual boot</primary></indexterm>

	<para>Als de computer al Windows draait, is het niet nodig om het systeem te wissen om Debian te installeren. Je kunt beide systemen tegelijkertijd, ieder op een aparte schijf of partitie, geïnstalleerd hebben en bij het opstarten kiezen welke opgestart moet worden met de computer. Deze configuratie wordt vaak “dual boot” genoemd, en het Debian installatie systeem van dit instellen. Dit gebeurd tijdens het schijfindelings-process van de installatie en terwijl de opstartlader wordt ingesteld (zie marge <xref linkend="sidebar.shrinking-partition" /> en <xref linkend="sidebar.bootloader-dual-boot" />).</para>

	<para>Als je al een werkend Windows systeem hebt, kun je zelf voorkomen om een CD-ROM te gebruiken, Debian biedt een Windows programma aan dat een licht Debian installatieprogramma en stelt het in op de harde-schijf. Je moet de computer dan enkel opnieuw opstarten en kiezen tussen normale Windows opstart of opstarten van het installatie programma. Je kunt het ook vinden om een toegewijde website met een vrij expliciete naam… <ulink type="block" url="http://ftp.debian.org/debian/tools/win32-loader/stable/" /> <ulink type="block" url="http://www.goodbye-microsoft.com/" /></para>
      </sidebar>

      <sidebar>
        <title><emphasis>TERUG NAAR DE BASIS</emphasis> Opstartlader</title>
        <indexterm><primary>lader</primary><secondary>opstartlader</secondary></indexterm>
        <indexterm><primary>opstartlader</primary></indexterm>
        <indexterm><primary>opstart</primary><secondary>lader</secondary></indexterm>

	<para>De opstartlader is een laag-niveau programma dat verantwoordelijk is voor het opstarten van de Linux kernel, net nadat de BIOS de controle heeft doorgegeven. Om deze taak te behandelen moet het de kernel kunnen vinden om de schijf te starten. Op een i386 en amd64 architectuur zijn de twee meest gebruikte programma's hiervoor LILO, de oude van de twee, en GRUB zijn moderne vervanger. Isolinux en Syslinux zijn alternatieven vaak gebruikt om op te starten vanaf verwijderbare media.</para>
      </sidebar>

      <para>Ieder menu verbergt een specifieke opstart commando regel, welke indien nodig geconfigureerd kan worden door op de <keycap>TAB</keycap> toets de drukken voor de ingaven te valideren en op te starten. De “Help” menu optie toont de oude commando regel interface, waar de <keycap>F1</keycap> tot <keycap>F10</keycap> toetsen verschillende help schermen weergeven met gedetailleerde informatie over de verschillende opties beschikbaar op de prompt. Je zal deze opties zelden nodig hebben behalve in zeer specifieke gevallen.</para>

      <para>De “expert” modus (beschikbaar in het “Advanced options” menu) geeft details over alle mogelijke opties in het installatie proces en laat toe om te navigeren tussen de verschillende stappen zonder dat ze automatisch in volgorde worden uitgevoerd. Wees voorzichtig, deze heel uitgebreide modus kan verwarrend zijn door de hoeveelheid van configuratie keuzes die het biedt.</para>

      <figure>
        <title>Opstartscherm</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-boot.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Once booted, the installation program guides you step by
      step throughout the process. This section presents each of these
      steps in detail. Here we follow the process of an installation
      from an amd64 DVD-ROM (more specifically, the rc3 version
      of the installer for Stretch); <emphasis>netinst</emphasis>
      installations, as well as the final release of the installer,
      may look slightly different. We will also address installation
      in graphical mode, but the only difference from “classic”
      (text-mode) installation is in the visual appearance.</para>
    </section>
    <section id="sect.install-lang">
      <title>De taal selecteren</title>
      <indexterm><primary>keuze</primary><secondary>van de taal</secondary></indexterm>

      <para>Het installatieprogramma begint in het Engels, maar de eerste stap laat de gebruiker toe om de taal die in de rest van het proces gebruikt zal worden te kiezen. Nederlands kiezen, bij voorbeeld, zal all installatie ingaven vertalen naar het Nederlands (en een systeem geconfigureerd in het Nederlands is het resultaat). Deze keuze wordt ook gebruikt om de meer relevante standaard keuzes in de volgende stadia te definiëren (met name de lay-out van het toetsenbord).</para>

      <sidebar>
        <title><emphasis>TERUG NAAR DE BASIS</emphasis> Navigatie met het toetsenbord</title>

	<para>Sommige stappen in het installatieproces vereisen het ingeven van informatie. Deze schermen hebben verschillende gebieden die de “focus” kunnen hebben (tekst ingaven gebieden, aantik-vakjes, keuzelijsten, OK en Cancel knoppen), en de <keycap>TAB</keycap> toets laat je toe om van de ene naar de andere te gaan.</para>

	<para>In de grafische modus, kun je de muis gebruiken zoals je normaal zou doen in een geïnstalleerde grafisch desktop.</para>
      </sidebar>

      <figure role="flow.inline">
        <title>De taal selecteren</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-lang.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-lang-txt.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section id="sect.install-country">
      <title>Het land kiezen</title>
      <indexterm><primary>keuze</primary><secondary>van het land</secondary></indexterm>

      <para>De tweede stap bestaat uit de keuze van jouw land. Gecombineerd met de taal, laat deze informatie het programma toe om de meest passende lay-out van het toetsenbord aan te bieden. Dit zal ook invloed hebben op de configuratie van de tijds-zone. In de Verenigde Staten, wordt een standaard QWERTY toetsenbord voorgesteld (In belgië is dit AZERTY en in nederland gebruikt men ook het Amerikaanse QWERTY) en een keuze van geschikte tijds-zones wordt aangeboden.</para>

      <figure role="flow.inline">
        <title>Het land kiezen</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-country.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-country-txt.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section id="sect.install-keyboard">
      <title>De toetsenbord lay-out kiezen</title>
      <indexterm><primary>toetsenbord lay-out</primary></indexterm>
      <indexterm><primary>lay-out, toetsenbord</primary></indexterm>

      <para>Het voorgestelde “Belgisch” toetsenbord komt overeen met het gebruikelijke AZERTY lay-out.</para>

      <figure role="flow.inline">
        <title>Keuze van het toetsenbord</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-keyboard.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-keyboard-txt.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section id="sect.install-detect-hardware">
      <title>Hardware Detecteren</title>

      <para>Deze stap is volledig automatisch in de grote meerderheid van de gevallen. Het installatieprogramma detecteert jouw hardware en probeert de CD-ROM station die gebruikt wordt te identificeren om toegang te krijgen tot zijn inhoud. Het laad de modules die corresponderen met de verschillende hardware onderdelen die gedetecteerd worden, en “koppelt” de CD-Rom dan aan om hem te kunnen lezen. De voorgaande stappen zaten volledig omvat in het opstart beeld inbegrepen op de CD, een bestand met een beperkte grote en in het geheugen geladen door de BIOS tijdens het opstarten van de CD.</para>

      <para>Het installatie programma werkt met de grote meerderheid van stations, vooral standaard ATAPI apparaten (soms IDE en EIDE genoemd). hoeel, indien de detectie van de CD-ROM lezer mislukt, biedt het installatieprogramma de keuze om een kernel module (bij voorbeeld vanaf een USB stick) voor het CD-ROM station te laden.</para>
    </section>
    <section id="sect.install-load-components">
      <title>Onderdelen Laden</title>

      <para>Nu de inhoudt van de CD nu beschikbaar is, laad het installatieprogramma alle bestanden die nodig zijn om zijn werk verder te zetten. Inclusief aanvullende stuurprogramma's voor de rest van de hardware (vooral de netwerk kaart) en al de componenten van het installatieprogramma.</para>
    </section>
    <section id="sect.install-detect-network">
      <title>Netwerk Hardware Detecteren</title>

      <para>Deze automatische stap probeert de netwerk kaart te identificeren en laad de corresponderende modules. Als automatische detectie faalt kun je manueel de te laden module selecteren. Als geen enkele module werkt is het mogelijk om een specifieke module van een verwijderbaar apparaat te laden. Deze laatste oplossing is meestal enkel nodig als de geschikte driver niet standaard in de kernel is voorzien, maar elders beschikbaar is, zoals de website van de fabrikant.</para>

      <para>Deze stap moet absoluut succesvol zijn voor een <emphasis>netinst</emphasis> installatie, omdat de Debian pakketten via het netwerk geladen moeten worden.</para>
    </section>
    <section id="sect.install-network-config">
      <title>Het Netwerk Configureren</title>
      <indexterm><primary>configuratie</primary><secondary>netwerk</secondary><tertiary>statisch</tertiary></indexterm>
      <indexterm><primary>configuratie</primary><secondary>netwerk</secondary><tertiary>DHCP</tertiary></indexterm>

      <para>Om het proces zo veel mogelijk te automatiseren probeert het installatieprogramma een automatische netwerk configuratie door DHCP (voor IPv4) en door IPv6 network discovery. Als dit faalt, biedt het meer keuzes: probeer nogmaals met een standaard DHCP configuratie, probeer DHCP configuratie door de naam van de machine te declareren or een statische netwerk configuratie opstellen.</para>

      <para>Deze laatste optie verijst een IP adres, een subnet masker, een IP adres voor een eventuele gateway, een machine naam en een domein naam.</para>

      <sidebar>
        <title><emphasis>TIP</emphasis> Configuratie zonder DHCP</title>

	<para>Als het lokale netwerk is uitgerust met een DHCP server die je niet wenst te gebruiken omdat je een statisch IP adres wenst te gebruiken voor de installatie van de machine, kun je de optie <userinput>netcfg/use_dhcp=false</userinput> ingeven bij het opstarten van de CD-ROM. Je moet enkel naar de gewenste menu ingang gaan door op de <keycap>TAB</keycap> toets te drukken en dan de gewenste opties in te geven voor op de <keycap>Enter</keycap> toets te drukken.</para>
      </sidebar>

      <sidebar>
        <title><emphasis>LET UP</emphasis> Niet improvisren</title>

	<para>Vele local area netwerken zijn gebaseerd op de impliciete veronderstelling dat alle machines vertrouwd kunnen worden en onvoldoende configuratie van een enkele computer zal vaak het netwerk verstoren. Als een resultaat sluit jouw machine nooit aan op een netwerk zonder voorgaande toestemming van de beheerder over de geschikte instellingen (bij voorbeeld, het IP adres, netwerk master en broadcast adres).</para>
      </sidebar>
    </section>
    <section>
      <title>Beheerders Wachtwoord</title>
      <indexterm><primary>account</primary><secondary>beheerders account</secondary></indexterm>

      <para>De super-gebruiker root account, gereserveerd voor de beheerder van de machine, wordt automatisch gecreëerd tijden de installatie; dit is waarom een wachtwoord nodig is. Het installatieprogramma vraagt ook om met wachtwoord te bevestigen om enige typefout die later voor problemen kan zorgen te voorkomen.</para>

      <figure>
        <title>Beheerders Wachtwoord</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-rootpw.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>

      <sidebar>
        <title><emphasis>BEVEILIGING</emphasis> Beheerders wachtwoord</title>

	<para>Het wachtwoord voor de root gebruiker zou lang moeten zijn (8 tekens of meer) en onmogelijk te raden. Inderdaad, iedere computer (en een groot aantal servers) verbonden met het internet wordt regelmatig het doelwit van verbindingspogingen met overduidelijke wachtwoorden. Soms kan het zelfs slachtoffer worden van een woordenboek aanval, in welke veel combinaties van woorden en nummers getest worden als wachtwoord. vermijd namen van kinderen of ouders, geboortedata, enz.: veel van je collega's kunnen ze weten en je wilt ze zelden vrije toegang geven tot de computers in kwestie.</para>

	<para>Deze opmerkingen zijn evenzeer toepasbaar voor ieder ander gebruikerswachtwoord maar de consequenties van een gecompromitteerde account zijn minder dramatisch voor gebruikers zonder beheerders rechten.</para>

	<para>Als je geen inspiratie hebt, twijfel dat niet om een wachtwoord generator zoals <command>pwgen</command> (in het pakket met dezelfde naam) te gebruiken.</para>
      </sidebar>
    </section>
    <section>
      <title>De Eerste Gebruiker Creëren</title>

      <para>Debian legt ook de creatie van een standaard gebruikers account op zodat de beheerder niet de slechte gewoonte krijgt om te werken als root. Het voorzichtigheids-principe betekend in essentie dat ieder taak wordt uitgevoerd met het minimum aan vereiste rechten, om de schade aangericht door menselijke fouten te beperken. Dit is waarom het installatieprogramma vraagt naar een volledig naam van de eerste gebruiker, hun gebruikersnaam en hun wachtwoord (tweemaal, om foute ingaven te voorkomen).</para>

      <figure>
        <title>Naam van de eerste gebruiker</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-username.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section id="sect.install-clock-config">
      <title>Configuratie van de Klok</title>

      <para>Als het netwerk beschikbaar is zal de interne klok van het systeem ge-update worden (in een één-schot manier) vanaf een NTP server. Daarom is de tijds-stempel op de logbestanden correct vanaf het voor de eerste keer opstarten. Om gedurende de tijd consistent te blijven moet er na de installatie een NTP daemon ingesteld worden (zie <xref linkend="sect.time-synchronization" />).</para>
    </section>
    <section id="sect.install-detect-disks">
      <title>Schijven en Andere Apparaten Detecteren</title>

      <para>Deze stap detecteerd automatisch de harde-schijven waarop Debian kan geïnstalleerd worden. Ze zullen in de volgende stap: schijfindeling worden weergegeven.</para>
    </section>
    <section id="sect.install-partman">
      <title>Het Schijfindelings Gereedschap Starten</title>
      <indexterm><primary>schijfindeling</primary></indexterm>

      <sidebar>
        <title><emphasis>CULTUUR</emphasis> Gebruiken van schijfindelingen</title>

	<para>Schijfindelen, een onmisbare stap in de installatie, bestaat uit het indelen van de beschikbare ruimte op de harde-schijf (iedere onderverdeling ervan wordt een “partitie” genoemd) naargelang de gegeven die er op worden opgeslagen en het gebruik waarvoor de computer is bedoeld. Deze stap bevat ook de keuze van het te gebruiken bestandssysteem. Al deze beslissingen hebben een invloed op de prestaties, gegevens beveiliging en het beheren van het systeem.</para>
      </sidebar>

      <para>Het schijfindelen is traditioneel het moeilijkste voor nieuwe gebruikers. Het is nodig de verschillende delen (of “partities”) van de schijven te definiëren waarop het Linux bestandssysteem en virtueel geheugen (swap) opgeslagen zal worden. Deze taak ik gecompliceerd als er een ander besturingssysteem geïnstalleerd is dat je wilt behouden. Inderdaad, dan moet je er voor zorgen dat je zijn partities niet verandert (of dat je ze schaalt zonder schade aan te richten).</para>

      <para>Gelukkig heeft de schijfindelings-software een “begeleide” modus welke de gebruiker aanraad welke partities aan te maken — in de meeste gevallen kun je simpelweg de suggesties van de software valideren.</para>

      <figure>
        <title>Keuze van schijfindelings-modus</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-partman.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>The first screen in the partitioning tool offers the choice of
      using an entire hard drive to create various partitions. For a (new)
      computer which will solely use Linux, this option is clearly the
      simplest, and you can choose the option “Guided - use entire
      disk”. If the computer has two hard drives for two operating
      systems, setting one drive for each is also a solution that can
      facilitate partitioning. In both of these cases, the next screen
      offers to choose the disk where Linux will be installed by selecting
      the corresponding entry (for example, “SCSI3 (0,0,0) (sda) - 17.2
      GB ATA VBOX HARDDISK”). You then start guided partitioning.</para>

      <figure>
        <title>Schijf te gebruiken voor begeleide schijfindeling</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-partman-disk.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Begeleide schijfindeling kan ook ingesteld worden op LVM logische volumes in plaats van op partities (zie hieronder). Omdat de rest van de handelingen hetzelfde is zullen we de optie “Begeleid - benut gehele schijf en gebruik LVM” (encryptie of niet) niet bespreken.</para>

      <para>In andere gevallen, wanneer Linux naast een reeds bestaande partitie moet werken, moet je de manuele schijfindeling kiezen.</para>
      <section id="sect.install-autopartman-mode">
        <title>Begeleide schijfindeling</title>
        <indexterm><primary>schijfindeling</primary><secondary>begeleide schijfindeling</secondary></indexterm>

	<para>Het begeleide schijfindelings-software biedt drie indelings-methodes, welke overeenkomen met verschillende gebruiken.</para>

        <figure>
          <title>Begeleide schijfindeling</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/inst-autopartman-mode.png" scalefit="1" width="65%" />
            </imageobject>
          </mediaobject>
        </figure>

	<para>De eerste methode heet “Alle bestanden in één partitie”. De volledige Linux systeem boom wordt opgeslagen in een enkel bestandssysteem, overeenkomstig met de root <filename>/</filename> directory. Deze simpele een robuste indeling past perfect voor mensen open enkele-gebruiker systemen. In feite zullen er twee partities gemaakt worden: de eerste zal het volledige systeem herbergen, de tweede het virtuele geheugen (swap).</para>

	<para>De tweede methode, “Gescheide <filename>/home/</filename> partitie”, is gelijkaardig, maar splits de bestands-hiërarchie in twee delen. één partitie bevat het Linux systeem (<filename>/</filename>, en het tweede bevat de “home directories” (dit betekend gebruikers gegevens, in bestanden en subdirectory's beschikbaar onder <filename>/home/</filename>).</para>

	<para>De laatste indelingsmethode genaamd “Gescheide <filename>/home</filename>, <filename>/var</filename>, en <filename>/tmp</filename> partities”, is geschikt voor servers en meerdere-gebruikers systemen. Het deelt de bestands-boom op in verschillende delen: in aanvulling op de root (<filename>/</filename> en gebruikers accounts (<filename>/home/</filename>) partities, heeft het ook nog partities voor server software gegevens (<filename>/var/</filename>), en tijdelijke bestanden (<filename>/tmp/</filename>). Deze indelingen hebben verschillende voordelen. Gebruikers kunnen de server niet laten vastlopen door alle beschikbare schijfruimte te consumeren (ze kunnen enkel die van <filename>/tmp/</filename> en <filename>/home/</filename> opvullen). De daemon gegevens (speciale logs) kunnen de rest van het systeem niet verstoppen.</para>

        <sidebar>
          <title><emphasis>TERUG NAAR DE BASIS</emphasis> Een bestandssysteem kiezen</title>
          <indexterm><primary>systeem</primary><secondary>bestandssysteem</secondary></indexterm>
          <indexterm><primary>bestands</primary><secondary>systeem</secondary></indexterm>

	  <para>A filesystem defines the way in which data is
	  organized on the hard drive. Each existing filesystem has
	  its merits and limitations. Some are more robust, others
	  more effective: if you know your needs well, choosing the
	  most appropriate filesystem is possible. Various comparisons
          have already been made; it seems that <emphasis>ReiserFS</emphasis> is
	  particularly efficient for reading many small files;
	  <emphasis>XFS</emphasis>, in turn, works faster with large
	  files. <emphasis>Ext4</emphasis>, the default filesystem for
	  Debian, is a good compromise, based on the three previous
	  versions of filesystems historically used in Linux
	  (<emphasis>ext</emphasis>, <emphasis>ext2</emphasis> and
	  <emphasis>ext3</emphasis>). <emphasis>Ext4</emphasis>
	  overcomes certain limitations of <emphasis>ext3</emphasis>
	  and is particularly appropriate for very large capacity hard
	  drives.  Another option would be to experiment with the very
	  promising <emphasis>btrfs</emphasis>, which includes
	  numerous features that require, to this day, the use of LVM
	  and/or RAID.</para>

	  <para>Een gejournaliseerd bestandssysteem (zoals <emphasis>ext3</emphasis>, <emphasis>ext4</emphasis>, <emphasis>btrfs</emphasis>, <emphasis>reiserfs</emphasis> of <emphasis>xfs</emphasis>) neemt speciale maatregelen om het mogelijk te maken terug te keren naar een eerdere consistente staat na een abrupte onderbreking, zonder een volledige analyse van volledige schijf (zoals het geval was met het <emphasis>ext2</emphasis> systeem). Deze functionaliteit wordt uitgevoerd door een journaal in te vullen dat de handelingen beschrijft die uitgevoerd moeten worden voor deze uitgevoerd worden. Als een handeling onderbroken wordt, zal het mogelijk zijn om het te “herhalen” vanuit het journaal. Omgekeerd, als een onderbreking optreed tijden een update aan het journaal, word de laatst gevraagde verandering simpelweg genegeerd; de data die geschreven wordt kan verloren gaan, maar omdat de gegevens op de schijf niet zijn veranderd, blijven ze coherent. Dit is niets meer of minder dan een transactioneel mechanisme toegepast op het bestandssysteem.</para>
        </sidebar>

	<para>Na het kiezen van het type partitie brekend de software een voorstel en omschrijft het op het scherm; de gebruiker kan het dan indien nodig aanpassen. Je kan, met name, een ander bestandssysteem kiezen als de standaard keuze (<emphasis>ext4</emphasis>) niet geschikt is. Hoewel, in de meeste gevallen is de voorgestelde indeling redelijk en kan geaccepteerd worden door de kiezen voor "Schijfindeling afsluiten en veranderingen naar schijf schrijven".</para>

        <figure>
          <title>Schijfindeling valideren</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/inst-partman-validation.png" scalefit="1" width="65%" />
            </imageobject>
          </mediaobject>
        </figure>
      </section>
      <section id="sect.manual-partitioning">
        <title>Manuele Schijfindeling</title>
        <indexterm><primary>schijfindeling</primary><secondary>manuele schijfindeling</secondary></indexterm>

	<para>Manuele schijfindeling laat een grotere flexibiliteit toe, het staat de gebruiker toe om het doel en de grote van iedere partitie te liezen. Voorts is deze modus onvermijdbaar als je Software RAID wenst te gebruiken.</para>

        <sidebar id="sidebar.shrinking-partition">
          <title><emphasis>IN DE PRAKTIJK</emphasis> Inkrimpen van een Windows partitie</title>
          <indexterm><primary>een partitie schalen</primary></indexterm>
          <indexterm><primary>een partitie inkrimpen</primary></indexterm>

	  <para>Om Debian langs een bestaand besturingssysteem (Windows of een ander) te installeren, moet je wat beschikbare ruimte hebben op de harde-schijf, deze mag niet in gebruik zijn door het andere systeem om de mogelijkheid te hebben de partities toegewijd aan Debian te creëren. In de meeste gevallen betekend dit het inkrimpen van een Windows partitie en de vrij gekomen ruimte her-benutten.</para>

	  <para>Het Debian installatieprogramma laat deze bewerking toe wanneer je de manuele modus voor schijfindeling gebruikt. Je moet enkel de Windows partitie te kiezen en zijn nieuwe grote (dit werk hetzelfde voor zowel FAT als NTFS partities).</para>
        </sidebar>

	<para>Het eerste scherm toont de beschikbare schijven, hun indeling en iedere mogelijk vrije ruimte die nog niet is ingedeeld. Je kunt ieder weergegeven element selecteren; op de <keycap>Enter</keycap> toets drukken geeft dan een lijst met mogelijkheden.</para>

	<para>Je kunt alle partities van een schijf verwijderen door het te selecteren.</para>

	<para>Wanneer je vrije ruimte op een schijf selecteert, kun je manueel nieuwe partities maken. Je kunt dit ook doen met de geleide indeling, wat een interessante oplossing is voor een schijf welke al een ander besturingssysteem bevat, maar welke je wenst in te delen voor Linux op een standaard manier. zie <xref linkend="sect.install-autopartman-mode" /> voor meer details over begeleide indeling.</para>

        <sidebar>
          <title><emphasis>TERUG NAAR DE BASIS</emphasis> Koppel punt</title>
          <indexterm><primary>koppel punt</primary></indexterm>
          <indexterm><primary>punt, koppel punt</primary></indexterm>

	  <para>Het koppel punt is een directory boom welke de inhoud van het bestandssysteem op de geselecteerde partitie herbergt. Dus, een partitie gekoppeld op <filename>/home/</filename> is traditioneel bedoeld om gebruikers gegevens te bevatten.</para>

	  <para>Wanneer deze directory de naam “<filename>/</filename>” heeft, is het bekend als de <emphasis>root</emphasis> (wortel) van de bestand boom en daarom de wortel van de partitie welke het Debian systeem herbergt.</para>
        </sidebar>

        <sidebar>
          <title><emphasis>TERUG NAAR DE BASIS</emphasis> Virtueel geheugen, swap</title>
          <indexterm><primary>virtueel geheugen</primary></indexterm>
          <indexterm><primary>swap</primary></indexterm>
          <indexterm><primary>partitie</primary><secondary>swap partitie</secondary></indexterm>
          <indexterm><primary>swap partitie</primary></indexterm>

	  <para>Virtueel geheugen laar de Linux kernel toe, wanneer er onvoldoende geheugen (RAM) is, om een beetje opslag vrij te maken door delen van het RAM die reeds enige tijd non-actief zijn op te slaan op de swap partitie van de harde-schijf.</para>

	  <para>Om het extra geheugen te simuleren gebruikt Windows een swap bestand dat zich rechtstreeks in het bestandssysteem bevindt. In het tegenovergestelde gebruikt Linux een toegewijde partitie voor dit doel, vandaar de term “swap partitie”.</para>
        </sidebar>

	<para>Wanneer je een partitie kiest, kun je aangeven op welke manier je er gebruik van gaat maken:</para>
        <itemizedlist>
          <listitem>
	    <para>het formatteren en toevoegen in de bestand boom door een koppel punt te kiezen;</para>
          </listitem>
          <listitem>
	    <para>gebruik het als swap partitie;</para>
          </listitem>
          <listitem>
	    <para>er een “fysiek volume voor encryptie” van maken (om de vertrouwelijkheid van de gegevens op bepaalde partities te beschermen, zie hieronder);</para>
          </listitem>
          <listitem>
	    <para>maak er een “fysiek volume voor LVM” van (dit concept wordt in meer later in dit hoofdstuk in detail besproken);</para>
          </listitem>
          <listitem>
	    <para>gebruik het als een RAID apparaat (zie verder in dit hoofdstuk);</para>
          </listitem>
          <listitem>
	    <para>je kunt er ook voor kiezen om het niet te gebruiken, en het daarom onaangepast laten.</para>
          </listitem>
        </itemizedlist>
      </section>
      <section id="sect.install-software-raid">
        <title>Multi-schijf Apparaten Configureren (Software RAID)</title>
        <indexterm><primary>RAID</primary><secondary>Software RAID</secondary></indexterm>
        <indexterm><primary>Software RAID</primary></indexterm>
        <indexterm><primary>apparaat</primary><secondary>multi-schijf apparaat</secondary></indexterm>

	<para>Bepaalde types van RAID staan de duplicatie van informatie opgeslagen op harde-schijven toe om verlies van gegevens te voorkomen ten gevolge van een hardware probleem dat invloed heeft op één van hen. Level 1 RAID houdt het simpel, identieke kopie (spiegel) van een harde-schijf op een andere schijf, terwijl leven 5 RAID overtollige data splitst over verschillende schijven, wat een volledige reconstructie van een falende schijf toestaat.</para>

	<para>We zullen enkel level 1 RAID beschrijven, welke het gemakkelijkste te implementeren is. De eerste stap betreft het maken van twee partities van identieke grote gelokaliseerd op twee verschillende harde-schijven, en ze het label “fysiek volume voor RAID” te geven.</para>

	<para>Je moet dan kiezen voor “software RAID configureren” in het schijfindelings-programma om deze twee partities te combineren in een nieuwe virtuele schijf en “Creëer  MD apparaat” te kiezen in het configuratie scherm. Je moet dan een reeks vragen beantwoorden over dit nieuwe apparaat. De eerste vraag is welk RAID level te gebruiken, wat in ons geval “RAID1” zal zijn. De tweede vraag vraagt naar het aantal actieve apparaten — twee in ons geval, welke het nummer is van de partities die we toe willen voegen aan dit MD apparaat. De derde vraag is over het aantal reserve apparaten — O; we hebben geen extra schijf gepland die het overneemt van een mogelijk defecte schijf. De laatste vraag vereist je de partities te kiezen voor het RAID apparaat — deze zouden de twee die we hiervoor apart hebben gezet zijn (zorg ervoor dat je enkel de partities selecteert die expliciet “raid” vermelden).</para>

	<para>Terug naar het hoofdmenu, een nieuwe virtuele RAID” schijf verschijnt. Deze schijf is weergegeven met een enkele partitie welke niet gewist kan worden, maar wiens gebruikt we kunnen kiezen (net zoals iedere andere partitie).</para>

	<para>Voor meer details over RAID functies, kijk a.u.b. op <xref linkend="sect.raid-soft" />.</para>
      </section>
      <section id="sect.install-lvm">
        <title>De Logical Volume Manager (LVM) Configureren</title>
        <indexterm><primary>LVM</primary><secondary>tijdens de installatie</secondary></indexterm>
        <indexterm><primary>Logical Volume Manager</primary><secondary>tijdens de installatie</secondary></indexterm>

	<para>LVM staat toe om “virtuele” partities te maken die zich uitspannen over meerdere schijven. Het voordeel is tweevoudig: de grote van de partities zijn niet langer gelimiteerd door individuele schijven maar hun cumulatief volume en je kunt bestaande partities ten alle tijden schalen, mogelijk na toevoeging van een extra schijf wanneer nodig.</para>

	<para>LVM gebruikt een bijzonder terminologie: een virtuele partitie is een “logisch volume”, welke een deel is van een “volume groep” of een associatie van verschillende “fysieke volumes”. Ieder van deze termen correspondeert met een “echte” partitie (of een Software RAID apparaat).</para>
        <indexterm><primary>volume</primary><secondary>logisch volume</secondary></indexterm>
        <indexterm><primary>volume</primary><secondary>fysiek volume</secondary></indexterm>
        <indexterm><primary>groep</primary><secondary>van volumes</secondary></indexterm>
        <indexterm><primary>volume</primary><secondary>groep</secondary></indexterm>

	<para>Deze techniek werk op een simpele manier: ieder volume, ongeacht het fysiek of logisch is, wordt opgesplitst in blokken van dezelfde grote, welke gemaakt worden om te corresponderen met LVM. De toevoeging van een nieuwe schijf zal de creatie van nieuw fysiek volume veroorzaken, en deze nieuwe blokken kunnen geassocieerd  worden met iedere volume groep. Al de partities in het volume groep dat wordt uitgebreid zullen dus extra ruimte hebben waarin ze kunnen uitgebreid worden.</para>

	<para>Het schijfindelings gereedschap configureert LVM in verschillende stappen. Eerst moet je op de bestaande schijven partities creëren die “fysieke volumes voor LVM” zullen zijn. Om LVM te activeren, moet je kiezen voor “de Logische Volume Manager (LVM) configureren”, dan op hetzelfde configuratie scherm “creëer een volume groep”, aan welke je de bestaande fysieke volumes associeert. Tenslotte, kun je logische volumes creëren binnen deze volume groep. Merk op dat het automatische schijfindelings-systeem al deze stappen automatisch kan uitvoeren.</para>

	<para>In het schijfindelings-menu zal ieder fysiek volume weergegeven worden als een schijf met een enkele partitie welke niet gewist kan worden, maar die je naar keuze kunt gebruiken.</para>

	<para>Het gebruik van LVM is in meer detail beschreven in <xref linkend="sect.lvm" />.</para>
      </section>
      <section>
        <title>Geëncrypteerde Partities opzetten</title>
        <indexterm><primary>LUKS</primary></indexterm>
        <indexterm><primary>dm-crypr</primary></indexterm>
        <indexterm><primary>partitie</primary><secondary>geëncrypteerd</secondary></indexterm>
        <indexterm><primary>partitie encryptie</primary></indexterm>
        <indexterm><primary>vertrouwelijke</primary><secondary>bestanden</secondary></indexterm>
        <indexterm><primary>bestands</primary><secondary>vertrowelijkheid</secondary></indexterm>

	<para>Om de vertrouwelijkheid van jouw gegeven te garanderen, bij voorbeeld in het geval van verlies of diefstal van jouw computer of harde-schijf, is het mogelijk de gegeven op bepaalde partities te encrypteren. Deze mogelijkheid kan onder het bestandssysteem ingevoegd worden, omdat voor LVM, Linux (en in het bijzonder het dm-crypt stuurprogramma) de Device Lapper gebruikt om een virtuele partitie (wiens gegevens beschermd zijn) gebaseerd op een onderliggende partitie die de gegevens in een geëncrypteerde vorm opslaat (dankzij LUKS, Linux Unified Key Setup, een standaard formaat dat het opslaan van geëncrypteerde gegevens toelaat alsmede een meta-informatie welke aangeeft welk encryptie algoritme is gebruikt).</para>

        <sidebar id="sidebar.encrypted-swap-partition">
          <title><emphasis>BEVEILIGINS</emphasis> Geëncrypteerde swap partitie</title>

	  <para>Wanneer men een versleuteld partitie gebruikt, wordt de sleutel opgeslagen in het geheugen (RAM). Omdat het ophalen van deze sleutel de decodering van de gegevens toelaat, is het uitermate belangrijk om te voorkomen dat een kopie van deze sleutel dan beschikbaar zal zijn voor de mogelijke dief van de computer of harde-schijf, of voor een onderhouds-technicien. Hoewel dit iets is wat gemakkelijke kan voorkomen met een laptop, omdat tijdens hiberneren de inhoud van het RAM wordt opgeslagen op de swap partitie. Als deze partitie niet vesleuteld is, kan de dief de sleutel bemachtigen en het gebruiken om de gegevens op de versleutelde partitie te decoderen. Daarom moet je, bij gebruik van versleutelde partities, noodzakelijk om ook de swap partitie te versleutelen!</para>

	  <para>Het Debian installatie programma zal de gebruiker waarschuwen als ze een versleutelde partitie aanmaken terwijl de swap partitie niet versleuteld is.</para>
        </sidebar>

	<para>Om een versleutelde partitie te maken, moet je eerst een beschikbare partitie toewijzen voor die doel. Om dit te doen, selecteer een partitie en geef aan dat het gebruikt moet worden als een “fysiek volume voor versleuteling”. Na het indelen van de schijf waarop het fysiek volume gemaakt moet worden, kies “Configureer versleutelde volumes”. De software zal dan voorstellen om het fysieke volume te initialiseren met willekeurige gegevens (wat het lokaliseren van de echte gegevens veel moeilijker maakt), en het zal vragen om een “versleutelings wachtwoord” in te geven, welke je moet ingeven iedere keer je de computer opstart om toegang te krijgen tot de versleutelde partitie. Eenmaal deze stap voltooid is en je bent terug in het schijfindelings menu, zal er een nieuwe partitie beschikbaar zijn in een “versleuteld volume” welke je kunt configureren net zoals iedere andere partitie. In de meeste gevallen wordt deze partitie gebruikt als een fysiek volume voor LVM om zo verschillende partities (LVM logische volumes) te versleutelen met dezelfde encryptie sleutel, inclusief de swap partitie (zie marge <xref linkend="sidebar.encrypted-swap-partition" />).</para>
      </section>
    </section>
    <section>
      <title>Het basissysteem Installeren</title>
      <indexterm><primary>systeem</primary><secondary>basis</secondary></indexterm>

      <para>Deze stap, welke geen interactie met de gebruiker verijst, installeert de Debian “basissysteem” pakketten. Dit is inclusief het <command>dpkg</command> en <command>apt</command> gereedschap, welke Debian pakketten beheren, alsmede de programma die nodig zijn om het systeem op te starten en te gebruiken.</para>

      <figure>
        <title>Installatie van het basissysteem</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-basesystem.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section>
      <title>De Pakket Beheerder (<command>apt</command>) configureren</title>
      <indexterm><primary>configuratie</primary><secondary>initiële configuratie van APT</secondary></indexterm>
      <indexterm><primary>APT</primary><secondary>initiële configuratie</secondary></indexterm>

      <para>Om in staat te zijn om extra software te installeren, moet APT geconfigureerd worden en verteld waar de Debian pakketten gevonden kunnen worden. Deze stap is zo geautomatiseerd als mogelijk. Het start met de vraag  of een netwerk gebruikt moet worden als bron van de pakketten, of als het enkel moet kijken voor pakketten op de CD-ROM.</para>

      <sidebar>
        <title><emphasis>NOTITIE</emphasis> Debian CD-ROM in het station</title>

	<para>Als het installatieprogramma een Debian installatie schijf detecteert in de CD/DVD lezer is het niet nodig om APT te configureren om pakketten te gaan zoeken op een netwerk: APT wordt automatisch geconfigureerd om pakketten te lezen van een verwijderbaar medium. Als de schijf tot een set behoort, zal de software aanbieden om andere schijven te “ontdekken” om te kunnen verwijzen naar alle pakketten die er op zijn opgeslagen.</para>
      </sidebar>

      <para>Als het ophalen van de pakketten via het netwerk gewenst is laten de volgende twee vragen toe om een server te kiezen van waar deze pakketten gedownload moeten worden, door eerst het land te kiezen en dan een spiegel beschikbaar in dat land (een spiegel is een publieke server die kopie's van alle bestanden van het Debian meester archief herbergt).</para>

      <figure>
        <title>Een Debian spiegel selecteren</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-mirror.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Tenslotte stelt het programma voor om een HTTP proxy te gebruiken. Als er geen proxy is zal de internet toegang rechrstreeks zijn. Als je <literal>http://proxy.falcot.com:3128</literal> typt, zal APT de Falcot proxy <foreignphrase>proxy/cache</foreignphrase> een “Squid” programma gebruiken. Je kunt deze instellingen vinden door de configuratie van een web browser op een andere machine verbonden aan het zelfde netwerk te controleren.</para>

      <para>The files <filename>Packages.xz</filename> and
      <filename>Sources.xz</filename> are then automatically downloaded to
      update the list of packages recognized by APT.</para>

      <sidebar>
        <title><emphasis>TERUG NAAR DE BASIS</emphasis> HTTP proxy</title>
        <indexterm><primary>proxy</primary></indexterm>
        <indexterm><primary>proxy cache</primary></indexterm>
        <indexterm><primary>cache, proxy</primary></indexterm>
        <indexterm><primary>Squid</primary></indexterm>

	<para>Een HTTP proxy is een server die een HTTP aanvraag doorstuurt voor netwerk gebruikers. Het help soms downloads te versnellen door een kopie van alle bestanden die erdoor getransfereerd zijn te bewaren (we spreken dan over proxy/cache). In bepaalde gevallen is dit de enige manier om toegang te krijgen tot een externe web server; in zulke gevallen is het essentieel om de corresponderende vragen tijdens de installatie te beantwoorden om het programma toe te laten de Debian pakketten erdoor te downloaden.</para>

	<para>Squid is de naam van de server software die Falcot Corp gebruikt om deze dienst aan te bieden.</para>
      </sidebar>
    </section>
    <section>
      <title>Debian Pakketten Populariteits-Wedstrijd</title>

      <para>Het Debian systeem bevat een pakket genaamd <emphasis role="pkg">popularity-contest</emphasis> wiens doel het is om pakket gebruik statistieken de genereren. Iedere week verzamelt dit programma informatie over welke pakketten geïnstalleerd zijn en welke recent gebruikt, en verzendt deze informatie anoniem naar de Debian project servers. Het project kan deze informatie dan gebruiken om te bepalen wat de relatieve belang is van ieder pakket, wat invloed heeft op de prioriteit die er aan wordt gegeven. Hoofdzakelijk zullen de “populairste” pakketten inbegrepen worden op de installatie CD-ROM, welke hun toegang, voor de gebruikers die ze niet wensen te downloaden of geen volledige set willen kopen, faciliteert.</para>

      <para>Dit pakket wordt enkel geactiveerd op vraag, uit respect voor de vertrouwelijkheid van het gebruik door de gebruikers.</para>
    </section>
    <section>
      <title>Pakketten selecteren voor Installatie</title>

      <para>De volgende stap laat toe om het doel van de machine te kiezen, in heel brede termen; de dan gesuggereerde taken komen overeen met een lijst van pakketten om te installeren. De lijst van pakketten die effectief geïnstalleerd worden zullen later nog afgestemd worden, maar dit bied een goede uitgangspositie in een simpele manier.</para>

      <para>Some packages are also automatically installed according to the
      hardware detected (thanks to the program
      <command>discover-pkginstall</command> from the <emphasis role="pkg">discover</emphasis> package).</para>

      <figure>
        <title>Taak keuzes</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-tasksel.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section id="sect.installing-grub">
      <title>De GRUB Opstartlader Installeren</title>
      <indexterm><primary>lader</primary><secondary>opstartlader</secondary></indexterm>
      <indexterm><primary>opstartlader</primary></indexterm>
      <indexterm><primary>GRUB</primary></indexterm>

      <para>De opstartlader is het eerste programma dat gestart wordt door de BIOS. Dit programma laad de Linux kernel in het geheugen en voert het dan uit. Het biedt vaak een menu dat de gebruiker de op te starten kernel en/of besturingssysteem laat kiezen.</para>

      <sidebar id="sidebar.bootloader-dual-boot">
        <title><emphasis>LET OP</emphasis> Opstartlader en dubbel opstarten</title>
        <indexterm><primary>dual boot</primary></indexterm>

	<para>Deze fase in het Debian installatie proces detecteert de besturingssystemen die al geïnstalleerd zijn op de computer en voegt de corresponderende ingangen automatisch toe in het opstart menu, maar niet alle installatie programma's doen dit.</para>

	<para>In het bijzonder, als je naderhand Windows installeert (of herinstalleert) zal de opstartladen gewist worden. Debian zal nog steeds op de harde-schijf staan, maar zal niet langer beschikbaar zijn vanaf het opstart menu. Je zal dan het Debian installatie systeem in <userinput>rescue</userinput> modus moeten opstarten om een minder exclusieve opstartlader te installeren. Dit proces wordt in detail beschreven in de installatie handleiding. <ulink type="block" url="http://www.debian.org/releases/stable/amd64/ch08s07.html" /></para>
      </sidebar>

      <para>Standaard zal het menu voorgesteld door GRUB all de geïnstalleerde Linux kernels bevatten als ook ieder ander besturingssysteem dat gedetecteerd werd. Dit is waarom je het voorstel om het in het Master Boot Record te installeren moet aanvaarden. Omdat oudere kernels bewaren de mogelijkheid biedt, om indien de recente kernel defect is of slecht aangepast op de hardware, op te starten met de oude kernel. Het is dus zinvol om enkele oudere kernel versies geïnstalleerd te laten.</para>

      <para>GRUB is de standaard opstartlader geïnstalleerd door Debian dankzij zijn technische superioriteit: het werkt met de meeste bestandssystemen en heeft daarom geen update nodig na iedere installatie van een nieuwe kernel, omdat het de configuratie leest tijdens het opstarten en vindt de exacte locatie van de nieuwe kernel. Versie 1 van GRUB (nu bekend als “Grub Legacy”) kon niet alle combinaties van LVM en software RAID aan; versie 2, standaard geïnstalleerd, is completer. Er kunnen nog situaties zijn waar het is aan te raden om LILO (en andere opstartlader) te installeren; het installatieprogramma zal dit automatisch voorstellen.</para>

      <para>Voor meer informatie over het configureren van GRUB, lees <xref linkend="sect.config-grub" /> a.u.b.</para>

      <sidebar>
        <title><emphasis>LET OP</emphasis> Opstartladers en architecturen</title>

	<para>LILO en GRUB, welke vermeld worden in dit hoofdstuk, zijn opstartladers voor <emphasis>i386</emphasis> en <emphasis>amd64</emphasis> architecturen. Als je Debian installeert op een andere architectuur, zul je een andere opstartlader moeten gebruiken. Onder andere kunnen we citeren: <command>yaboot</command> of <command>quik</command> voor <emphasis>powerpc</emphasis>, <command>silo</command> voor <emphasis>sparc</emphasis>, <command>aboot</command> voor <emphasis>alpha</emphasis>, <command>arcboot</command> voor <emphasis>mips</emphasis>.</para>
      </sidebar>
    </section>
    <section>
      <title>De Installatie Beëindigen en Opnieuw Opstarten</title>

      <para>De installatie is nu voltooid, het programma vraagt je om de CD-ROM te verwijderen uit de lezer en de computer opnieuw op te starten.</para>
    </section>
  </section>
  <section id="sect.after-first-boot">
    <title>Na de eerste keer Opstart</title>

    <para>Als je de taak “Debian desktop omgeving” geactiveerd hebt zonder een expliciete keuze voor de desktop (of met de “GNOME” keuze), zal de computer het <command>gdm3</command> login manager weergeven.</para>

    <figure>
      <title>Eerste opstart</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/inst-gdm.png" scalefit="1" width="65%" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>De gebruiker die al is gecreëerd kan dan inloggen en onmiddellijk beginnen te werken.</para>
    <section>
      <title>Extra Software Installeren</title>

      <para>De geïnstalleerde pakketten komen overeen met de profielen gekozen tijdens de installatie, maar niet noodzakelijk aan het actuele gebruik van de machine. Als zodanig wil je misschien een pakket beheers gereedschap gebruiken om de selectie van geïnstalleerde pakketten te verfijnen. De twee meest gebruikte gereedschappen (welke geïnstalleerd worden als het “Debian desktop omgeving” pofiel gekozen is) zijn <command>apt</command> (beschikbaar vanaf de commando regel) en <command>synaptic</command> (“Synaptic Pakketbeheer” in de menu's).</para>

      <para>Om de installatie van coherente programma's te faciliteren, creëert Debian “taken” die toegewijd zijn aan specifieke gebruiken (email server, bestandsserver, enz.). Je hebt al de mogelijkheid gehad om ze te selecteren tijdens de installatie en je kan ze opnieuw bereiken dankzij de pakketbeheers programma's zoals <command>aptitude</command> (de taken zijn opgelijst in een aparte sectie) en <command>synaptic</command> (via het menu <menuchoice> <guimenu>Bewerken</guimenu> <guimenuitem> Pakketten markeren op taken…</guimenuitem> </menuchoice>).</para>

      <para>Aptitude is een interface voor APT in volledig-scherm tekst modus. Het laat de gebruiker toe te bladeren door lijsten van beschikbare pakketten volgens de verschillende categorieën (geïnstalleerd of niet geïnstalleerde pakketten, volgens taak, volgens selectie, enz.), en om all de beschikbare informatie voor ieder van hen (afhankelijkheden, conflicten, omschrijving, enz.) weer te geven. Ieder pakket kan gemarkeerd worden met “installeren” (te installeren, <keycap>+</keycap> toets) of “verwijder” (te verwijderen, <keycap>-</keycap>“install” toets). All deze bewerkingen worden simultaan uitgevoerd eenmaal je ze bevestigd hebt door op de <keycap>g</keycap> toets (“g” voor “go!”) te drukken. Als je sommige programma's bent vergeten, geen zorden; je zult <command>aptitude</command> opnieuw kunnen uitvoeren eenmaal de eerste installatie voltooid is.</para>
      <indexterm><primary>aptitude</primary></indexterm>

      <sidebar>
        <title><emphasis>TIP</emphasis> Debian denkt aan mensen die geen Engels spreken</title>

	<para>Verschillende taken zijn toegewijd aan de localizatie van het systeem in andere talen dan het Engels. Ze bevatten vertaalde documentatie, woordenboeken en verschillende andere pakketten bruikbaar voor mensen die andere taken spreken. De geschikte taak is automatisch geselecteerd als een niet Engelse taal was gekozen tijden de installatie.</para>
      </sidebar>

      <sidebar>
        <title><emphasis>CULTUUR</emphasis> <command>dselect</command>, de oude interface om pakketten te installeren</title>

	<para>Voor <command>aptitude</command>, het standaard programma was om pakketten te selecteren voor installatie, was <command>dselect</command> de oude grafische interface geaccordeerd met <command>dpkg</command>. Omdat het een moeilijk te gebruiken programma is voor beginners, wordt het niet aanbevolen.</para>
        <indexterm><primary><command>dselect</command></primary></indexterm>
      </sidebar>

      <para>Of course, it is possible not to select any task to be
      installed. In this case, you can manually install the desired
      software with the <command>apt</command> or
      <command>aptitude</command> command (which are both accessible from
      the command line).</para>

      <sidebar>
        <title><emphasis>WOORDENSCHAT</emphasis> Pakket afhankelijkheden, conflicten</title>

	<para>In de Debian verpakking lingo is een “aghankelijkheid” (dependency) en een ander pakket nodig voor het correct functioneren van het pakket in kwestie. In tegenstelling, een “conflict” is een pakket dat niet geïnstalleerd kan worden zij-aan-zijn met een ander.</para>

	<para>Deze concepten worden in groter detail besproken in <xref linkend="packaging-system" />.</para>
      </sidebar>
    </section>
    <section>
      <title>Het Systeem Upgraden</title>
      <indexterm><primary>safe-upgrade</primary></indexterm>

      <para>A first <command>apt upgrade</command> (a command
      used to automatically update installed programs) is generally
      required, especially for possible security updates issued since the
      release of the latest Debian stable version. These updates may
      involve some additional questions through <command>debconf</command>,
      the standard Debian configuration tool. For further information on
      these updates conducted by <command>apt</command>, please refer
      to <xref linkend="sect.apt-upgrade" />.</para>
    </section>
  </section>
</chapter>
