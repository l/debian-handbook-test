<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">9.3. Gestione dei permessi</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-it-IT-1.0-1" /><meta
        name="keywords"
        content="Avvio del sistema, Initscripts, SSH, Telnet, Diritti, Permessi, Supervisione, Inetd, Cron, Backup, Hotplug, PCMCIA, APM, ACPI" /><link
        rel="home"
        href="index.html"
        title="Il Manuale dell'Amministratore Debian" /><link
        rel="up"
        href="unix-services.html"
        title="Capitolo 9. Servizi Unix" /><link
        rel="prev"
        href="sect.remote-login.html"
        title="9.2. Accesso remoto" /><link
        rel="next"
        href="sect.administration-interfaces.html"
        title="9.4. Interfacce di amministrazione" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/it-IT/stable/sect.rights-management.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.remote-login.html"><strong>Indietro</strong></a></li><li
          class="home">Il Manuale dell'Amministratore Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.administration-interfaces.html"><strong>Avanti</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.rights-management"></a>9.3. Gestione dei permessi</h2></div></div></div><div
          class="para">
			Linux è decisamente un sistema multi-utente, per cui è necessario fornire un sistema di permessi per il controllo delle operazioni autorizzate su file e directory, che comprende tutte le risorse di sistema e i device (in un sistema Unix, qualsiasi dispositivo è rappresentato da un file o directory). Questo principio è comune a tutti i sistemi Unix, ma un promemoria è sempre utile, soprattutto perché ci sono alcuni utilizzi avanzati interessanti e relativamente sconosciuti.
		</div><a
          id="id-1.12.6.3"
          class="indexterm"></a><a
          id="id-1.12.6.4"
          class="indexterm"></a><a
          id="id-1.12.6.5"
          class="indexterm"></a><a
          id="id-1.12.6.6"
          class="indexterm"></a><a
          id="id-1.12.6.7"
          class="indexterm"></a><a
          id="id-1.12.6.8"
          class="indexterm"></a><div
          class="para">
			Ogni file o directory ha permessi specifici per tre categorie di utenti:
		</div><div
          xmlns:d="http://docbook.org/ns/docbook"
          class="itemizedlist"><ul><li
              class="listitem"><div
                class="para">
					il proprietario (simboleggiato dalla lettera <code
                  class="literal">u</code> di «user»);
				</div></li><li
              class="listitem"><div
                class="para">
					il gruppo proprietario (simboleggiato dalla lettera <code
                  class="literal">g</code> di «group»), in rappresentanza di tutti i membri del gruppo;
				</div></li><li
              class="listitem"><div
                class="para">
					gli altri (simboleggiati dalla lettera <code
                  class="literal">o</code> di «other»).
				</div></li></ul></div><div
          class="para">
			Si possono combinare tre tipi di diritti:
		</div><div
          xmlns:d="http://docbook.org/ns/docbook"
          class="itemizedlist"><ul><li
              class="listitem"><div
                class="para">
					lettura (simboleggiata dalla lettera <code
                  class="literal">r</code> di «read»);
				</div></li><li
              class="listitem"><div
                class="para">
					scrittura (o modifica, simboleggiata dalla lettera <code
                  class="literal">w</code> di «write»);
				</div></li><li
              class="listitem"><div
                class="para">
					esecuzione (simboleggiata dalla lettera <code
                  class="literal">x</code> come in «eXecute»).
				</div></li></ul></div><a
          id="id-1.12.6.13"
          class="indexterm"></a><a
          id="id-1.12.6.14"
          class="indexterm"></a><a
          id="id-1.12.6.15"
          class="indexterm"></a><a
          id="id-1.12.6.16"
          class="indexterm"></a><div
          class="para">
			Nel caso di un file, questi diritti sono di facile comprensione: l'accesso in lettura permette di leggerne il contenuto (incluso farne una copia), l'accesso in scrittura permette di cambiarlo, e l'accesso in esecuzione permette di eseguirlo (che funziona solo se si tratta di un programma).
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>SICUREZZA</em></span> eseguibili <code
                      class="literal">setuid</code> e <code
                      class="literal">setgid</code></strong></p></div></div></div><div
            class="para">
			Due diritti particolari sono rilevanti per i file eseguibili: <code
              class="literal">setuid</code> e <code
              class="literal">setgid</code> (simboleggiati con la lettera «s»). Si noti che spesso si parla di «bit», poiché ciascuno di questi valori booleani può essere rappresentato da uno 0 o un 1. Questi due diritti consentono a qualsiasi utente di eseguire il programma con i diritti del proprietario o del gruppo, rispettivamente. Questo meccanismo garantisce l'accesso alle funzionalità che richiedono permessi di livello superiore rispetto a quelli che l'utente avrebbe di solito.
		</div><a
            id="id-1.12.6.18.3"
            class="indexterm"></a><a
            id="id-1.12.6.18.4"
            class="indexterm"></a><div
            class="para">
			Poiché un programma con <code
              class="literal">setuid</code> root è sistematicamente eseguito con l'identità del superutente, è molto importante assicurarsi che sia sicuro e affidabile. Infatti, un utente che riuscisse a sovvertirlo per invocare un comando di sua scelta potrebbe poi impersonare l'utente root ed avere tutti i diritti sul sistema.
		</div></div><div
          class="para">
			Una directory è gestita in modo diverso. L'accesso in lettura dà il diritto di consultare l'elenco delle sue voci (file e directory), l'accesso in scrittura permette di creare o eliminare file, mentre l'accesso in esecuzione permette di attraversarla (soprattutto di andarvi con il comando <code
            class="command">cd</code>). Essere in grado di attraversare una directory senza essere in grado di leggerla dà il permesso di accedere alle voci al suo interno di cui si conosce il nome, ma non di trovarle senza sapere che esistono o sotto quale nome esatto.
		</div><div
          class="sidebar"><a
            xmlns=""
            id="sidebar.setgid-dir"></a><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>SICUREZZA</em></span> directory <code
                      class="literal">setgid</code> e <span
                      class="emphasis"><em>sticky bit</em></span></strong></p></div></div></div><a
            id="id-1.12.6.20.2"
            class="indexterm"></a><div
            class="para">
			Il bit <code
              class="literal">setgid</code> vale anche per le directory. Qualsiasi elemento appena creato in tali directory viene assegnato automaticamente al gruppo proprietario della directory genitore, invece di ereditare il gruppo principale del creatore come al solito. Questa configurazione evita che l'utente debba cambiare il suo gruppo principale (con il comando <code
              class="command">newgrp</code>) quando lavora in un albero di file condiviso tra più utenti dello stesso gruppo dedicato.
		</div><a
            id="id-1.12.6.20.4"
            class="indexterm"></a><div
            class="para">
			Lo «sticky» bit (simboleggiato dalla lettera «t») è un permesso che è utile solo nelle directory. È particolarmente utilizzato per le directory temporanee in cui tutti hanno accesso in scrittura (come <code
              class="filename">/tmp/</code>): esso limita l'eliminazione di file in modo che solo il loro proprietario (o il proprietario della directory genitore) possa farlo. In mancanza di questo, tutti potrebbero eliminare i file di altri utenti in <code
              class="filename">/tmp/</code>.
		</div></div><div
          class="para">
			Tre comandi controllano i permessi associati ad un file:
		</div><div
          xmlns:d="http://docbook.org/ns/docbook"
          class="itemizedlist"><ul><li
              class="listitem"><div
                class="para">
					<code
                  class="command">chown <em
                    class="replaceable">utente</em> <em
                    class="replaceable">file</em></code> cambia il proprietario del file;
				</div></li><li
              class="listitem"><div
                class="para">
					<code
                  class="command">chgrp <em
                    class="replaceable">gruppo</em> <em
                    class="replaceable">file</em></code> cambia il gruppo proprietario;
				</div></li><li
              class="listitem"><div
                class="para">
					<code
                  class="command">chmod <em
                    class="replaceable">permessi</em> <em
                    class="replaceable">file</em></code> cambia i permessi per il file.
				</div></li></ul></div><div
          class="para">
			Ci sono due modi di rappresentare i permessi. Tra questi, la rappresentazione simbolica è probabilmente la più facile da capire e ricordare. Utilizza i simboli lettera descritti in precedenza. È possibile definire i permessi per ogni categoria di utenti (<code
            class="literal">u</code>/<code
            class="literal">g</code>/<code
            class="literal">o</code>), impostandoli in modo esplicito (con <code
            class="literal">=</code> ), aggiungendone (<code
            class="literal">+</code>) o sottraendone (<code
            class="literal">-</code>). Così la formula <code
            class="literal">u=rwx,g+rw,o-r</code> conferisce al proprietario i permessi di lettura, scrittura ed esecuzione, aggiunge i permessi di lettura e scrittura per il gruppo proprietario, e rimuove i diritti di lettura per altri utenti. I permessi non alterati con le aggiunte o sottrazioni fatte da tale comando non vengono modificati. La lettera <code
            class="literal">a</code>, per «all» (tutti), copre tutte le tre categorie di utenti, così che <code
            class="literal">a=rx</code> garantisce a tutte e tre le categorie gli stessi diritti (lettura ed esecuzione, ma non scrittura).
		</div><a
          id="id-1.12.6.24"
          class="indexterm"></a><a
          id="id-1.12.6.25"
          class="indexterm"></a><a
          id="id-1.12.6.26"
          class="indexterm"></a><a
          id="id-1.12.6.27"
          class="indexterm"></a><a
          id="id-1.12.6.28"
          class="indexterm"></a><div
          class="para">
			La rappresentazione numerica (ottale) associa ogni permesso ad un valore: 4 per la lettura, 2 per la scrittura e 1 per l'esecuzione. Ogni combinazione di permessi viene associata con la somma delle cifre. I valori vengono quindi assegnati alle diverse categorie di utenti mettendoli in fila nell'ordine consueto (proprietario, gruppo, altri).
		</div><div
          class="para">
			Ad esempio, il comando <code
            class="command">chmod 754 <em
              class="replaceable">file</em></code> imposta i seguenti permessi: lettura, scrittura ed esecuzione per il proprietario (perché 7 = 4 + 2 + 1), lettura ed esecuzione per il gruppo (perché 5 = 4 + 1), sola lettura per gli altri. Il numero <code
            class="literal">0</code> significa che non si hanno permessi; così <code
            class="command">chmod 600 <em
              class="replaceable">file</em></code> permette la lettura/scrittura per il proprietario, e nessun diritto per chiunque altro. Le combinazioni di permessi più frequenti sono <code
            class="literal">755</code> per le directory e i file eseguibili, e <code
            class="literal">644</code> per i file di dati.
		</div><div
          class="para">
			Per rappresentare i permessi speciali, è possibile anteporre una quarta cifra a questo numero in base allo stesso principio, in cui il bit <code
            class="literal">setuid</code>, il bit <code
            class="literal">setgid</code> e lo <code
            class="literal">sticky</code> bit sono rispettivamente 4, 2 e 1. <code
            class="command">chmod 4754</code> assocerà il bit <code
            class="literal">setuid</code> con i permessi descritti in precedenza.
		</div><div
          class="para">
			Si noti che l'uso della notazione ottale consente solo di impostare tutti i permessi in una sola volta su un file, non è possibile utilizzarla per aggiungere semplicemente un nuovo permesso, come l'accesso in lettura per il gruppo proprietario, in quanto è necessario tener conto dei diritti esistenti e calcolare il nuovo valore numerico corrispondente.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>SUGGERIMENTO</em></span> Operazioni ricorsive</strong></p></div></div></div><div
            class="para">
			A volte è necessario cambiare i permessi per un intero albero di file. Tutti i comandi sopra descritti hanno l'opzione <code
              class="literal">-R</code> per operare ricorsivamente in sotto-directory.
		</div><div
            class="para">
			La distinzione tra le directory ed i file a volte causa problemi con le operazioni ricorsive. Ecco perché è stata introdotta la lettera «X» nella rappresentazione simbolica dei permessi. Essa rappresenta un permesso di esecuzione che si applica solo alle directory (e non ai file privi di tale diritto). Così, <code
              class="command">chmod -R a+X <em
                class="replaceable">directory</em></code> aggiungerà i permessi di esecuzione per tutte le categorie di utenti (<code
              class="literal">a</code>) solo per tutte le sotto-directory e tutti i file che hanno già i diritti di esecuzione per almeno una categoria di utenti (anche se solo per il proprietario).
		</div></div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>SUGGERIMENTO</em></span> Cambiare utente e gruppo</strong></p></div></div></div><div
            class="para">
			Spesso si desidera cambiare il gruppo di un file nello stesso momento in cui si cambia il proprietario. Il comando <code
              class="command">chown</code> ha una sintassi speciale a questo scopo: <code
              class="command">chown <em
                class="replaceable">utente</em>:<em
                class="replaceable">gruppo</em> <em
                class="replaceable">file</em></code>
		</div></div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>APPROFONDIMENTI</em></span><code
                      class="command">umask</code></strong></p></div></div></div><div
            class="para">
			Quando un'applicazione crea un file, assegna i permessi indicativi, sapendo che il sistema rimuove automaticamente alcuni permessi, grazie al comando <code
              class="command">umask</code>. Se si digta <code
              class="command">umask</code> in una shell, si vedrà una maschera come <code
              class="computeroutput">0022</code>. Questa è semplicemente una rappresentazione ottale dei diritti automaticamente rimossi (in questo caso, il diritto di scrittura per il gruppo e altri utenti).
		</div><a
            id="id-1.12.6.35.3"
            class="indexterm"></a><a
            id="id-1.12.6.35.4"
            class="indexterm"></a><a
            id="id-1.12.6.35.5"
            class="indexterm"></a><div
            class="para">
			Se gli si fornisce un nuovo valore ottale, il comando <code
              class="command">umask</code> modifica la maschera. Utilizzato in un file di inizializzazione della shell (per esempio, <code
              class="filename">~/.bash_profile</code>), cambierà effettivamente la maschera predefinita per le sessioni di lavoro dell'utente.
		</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.remote-login.html"><strong>Indietro</strong>9.2. Accesso remoto</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Risali</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Partenza</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.administration-interfaces.html"><strong>Avanti</strong>9.4. Interfacce di amministrazione</a></li></ul></body></html>
