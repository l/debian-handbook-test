<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">6.8. Aggiornamenti automatici</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-it-IT-1.0-1" /><meta
        name="keywords"
        content="apt, apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="Il Manuale dell'Amministratore Debian" /><link
        rel="up"
        href="apt.html"
        title="Capitolo 6. Manutenzione ed aggiornamento: gli strumenti APT" /><link
        rel="prev"
        href="sect.regular-upgrades.html"
        title="6.7. Mantenere un sistema sempre aggiornato" /><link
        rel="next"
        href="sect.searching-packages.html"
        title="6.9. Ricercare pacchetti" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/it-IT/stable/sect.automatic-upgrades.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.regular-upgrades.html"><strong>Indietro</strong></a></li><li
          class="home">Il Manuale dell'Amministratore Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.searching-packages.html"><strong>Avanti</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.automatic-upgrades"></a>6.8. Aggiornamenti automatici</h2></div></div></div><a
          id="id-1.9.17.2"
          class="indexterm"></a><a
          id="id-1.9.17.3"
          class="indexterm"></a><div
          class="para">
			Visto che Falcot Corp ha molti computer ma una manodopera limitata, i suoi amministrazioni cercano di rendere gli aggiornamenti il più automatici possibili. I programmi incaricati di tali processi devono perciò essere eseguiti senza intervento umano.
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.9.17.5"></a>6.8.1. Configurare <code
                    class="command">dpkg</code></h3></div></div></div><div
            class="para">
				Come è stato già detto (vedere il riquadro <a
              class="xref"
              href="sect.package-meta-information.html#sidebar.questions-conffiles"><span
                class="emphasis"><em>APPROFONDIMENTI</em></span> Evitare le domande del file di configurazione</a>), <code
              class="command">dpkg</code> può essere impostato per non chiedere conferma quando sostituisce un file di configurazione (con le opzioni <code
              class="literal">--force-confdef --force-confold</code>). Le interazioni, tuttavia, possono essere richieste da altre tre fonti: alcune vengono da APT stesso, altre sono gestite da <code
              class="command">debconf</code>, e alcuni avvengono sulla riga di comando a causa di script di configurazione dei pacchetti.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.9.17.6"></a>6.8.2. Configurare APT</h3></div></div></div><div
            class="para">
				Nel caso di APT è semplice: l'opzione <code
              class="literal">-y</code> (o <code
              class="literal">--assume-yes</code>) dice ad APT di considerare la risposta a qualsiasi sua domanda un «sì».
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.9.17.7"></a>6.8.3. Configurare <code
                    class="command">debconf</code></h3></div></div></div><div
            class="para">
				Il caso di <code
              class="command">debconf</code> merita ulteriori dettagli. Questo programma è stato, fin dal suo principio, progettato per controllare l'importanza e la quantità di domande mostrate all'utente, così come il modo in cui vengono visualizzate. Ecco perché la sua configurazione richiede una priorità minima per le domande; solo le domande con priorità superiore alla minima vengono visualizzate. <code
              class="command">debconf</code> imposta la risposta predefinita (impostata dal manutentore del pacchetto) per le domande che si decide di saltare.
			</div><div
            class="para">
				Un altro elemento di configurazione rilevante è l'interfaccia usata dal front-end. Se si seleziona <code
              class="literal">noninteractive</code> tra le scelte date, tutte le interazioni utente sono disabilitate. Se il pacchetto cerca di visualizzare una nota informativa, essa verrà inviata all'amministratore tramite email.
			</div><div
            class="para">
				Per riconfigurare <code
              class="command">debconf</code>, si usa il programma <code
              class="command">dpkg-reconfigure</code> nel pacchetto <span
              class="pkg pkg">debconf</span>; il relativo comando è <code
              class="command">dpkg-reconfigure debconf</code>. Si noti che i valori configurati possono essere temporaneamente modificati con le variabili di ambiente quando necessario (ad esempio, <code
              class="varname">DEBIAN_FRONTEND</code> controlla l'interfaccia, come documentato nella pagina del manuale <span
              class="citerefentry"><span
                class="refentrytitle">debconf</span>(7)</span>).
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.9.17.8"></a>6.8.4. Gestire interazioni a riga di comando</h3></div></div></div><div
            class="para">
				L'ultima sorgente di interazioni, e la più difficile da eliminare, sono gli script di configurazione eseguiti da <code
              class="command">dpkg</code>. Sfortunatamente non c'è una soluzione standard, e non c'è alcuna risposta nettamente migliore di un'altra.
			</div><div
            class="para">
				L'approccio comune è quello di sopprimere lo standard input reindirizzando il contenuto vuoto di <code
              class="filename">/dev/null</code> in esso con il comando <code
              class="command"><em
                class="replaceable">comando</em> &lt;/dev/null</code>, o di alimentarlo con un flusso infinito di nuove righe. Nessuno di questi metodi è affidabile al 100%, ma in genere portano all'uso delle risposte predefinite, dal momento che la maggior parte degli script considera la mancanza di una risposta come un'accettazione dei valori predefiniti.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.9.17.9"></a>6.8.5. La combinazione miracolosa</h3></div></div></div><div
            class="para">
				Combinando gli elementi precedenti, è possibile progettare un piccolo ma piuttosto affidabile script che può gestire gli aggiornamenti automatici.
			</div><div
            class="example"><a
              xmlns=""
              id="example.non-interactive-upgrade"></a><p
              class="title"><strong>Esempio 6.4. Script di aggiornamento non interattivo</strong></p><div
              class="example-contents"><pre
                class="programlisting">export DEBIAN_FRONTEND=noninteractive
yes '' | apt-get -y -o DPkg::options::="--force-confdef" -o DPkg::options::="--force-confold" dist-upgrade</pre></div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>IN PRATICA</em></span> Il caso della Falcot Corp</strong></p></div></div></div><div
              class="para">
				I computer della Falcot sono un sistema eterogeneo, con macchine che hanno funzioni diverse. Gli amministratori sceglieranno la soluzione migliore per ogni computer.
			</div><div
              class="para">
				In practice, the servers running <span
                class="distribution distribution">Stretch</span> are configured with the “miracle combination” above, and are kept up to date automatically. Only the most critical servers (the firewalls, for instances) are set up with <code
                class="command">apticron</code>, so that upgrades always happen under the supervision of an administrator.
			</div><div
              class="para">
				The office workstations in the administrative services also run <span
                class="distribution distribution">Stretch</span>, but they are equipped with <span
                class="pkg pkg">gnome-packagekit</span>, so that users trigger the upgrades themselves. The rationale for this decision is that if upgrades happen without an explicit action, the behavior of the computer might change unexpectedly, which could cause confusion for the main users.
			</div><div
              class="para">
				Nei laboratori, i pochi computer che usano <span
                class="distribution distribution">Testing</span>, per avere i vantaggi delle più recenti versioni del software, non sono neanch'essi aggiornati automaticamente. Gli amministratori configurano APT per preparare gli aggiornamenti ma non eseguirli; quando decidono di aggiornare (manualmente), la parte noiosa dell'aggiornamento della lista pacchetti e di scaricare i pacchetti verrà evitata, e gli amministratori possono concentrarsi sulla parte veramente utile.
			</div></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.regular-upgrades.html"><strong>Indietro</strong>6.7. Mantenere un sistema sempre aggiornato</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Risali</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Partenza</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.searching-packages.html"><strong>Avanti</strong>6.9. Ricercare pacchetti</a></li></ul></body></html>
