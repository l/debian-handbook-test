<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">8.2. Configurazione della rete</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-it-IT-1.0-1" /><meta
        name="keywords"
        content="Configurazione, Localizzazione, Localizzazioni, Rete, Risoluzione dei nomi, Utenti, Gruppi, Account, Interprete a riga di comando, Shell, Stampa, Bootloader, Compilazione del kernel" /><link
        rel="home"
        href="index.html"
        title="Il Manuale dell'Amministratore Debian" /><link
        rel="up"
        href="basic-configuration.html"
        title="Capitolo 8. Configurazione di base: rete, account, stampa, ..." /><link
        rel="prev"
        href="basic-configuration.html"
        title="Capitolo 8. Configurazione di base: rete, account, stampa, ..." /><link
        rel="next"
        href="sect.hostname-name-service.html"
        title="8.3. Impostare il nome host e configurare il servizio dei nomi" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/it-IT/stable/sect.network-config.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="basic-configuration.html"><strong>Indietro</strong></a></li><li
          class="home">Il Manuale dell'Amministratore Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.hostname-name-service.html"><strong>Avanti</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.network-config"></a>8.2. Configurazione della rete</h2></div></div></div><div
          class="sidebar"><a
            xmlns=""
            id="sidebar.networking-basics"></a><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>FONDAMENTALI</em></span> Concetti di rete essenziali (Ethernet, indirizzo IP, sottorete, broadcast)</strong></p></div></div></div><a
            id="id-1.11.6.2.2"
            class="indexterm"></a><a
            id="id-1.11.6.2.3"
            class="indexterm"></a><a
            id="id-1.11.6.2.4"
            class="indexterm"></a><a
            id="id-1.11.6.2.5"
            class="indexterm"></a><a
            id="id-1.11.6.2.6"
            class="indexterm"></a><a
            id="id-1.11.6.2.7"
            class="indexterm"></a><a
            id="id-1.11.6.2.8"
            class="indexterm"></a><div
            class="para">
			La maggior parte delle reti locali moderne usa il protocollo Ethernet, il quale divide i dati in piccoli blocchi chiamati frame e li trasmette sul cavo uno alla volta. La velocità dei dati varia dai 10 Mb/s per le vecchie schede Ethernet ai 10 Gb/s delle schede più recenti (attualmente la velocità più comune sta passando da 100 Mb/s a 1 Gb/s). I cavi usati più comunemente sono chiamati 10BASE-T, 100BASE-T, 1000BASE-T o 10GBASE-T in base alla velocità che possono fornire in modo affidabile (la T sta per "twisted pair" ovvero doppino intrecciato); questi cavi terminano con un connettore RJ45. Esistono cavi di altro tipo, per lo più utilizzati per velocità superiori ad 1 Gb/s.
		</div><a
            id="id-1.11.6.2.10"
            class="indexterm"></a><a
            id="id-1.11.6.2.11"
            class="indexterm"></a><div
            class="para">
			Un indirizzo IP è un numero usato per identificare un'interfaccia di rete installata su un computer in una rete locale oppure su Internet. Nella versione attualmente più diffusa di IP (IPv4), questo numero è codificato in 32 bit e viene generalmente rappresentato come 4 numeri separati da punti (es. <code
              class="literal">192.168.0.1</code>), ogni numero è compreso tra 0 e 255 (inclusi, che corrisponde a 8 bit di dati). La prossima versione del protocollo, IPv6, estenderà questo spazio di indirizzamento a 128 bit e gli indirizzi saranno generalmente rappresentati da una serie di numeri esadecimali separati dai due punti (es., 2001:db8:13bb:0002:0000:0000:0020, o 2001:db8:13bb:2::20 nella forma abbreviata).
		</div><a
            id="id-1.11.6.2.13"
            class="indexterm"></a><a
            id="id-1.11.6.2.14"
            class="indexterm"></a><a
            id="id-1.11.6.2.15"
            class="indexterm"></a><div
            class="para">
			Una maschera di sottorete (netmask) definisce tramite il proprio codice binario quale porzione di un indirizzo IP corrisponde alla rete, e quale specifica la macchina. Nell'esempio di configurazione di indirizzo statico IPv4 qui fornito, la maschera di sottorete <code
              class="literal">255.255.255.0</code> (24 «1» seguiti da 8 «0» nella rappresentazione binaria) indica che i primi 24 bit dell'indirizzo IP corrispondono alla rete mentre gli altri 8 specificano la macchina. In IPv6, in favore della leggibilità, solo i numeri «1» vengono espressi; la maschera di sottorete per una rete IPv6 potrà essere quindi <code
              class="literal">64</code>.
		</div><div
            class="para">
			L'indirizzo di rete è un indirizzo IP nel quale la parte che descrive la macchina è pari a 0. L'intervallo di indirizzi IPv4 in una rete completa è spesso indicato con la sintassi <span
              class="emphasis"><em>a.b.c.d/e</em></span>, dove <span
              class="emphasis"><em>a.b.c.d</em></span> è l'indirizzo della rete ed <span
              class="emphasis"><em>e</em></span> è il numero dei bit interessati dalla parte che indica la rete in un indirizzo IP. Una rete ad esempio sarà quindi descritta come segue: <code
              class="literal">192.168.0.0/24</code>. La sintassi è simile in IPv6: <code
              class="literal">2001:db8:13bb::/64</code>.
		</div><a
            id="id-1.11.6.2.18"
            class="indexterm"></a><a
            id="id-1.11.6.2.19"
            class="indexterm"></a><div
            class="para">
			Un router è una macchina che connette diverse reti l'una con l'altra. Tutto il traffico che arriva attraverso un router è instradato verso la rete corretta. Per fare questo il router analizza i pacchetti in arrivo e li ridirige in base all'indirizzo IP della loro destinazione. Il router è spesso indicato come «gateway»: in questa configurazione lavora come una macchina che consente di uscire dalla rete locale (verso una rete estesa, come Internet).
		</div><a
            id="id-1.11.6.2.21"
            class="indexterm"></a><div
            class="para">
			L'indizzo speciale di broadcast connette tutte le postazioni in una rete. Non viene quasi mai instradato, funziona quindi solo all'interno della stessa rete. Questo significa che un pacchetto destinato all'indirizzo di broadcast non oltrepassa mai il router.
		</div><div
            class="para">
			Questo capitolo si concentra sugli indirizzi IPv4 poiché sono attualmente i più utilizzati. I dettagli del protocollo IPv6 sono affrontati nella <a
              class="xref"
              href="sect.ipv6.html">Sezione 10.5, «IPv6»</a>, ma i concetti rimangono gli stessi.
		</div></div><div
          class="para">
			The network is automatically configured during the initial installation. If Network Manager gets installed (which is generally the case for full desktop installations), then it might be that no configuration is actually required (for example, if you rely on DHCP on a wired connection and have no specific requirements). If a configuration is required (for example for a WiFi interface), then it will create the appropriate file in <code
            class="filename">/etc/NetworkManager/system-connections/</code>.
		</div><div
          class="para">
			If Network Manager is not installed, then the installer will configure <span
            class="pkg pkg">ifupdown</span> by creating the <code
            class="filename">/etc/network/interfaces</code> file. A line starting with <code
            class="literal">auto</code> gives a list of interfaces to be automatically configured on boot by the <code
            class="literal">networking</code> service.
		</div><div
          class="para">
			In a server context, <span
            class="pkg pkg">ifupdown</span> is thus the network configuration tool that you usually get. That is why we will cover it in the next sections.
		</div><a
          id="id-1.11.6.6"
          class="indexterm"></a><a
          id="id-1.11.6.7"
          class="indexterm"></a><a
          id="id-1.11.6.8"
          class="indexterm"></a><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>ALTERNATIVA</em></span> NetworkManager</strong></p></div></div></div><a
            id="id-1.11.6.9.2"
            class="indexterm"></a><div
            class="para">
			If Network Manager is particularly recommended in roaming setups (see <a
              class="xref"
              href="sect.network-config.html#sect.roaming-network-config">Sezione 8.2.5, «Automatizzare la configurazione della rete per gli utenti in movimento»</a>), it is also perfectly usable as the default network management tool. You can create “System connections” that are used as soon as the computer boots either manually with a <code
              class="filename">.ini</code>-like file in <code
              class="filename">/etc/NetworkManager/system-connections/</code> or through a graphical tool (<code
              class="command">nm-connection-editor</code>). Just remember to deactivate all entries in <code
              class="filename">/etc/network/interfaces</code> if you want Network Manager to handle them. <div
              xmlns=""
              class="url">→ <a
                xmlns="http://www.w3.org/1999/xhtml"
                href="https://wiki.gnome.org/Projects/NetworkManager/SystemSettings">https://wiki.gnome.org/Projects/NetworkManager/SystemSettings</a></div> <div
              xmlns=""
              class="url">→ <a
                xmlns="http://www.w3.org/1999/xhtml"
                href="https://developer.gnome.org/NetworkManager/1.6/ref-settings.html">https://developer.gnome.org/NetworkManager/1.6/ref-settings.html</a></div>
		</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.interface-ethernet"></a>8.2.1. Interfaccia Ethernet</h3></div></div></div><div
            class="para">
				Se il computer dispone di una scheda Ethernet, la rete che vi sarà associata dev'essere configurata scegliendo uno tra i due metodi disponibili. Il metodo più semplice è la configurazione dinamica con DHCP, e richiede un server DHCP nella rete locale. Si può indicare il nome host desiderato, corrispondente all'<code
              class="literal">hostname</code> impostato nell'esempio seguente. Il server DHCP invia informazioni di configurazione appropriate per la rete.
			</div><a
            id="id-1.11.6.10.3"
            class="indexterm"></a><a
            id="id-1.11.6.10.4"
            class="indexterm"></a><div
            class="example"><a
              xmlns=""
              id="example.config-dhcp"></a><p
              class="title"><strong>Esempio 8.1. Configurazione DHCP</strong></p><div
              class="example-contents"><pre
                class="programlisting">
auto enp0s31f6
iface enp0s31f6 inet dhcp
  hostname arrakis
</pre></div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>IN PRACTICE</em></span> Names of network interfaces</strong></p></div></div></div><a
              id="id-1.11.6.10.6.2"
              class="indexterm"></a><a
              id="id-1.11.6.10.6.3"
              class="indexterm"></a><a
              id="id-1.11.6.10.6.4"
              class="indexterm"></a><a
              id="id-1.11.6.10.6.5"
              class="indexterm"></a><div
              class="para">
				By default, the kernel attributes generic names such a <code
                class="literal">eth0</code> (for wired Ethernet) or <code
                class="literal">wlan0</code> (for WiFi) to the network interfaces. The number in those names is a simple incremental counter representing the order in which they have been detected. With modern hardware, that order might change for each reboot and thus the default names are not reliable.
			</div><div
              class="para">
				Fortunately, systemd and udev are able to rename the interfaces as soon as they appear. The default name policy is defined by <code
                class="filename">/lib/systemd/network/99-default.link</code> (see <span
                class="citerefentry"><span
                  class="refentrytitle">systemd.link</span>(5)</span> for an explanation of the <code
                class="literal">NamePolicy</code> entry in that file). In practice, the names are often based on the device's physical location (as guessed by where they are connected) and you will see names starting with <code
                class="literal">en</code> for wired ethernet and <code
                class="literal">wl</code> for WiFi. In the example above, the rest of the name indicates, in abbreviated form, a PCI (<code
                class="literal">p</code>) bus number (<code
                class="literal">0</code>), a slot number (<code
                class="literal">s31</code>), a function number (<code
                class="literal">f6</code>).
			</div><div
              class="para">
				Obviously, you are free to override this policy and/or to complement it to customize the names of some specific interfaces. You can find out the names of the network interfaces in the output of <code
                class="command">ip addr</code> (or as filenames in <code
                class="filename">/sys/class/net/</code>).
			</div></div><div
            class="para">
				Una configurazione «statica» indica delle impostazioni di rete fisse. Ciò include perlomeno un indirizzo IP ed una maschera di rete; a volte vengono indicati anche indirizzi di rete e broadcast. Un router che connette verso l'esterno viene indicato come «gateway».
			</div><div
            class="example"><a
              xmlns=""
              id="example.static-network"></a><p
              class="title"><strong>Esempio 8.2. Configurazione statica</strong></p><div
              class="example-contents"><pre
                class="programlisting">
auto enp0s31f6
iface enp0s31f6 inet static
  address 192.168.0.3
  netmask 255.255.255.0
  broadcast 192.168.0.255
  network 192.168.0.0
  gateway 192.168.0.1
</pre></div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>NOTA</em></span> Indirizzi multipli</strong></p></div></div></div><div
              class="para">
				Oltre a poter associare diverse interfacce alla singola scheda di rete è anche possibile associare diversi indirizzi IP alla singola interfaccia. Va ricordato inoltre che un indirizzo IP può corrispondere a più di un nome DNS e che ogni nome può a sua volta corrispondere a qualsiasi numero di indirizzi IP numerici.
			</div><div
              class="para">
				Come si può intuire le configurazioni possono essere piuttosto complicate, ma queste opzioni sono usate solo in casi veramente speciali. Gli esempi citati qui rappresentano le configurazioni tipiche.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.interface-wireless"></a>8.2.2. Wireless Interface</h3></div></div></div><a
            id="id-1.11.6.11.2"
            class="indexterm"></a><div
            class="para">
				Getting wireless network cards to work can be a bit more challenging. First of all, they often require the installation of proprietary firmwares which are not installed by default in Debian. Then wireless networks rely on cryptography to restrict access to authorized users only, this implies storing some secret key in the network configuration. Let's tackle those topics one by one.
			</div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.11.6.11.4"></a>8.2.2.1. Installing the required firmwares</h4></div></div></div><a
              id="id-1.11.6.11.4.2"
              class="indexterm"></a><a
              id="id-1.11.6.11.4.3"
              class="indexterm"></a><div
              class="para">
					First you have to enable the non-free repository in APT's sources.list file: see <a
                class="xref"
                href="apt.html#sect.apt-sources.list">Sezione 6.1, «Compilazione del file <code
                  class="filename">sources.list</code>»</a> for details about this file. Many firmware are proprietary and are thus located in this repository. You can try to skip this step if you want, but if the next step doesn't find the required firmware, retry after having enabled the non-free section.
				</div><div
              class="para">
					Then you have to install the appropriate <code
                class="literal">firmware-*</code> packages. If you don't know which package you need, you can install the <span
                class="pkg pkg">isenkram</span> package and run its <code
                class="command">isenkram-autoinstall-firmware</code> command. The packages are often named after the hardware manufacturer or the corresponding kernel module: <span
                class="pkg pkg">firmware-iwlwifi</span> for Intel wireless cards, <span
                class="pkg pkg">firmware-atheros</span> for Qualcomm Atheros, <span
                class="pkg pkg">firmware-ralink</span> for Ralink, etc. A reboot is then recommended because the kernel driver usually looks for the firmware files when it is first loaded and no longer afterwards.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.11.6.11.5"></a>8.2.2.2. Wireless specific entries in <code
                      class="filename">/etc/network/interfaces</code></h4></div></div></div><a
              id="id-1.11.6.11.5.2"
              class="indexterm"></a><div
              class="para">
					<span
                class="emphasis"><em>ifupdown</em></span> is able to manage wireless interfaces but it needs the help of the <span
                class="pkg pkg">wpasupplicant</span> package which provides the required integration between <span
                class="emphasis"><em>ifupdown</em></span> and the <code
                class="command">wpa_supplicant</code> command used to configure the wireless interfaces (when using WPA/WPA2 encryption). The usual entry in <code
                class="filename">/etc/network/interfaces</code> needs to be extended with two supplementary parameters to specify the name of the wireless network (aka its SSID) and the <span
                class="emphasis"><em>Pre-Shared Key</em></span> (PSK).
				</div><div
              class="example"><a
                xmlns=""
                id="example.config-wireless"></a><p
                class="title"><strong>Esempio 8.3. DHCP configuration for a wireless interface</strong></p><div
                class="example-contents"><pre
                  class="programlisting">
auto wlp4s0
iface wlp4s0 inet dhcp
  wpa-ssid Falcot
  wpa-psk ccb290fd4fe6b22935cbae31449e050edd02ad44627b16ce0151668f5f53c01b
</pre></div></div><div
              class="para">
					The <code
                class="literal">wpa-psk</code> parameter can contain either the plain text passphrase or its hashed version generated with <code
                class="command">wpa_passphrase <em
                  class="replaceable">SSID</em> <em
                  class="replaceable">passphrase</em></code>. If you use an unencrypted wireless connection, then you should put a <code
                class="literal">wpa-key-mgmt NONE</code> and no <code
                class="literal">wpa-psk</code> entry. For more information about the possible configuration options, have a look at <code
                class="filename">/usr/share/doc/wpasupplicant/README.Debian.gz</code>.
				</div><div
              class="para">
					At this point, you should consider restricting the read permissions on <code
                class="filename">/etc/network/interfaces</code> to the root user only since the file contains a private key that not all users should have access to.
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>HISTORY</em></span> WEP encryption</strong></p></div></div></div><a
                id="id-1.11.6.11.5.7.2"
                class="indexterm"></a><div
                class="para">
					Usage of the deprecated WEP encryption protocol is possible with the <span
                  class="pkg pkg">wireless-tools</span> package. See <code
                  class="filename">/usr/share/doc/wireless-tools/README.Debian</code> for instructions.
				</div></div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.ppp-rtc"></a>8.2.3. Connettersi con PPP attraverso un modem PSTN</h3></div></div></div><a
            id="id-1.11.6.12.2"
            class="indexterm"></a><a
            id="id-1.11.6.12.3"
            class="indexterm"></a><a
            id="id-1.11.6.12.4"
            class="indexterm"></a><a
            id="id-1.11.6.12.5"
            class="indexterm"></a><div
            class="para">
				Una connessione punto-punto (PPP) stabilisce una connessione intermittente: questa è la soluzione più comune per le connessioni realizzate con un modem telefonico (detto anche modem PSTN poiché la connessione transita nella rete telefonica pubblica).
			</div><div
            class="para">
				Una connessione tramite modem telefonico richiede un account presso un provider di accesso, che include un numero telefonico, un nome utente, una password ed a volte uno specifico protocollo di autenticazione da utilizzare. Questo tipo di connessione si configura usando lo strumento <code
              class="command">pppconfig</code> fornito dall'omonimo pacchetto Debian. Per impostazione predefinita, stabilisce una connessione chiamata <code
              class="literal">provider</code> (come nel Provider di servizi internet). Quando si hanno dubbi sul protocollo di autenticazione, scegliere <span
              class="emphasis"><em>PAP</em></span>: è offerto dalla maggior parte dei provider di servizi Internet.
			</div><a
            id="id-1.11.6.12.8"
            class="indexterm"></a><a
            id="id-1.11.6.12.9"
            class="indexterm"></a><div
            class="para">
				Dopo la configurazione è possibile connettersi usando il comando <code
              class="command">pon</code> (fornendo il nome della connessione come parametro, quando il valore predefinito <code
              class="literal">provider</code> non è appropriato). Si può terminare il collegamento con il comando <code
              class="command">poff</code>. Questi due comandi possono essere eseguiti dall'utente root, o da ogni altro utente, purché sia inserito nel gruppo <code
              class="literal">dip</code>.
			</div><a
            id="id-1.11.6.12.11"
            class="indexterm"></a><a
            id="id-1.11.6.12.12"
            class="indexterm"></a></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.adsl"></a>8.2.4. Connessione attraverso un modem ADSL</h3></div></div></div><a
            id="id-1.11.6.13.2"
            class="indexterm"></a><a
            id="id-1.11.6.13.3"
            class="indexterm"></a><a
            id="id-1.11.6.13.4"
            class="indexterm"></a><div
            class="para">
				Il termine generico "modem ADSL" ricopre una moltitudine di dispositivi con funzioni molto differenti. I modem più semplici da utilizzare con Linux sono quelli che dispongono di un'interfaccia Ethernet ( e non solo una porta USB). Questi sono tendenzialmente popolari: molti provider di servizi Internet ADSL prestano (o affittano) un "dispositivo" con interfacce Ethernet. In base al tipo di modem, la configurazione richiesta può variare molto.
			</div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.adsl-pppoe"></a>8.2.4.1. Modem che supportano PPPOE</h4></div></div></div><a
              id="id-1.11.6.13.6.2"
              class="indexterm"></a><a
              id="id-1.11.6.13.6.3"
              class="indexterm"></a><div
              class="para">
					Alcuni modem Ethernet lavorano con il protocollo PPPOE (Point to Point Protocol over Ethernet). Lo strumento <code
                class="command">pppoeconf</code> (dall'omonimo pacchetto) configurerà la connessione. Per farlo, modifica il file <code
                class="filename">/etc/ppp/peers/dsl-provider</code> con le impostazioni fornite e registra le informazioni di accesso nei file <code
                class="filename">/etc/ppp/pap-secrets</code> e <code
                class="filename">/etc/ppp/chap-secrets</code>. Si raccomanda di accettare tutte le modifiche proposte.
				</div><div
              class="para">
					Quando la configurazione è completata è possibile avviare la connessione ADSL con il comando <code
                class="command">pon dsl-provider</code> e terminarla con <code
                class="command">poff dsl-provider</code>.
				</div><a
              id="id-1.11.6.13.6.6"
              class="indexterm"></a><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>SUGGERIMENTO</em></span> Avviare <code
                          class="command">ppp</code> all'avvio</strong></p></div></div></div><a
                id="id-1.11.6.13.6.7.2"
                class="indexterm"></a><a
                id="id-1.11.6.13.6.7.3"
                class="indexterm"></a><div
                class="para">
					Le connessioni PPP su ADSL sono, per definizione, intermittenti. Poiché solitamente non sono fatturate in base al tempo, esistono poche ragioni per non tenerle sempre attive. Di solito per farlo si utilizza il sistema di init.
				</div><div
                class="para">
					With systemd, adding an automatically restarting task for the ADSL connection is a simple matter of creating a “unit file” such as <code
                  class="filename">/etc/systemd/system/adsl-connection.service</code>, with contents such as the following:
				</div><pre
                class="programlisting">[Unit]
Description=Connessione ADSL

[Service]
Type=forking
ExecStart=/usr/sbin/pppd call dsl-provider
Restart=always

[Install]
WantedBy=multi-user.target</pre><div
                class="para">
					Una volta definito il file unit, deve essere abilitato con <code
                  class="command">systemctl enable adsl-connection</code>. Poi il ciclo può essere avviato manualmente con <code
                  class="command">systemctl start adsl-connection</code>; che sarà avviato automaticamente all'avvio.
				</div><div
                class="para">
					Sui sistemi che non usano <code
                  class="command">systemd</code> (compresa <span
                  class="distribution distribution">Wheezy</span> e le versioni precedenti di Debian), lo standard SytemV funziona in modo diverso. In questi sistemi, tutto quello che bisogna fare è aggiungere una linea come la seguente alla fine del file <code
                  class="filename">/etc/inittab</code>; quindi, ogni volta che la connessione verrà interrotta, <code
                  class="command">init</code>la riconnettrerà.
				</div><pre
                class="programlisting">
adsl:2345:respawn:/usr/sbin/pppd call dsl-provider</pre><div
                class="para">
					Per le connessioni ADSL che si auto-disconnettono giornalemente, questo metodo riduce la durata dell'interruzione.
				</div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.adsl-pptp"></a>8.2.4.2. Modem che supportano PPTP</h4></div></div></div><a
              id="id-1.11.6.13.7.2"
              class="indexterm"></a><div
              class="para">
					Il protocollo PPTP (Point-to-Point Tunneling Protocol) è stato creato da Microsoft. Sviluppato agli albori dell'ADSL, è stato velocemente sostituito da PPPOE. Se questo protocollo è una scelta forzata per voi, si veda la <a
                class="xref"
                href="sect.virtual-private-network.html#sect.pptp">Sezione 10.2.4, «PPTP»</a>.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.adsl-dhcp"></a>8.2.4.3. Modem che supportano DHCP</h4></div></div></div><div
              class="para">
					Quando un modem è connesso al computer tramite un cavo Ethernet (cavo incrociato o «crossover») si configura tipicamente una connessione di rete sul computer attraverso DHCP: il modem agisce automaticamente come gateway in via predefinita e si cura dell'instradamento (significa che gestisce il traffico di rete tra il computer ed Internet).
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>FONDAMENTALI</em></span> Cavo incrociato per connessioni Ethernet dirette</strong></p></div></div></div><a
                id="id-1.11.6.13.8.3.2"
                class="indexterm"></a><div
                class="para">
					Le schede di rete dei computer si aspettano di ricevere i dati su fili specifici all'interno del cavo e di inviare i propri dati su altri. Quando ci si connette ad un computer nella rete locale si connette generalmente un cavo (dritto o incrociato) tra la scheda di rete ed il ripetitore o «switch». Tuttavia, qualora si voglia connettere due computer direttamente (senza uno switch o un ripetitore intermediario) è necessario indirizzare il segnale inviato da una scheda al lato ricevente dell'altra scheda e vice-versa. Questo è lo scopo del cavo incrociato, nonché la ragione per cui è utilizzato.
				</div><div
                class="para">
					Si noti che questa distinzione è diventata quasi irrilevante nel tempo, tanto che le moderne schede di rete sono in grado non rilevare il tipo di cavo presente e adattarsi di conseguenza, in modo che non sarà insolito che entrambi i tipi di cavo funzioneranno in una data posizione.
				</div></div><div
              class="para">
					Molti "router ADSL" sul mercato possono essere utilizzati in questo modo, come fanno la maggior parte dei modem ADSL forniti dai provider di servizi Internet.
				</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.roaming-network-config"></a>8.2.5. Automatizzare la configurazione della rete per gli utenti in movimento</h3></div></div></div><a
            id="id-1.11.6.14.2"
            class="indexterm"></a><a
            id="id-1.11.6.14.3"
            class="indexterm"></a><div
            class="para">
				Molti ingegneri della Falcot hanno un computer portatile che, utilizzano anche a casa, per scopi professionali. La configurazione di rete da usare dipende dalla posizione. A casa può esserci una rete wifi (protetta da una chiave WPA), mentre sul luogo di lavoro è disponibile una rete cablata per maggiore sicurezza e velocità.
			</div><div
            class="para">
				Per evitare di doversi manualmente connettere o disconnettere alle corrispondenti interfacce di rete, gli amministratori hanno installato il pacchetto <span
              class="pkg pkg">network-manager</span> su queste macchine in movimento. Questo software abilita l'utente a passare facilmente tra una rete ed un'altra utilizzando la piccola icona visualizzata nell'area notifiche del desktop grafico. Cliccando su questa icona si visualizza una lista di reti disponibili (sia via cavo che wireless) così è possibile scegliere semplicemente la rete che si intende utilizzare. Il programma salva la configurazione per le reti alle quali l'utente si è già connesso ed automaticamente passa alla miglior rete disponibile quando la connessione corrente si interrompe.
			</div><div
            class="para">
				Per poter far ciò, il programma è strutturato in due parti: un demone eseguito come root gestisce l'attivazione e la configurazione delle interfacce di rete ed una interfaccia utente controlla questo demone. Il PolicyKit gestisce le autorizzazioni richieste per controllare questo programma ed in Debian il PolicyKit è stato configurato in modo tale che solo i membri del gruppo netdev possono aggiungere o modificare le connessioni del Network Manager.
			</div><div
            class="para">
				Network Manager sa come gestire vari tipi di connessione (DHCP, configurazione manuale, rete locale), ma solo se la configurazione è impostata con il programma stesso. Questo è il motivo per cui ignora sistematicamente tutte le interfacce di rete in <code
              class="filename">/etc/network/interfaces</code>, che non potrebbe gestire. Poiché Network Manager non fornisce dettagli quando non è visualizzata alcuna connessione di rete, il modo migliore di procedere è cancellare da <code
              class="filename">/etc/network/interfaces</code> qualsiasi configurazione riguardante le interfacce che si intende gestire con Network Manager.
			</div><div
            class="para">
				Si noti che questo programma è installato in via predefinita quando viene scelto di installare l'ambiente grafico durante l'installazione iniziale.
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="basic-configuration.html"><strong>Indietro</strong>Capitolo 8. Configurazione di base: rete, account...</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Risali</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Partenza</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.hostname-name-service.html"><strong>Avanti</strong>8.3. Impostare il nome host e configurare il serv...</a></li></ul></body></html>
