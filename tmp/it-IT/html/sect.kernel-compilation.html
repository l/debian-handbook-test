<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">8.10. Compilare un kernel</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-it-IT-1.0-1" /><meta
        name="keywords"
        content="Configurazione, Localizzazione, Localizzazioni, Rete, Risoluzione dei nomi, Utenti, Gruppi, Account, Interprete a riga di comando, Shell, Stampa, Bootloader, Compilazione del kernel" /><link
        rel="home"
        href="index.html"
        title="Il Manuale dell'Amministratore Debian" /><link
        rel="up"
        href="basic-configuration.html"
        title="Capitolo 8. Configurazione di base: rete, account, stampa, ..." /><link
        rel="prev"
        href="sect.config-misc.html"
        title="8.9. Altre configurazioni: Sincronizzazione Ora, Log, Condivisione dell'accesso…" /><link
        rel="next"
        href="sect.kernel-installation.html"
        title="8.11. Installare un kernel" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/it-IT/stable/sect.kernel-compilation.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.config-misc.html"><strong>Indietro</strong></a></li><li
          class="home">Il Manuale dell'Amministratore Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.kernel-installation.html"><strong>Avanti</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.kernel-compilation"></a>8.10. Compilare un kernel</h2></div></div></div><a
          id="id-1.11.14.2"
          class="indexterm"></a><a
          id="id-1.11.14.3"
          class="indexterm"></a><div
          class="para">
			I kernel forniti da Debian includono il maggior numero possibile di funzionalità, così come il massimo numero di driver, per coprire lo spettro più ampio di configurazioni hardware esistenti. Ecco perché alcuni utenti preferiscono ricompilare il kernel per includere unicamente ciò di cui necessitano. Ci sono due ragioni per questa scelta. Primo, questo può ottimizzare il consumo di memoria perché il codice del kernel anche se non viene mai utilizzato occupa memoria senza motivo (e non viene mai posto nello spazio di swap, dato che utilizza la vera RAM), cosa che può diminuire le prestazioni complessive del sistema. Inoltre un kernel compilato localmente può anche limitare i rischi di sicurezza poiché solo una frazione del codice del kernel è compilato ed eseguito.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>NOTA</em></span> Aggiornamenti di sicurezza</strong></p></div></div></div><div
            class="para">
			Se si sceglie di compilare il proprio kernel, bisogna accettarne le conseguenze: Debian non può assicurare gli aggiornamenti di sicurezza per un kernel personalizzato. Mantenendo il kernel fornito da Debian, si può beneficiare degli aggiornamenti preparati dalla squadra di sicurezza del Progetto Debian.
		</div></div><div
          class="para">
			Ricompilare il kernel è inoltre necessario se si vuole utilizzare certe funzionalità che sono disponibili solo come patch (e non sono incluse nella versione standard del kernel).
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>ANDARE AVANTI</em></span> Il Debian Kernel Handbook</strong></p></div></div></div><a
            id="id-1.11.14.7.2"
            class="indexterm"></a><div
            class="para">
			Le squadre del kernel Debian mantengono “Debian Kernel Handbook (disponibile anche nel pacchetto <span
              class="pkg pkg">debian-kernel-handbook</span>) offrendo una documentazione completa sulla maggior parte delle operazioni correlate al kernel e su come vengono gestiti i pacchetti ufficiali del kernel Debian. Questo è il primo posto dove si dovrebbe guardare se si ha bisogno di più informazioni rispetto a quelle contenute in questa sezione. <div
              xmlns=""
              class="url">→ <a
                xmlns="http://www.w3.org/1999/xhtml"
                href="http://kernel-handbook.alioth.debian.org">http://kernel-handbook.alioth.debian.org</a></div>
		</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.kernel-compilation-prerequisites"></a>8.10.1. Introduzione e prerequisiti</h3></div></div></div><div
            class="para">
				Non stupisce che Debian gestisca il kernel sotto forma di pacchetti, diversamente da come i kernel sono stati compilati ed installati tradizionalmente. Poiché il kernel rimane sotto il controllo del sistema di pacchettizazione può essere rimosso in modo pulito, o distribuito su diverse macchine. Inoltre, gli script associati con questi pacchetti automatizzano l'interazione con il bootloader ed il generatore initrd.
			</div><div
            class="para">
				I sorgenti originari di Linux contengono tutto il necessario per costruire un pacchetto Debian del kernel. Ma è ancora necessario installare <span
              class="pkg pkg">build-essential</span> per assicurarsi di avere gli strumenti necessari per costruire un pacchetto Debian. Inoltre, le fasi di configurazione del kernel richiedono il pacchetto <span
              class="emphasis"><em>libncurses5-dev</em></span>. Infine, il pacchetto <span
              class="emphasis"><em>fakeroot</em></span> consente la creazione del pacchetto Debian senza l'impiego di privilegi di amministratore.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>CULTURA</em></span> I bei vecchi tempi di <span
                        class="pkg pkg">kernel-package</span></strong></p></div></div></div><a
              id="id-1.11.14.8.4.2"
              class="indexterm"></a><div
              class="para">
				Prima che il sistema di compilazione di Linux acquisisse la capacità di costruire pacchetti Debian veri e propri, il metodo consigliato per costruire tali pacchetti era quello di usare <code
                class="command">make-kpkg</code> dal pacchetto <span
                class="pkg pkg">kernel-package</span>.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.kernel-sources"></a>8.10.2. Ottenere i sorgenti</h3></div></div></div><a
            id="id-1.11.14.9.2"
            class="indexterm"></a><a
            id="id-1.11.14.9.3"
            class="indexterm"></a><a
            id="id-1.11.14.9.4"
            class="indexterm"></a><div
            class="para">
				Come qualiasi cosa che può essere utile in un sistema Debian, i sorgenti del kernel Linux sono disponibili in un pacchetto. Per ottenerli, basta installare il pacchetto <span
              class="pkg pkg">linux-source-<em
                class="replaceable">versione</em></span>. Il comando <code
              class="command">apt-cache search ^linux-source</code> elenca le varie versioni del kernel pacchettizate da Debian. L'ultima versione è disponibile nella distribuzione <span
              class="distribution distribution">Unstable</span>: è possibile ottenerla senza troppi rischi (specialmente se il proprio APT è configurato secondo le istruzioni nella <a
              class="xref"
              href="sect.apt-get.html#sect.apt-mix-distros">Sezione 6.2.6, «Lavorare con più distribuzioni»</a>). Va notato che il codice sorgente contenuto in questi pacchetti non corrisponde precisamente con quello pubblicato da Linus Torvalds e dagli sviluppatori del kernel: come tutte le distribuzioni, Debian applica una serie di patch, le quali potrebbero (o non) trovare la loro strada nella versione originaria di Linux. Queste modifiche includono backport di /correzioni/caratteristiche/driver dalle versioni più recenti del kernel, le nuove funzionalità non ancora (interamente) incluse nella struttura originaria di Linux, e talvolta anche cambiamenti specifici di Debian.
			</div><div
            class="para">
				Il resto di questa sezione si concentra sulla versione 3.16 del kernel Linux, ma gli esempi possono, natualmente, essere adattati alla particolare versione del kernel che si desidera.
			</div><div
            class="para">
				Supponiamo che il pacchetto <span
              class="pkg pkg">linux-source-3.16</span> sia installato. Contiene <code
              class="filename">/usr/src/linux-source-3.16.tar.xz</code>, un archivio compresso dei sorgenti del kernel. Si devono estrarre questi file in una nuova directory (non direttamente in <code
              class="filename">/usr/src/</code>, poiché non c'è bisogno di permessi speciali per compilare un kernel Linux): <code
              class="filename">~/kernel/</code> è appropriato.
			</div><pre
            class="screen">
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>mkdir ~/kernel; cd ~/kernel</code></strong>
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>tar -xjf /usr/src/linux-source-2.6.32.tar.bz2</code></strong></pre><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>CULTURA</em></span> Posizione dei sorgenti del kernel</strong></p></div></div></div><div
              class="para">
				Tradizionalmente, i sorgenti del kernel Linux verrebbero posti in <code
                class="filename">/usr/src/linux/</code> e questo richiede i permessi di root per la compilazione. Tuttavia, lavorare con i privilegi di amministratore dovrebbe essere evitato quando non è necessario. Esiste un gruppo <code
                class="literal">src</code> che consente ai membri di lavorare in questa directory, ma lavorare in <code
                class="filename">/usr/src/</code> dovrebbe essere comunque evitato. Mantenendo i sorgenti del kernel in una directory personale si ottiene sicurezza su tutti i fronti: nessun file in <code
                class="filename">/usr/</code> sconosciuto al sistema dei pacchetti e nessun rischio che programmi siano ingannati dalla lettura di <code
                class="filename">/usr/src/linux</code> quando cercano di ottenere informazioni sul kernel utilizzato.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.config-kernel"></a>8.10.3. Configurare il kernel</h3></div></div></div><a
            id="id-1.11.14.10.2"
            class="indexterm"></a><a
            id="id-1.11.14.10.3"
            class="indexterm"></a><a
            id="id-1.11.14.10.4"
            class="indexterm"></a><div
            class="para">
				I passi successivi consistono nella configurazione del kernel secondo le proprie necessità. La procedura esatta dipende dagli obiettivi.
			</div><div
            class="para">
				Quando si ricompila una versione del kernel più recente (eventualmente con patch aggiuntive) la configurazione sarà probabilmente mantenuta più simile possibile a quella proposta da Debian. In questo caso, e piuttosto di riconfigurare tutto da zero, è sufficiente copiare il file <code
              class="filename">/boot/config-<em
                class="replaceable">versione</em></code> (la versione è quella del kernel correntemente in uso, che può essere trovato con il comando <code
              class="command">uname -r</code>) in un file <code
              class="filename">.config</code> nella directory contenente i sorgenti del kernel.
			</div><pre
            class="screen">
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>cp /boot/config-3.16.0-4-amd64 ~/kernel/linux-source-3.16/.config</code></strong></pre><div
            class="para">
				Se non si necessita di cambiare la configurazione, è possibile fermarsi qui e saltare alla <a
              class="xref"
              href="sect.kernel-compilation.html#sect.kernel-build">Sezione 8.10.4, «Compilazione e creazione del pacchetto»</a>. Se invece è necessario modificarla, o se si è deciso di riconfigurare tutto da zero, è necessario prendersi del tempo per configurare il kernel. Ci sono varie interfacce dedicate nella directory dei sorgenti del kernel che possono essere richiamate utilizzando il comando <code
              class="command">make <em
                class="replaceable">target</em></code>, dove <em
              class="replaceable">target</em> sarà uno dei valori descritti di seguito.
			</div><div
            class="para">
				<code
              class="command">make menuconfig</code> compila ed esegue un'interfaccia testuale (ecco perché è richiesto il pacchetto <span
              class="pkg pkg">libncurses5-dev</span>) che consente la navigazione tra le opzioni disponibili in una struttura gerarchica. La premendo il tasto <span
              class="keycap"><strong>Spazio</strong></span> cambia il valore delle opzioni selezionate, ed <span
              class="keycap"><strong>Invio</strong></span> conferma il bottone selezionato in basso sullo schermo; <span
              class="guibutton"><strong>Select</strong></span> rimanda al sotto-menu selezionato; <span
              class="guibutton"><strong>Exit</strong></span> chiude la finestra corrente e torna indietro alla gerarchia, <span
              class="guibutton"><strong>Help</strong></span> visualizzerà informazioni maggiormente dettagliate sul ruolo dell'opzione selezionata. Le frecce consentono di muoversi tra la lista di opzioni ed i bottoni. Per uscire dal programma di configurazione, scegliere <span
              class="guibutton"><strong>Exit</strong></span> dal menu principale. Il programma offrirà di salvare le modifiche effettuate; accettare se si è soddisfatti delle proprie scelte.
			</div><div
            class="para">
				Altre interfacce hanno funzioni simili, ma lavorano con interfacce grafiche più moderne: come <code
              class="command">make xconfig</code> che usa l'interfaccia grafica Qt, e <code
              class="command">make gconfig</code> che usa GTK+. La prima richiede <span
              class="pkg pkg">libqt4-dev</span>, mentre quest'ultima dipende da <span
              class="pkg pkg">libglade2-dev</span> e <span
              class="pkg pkg">libgtk2.0-dev</span>.
			</div><div
            class="para">
				Quando si utilizza una di queste interfacce di configurazione, è sempre una buona idea partire da una configurazione predefinita ragionevole. Il kernel fornisce tali configurazioni in <code
              class="filename">arch/<em
                class="replaceable">arch</em>/configs/*_defconfig</code> e si può attivare la configurazione selezionata con un comando come <code
              class="command">make x86_64_defconfig</code> (in caso di un PC a 64-bit) opuure <code
              class="command">make i386_defconfig</code> (in caso di un PC a 32-bit).
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>SUGGERIMENTO</em></span> Trattare con file obsoleti <code
                        class="filename">.config</code></strong></p></div></div></div><div
              class="para">
				Quando si fornisce un <code
                class="filename">.config</code> generato con un'altra (di solito più vecchia) versione del kernel, sarà necessario aggiornarlo.E' possibile farlo con <code
                class="command">make oldconfig</code>, che farà interattivamente le domande corrispondenti alle nuove opzioni di configurazione. Se si desidera utilizzare la risposta predefinita a tutte le domande è possibile utilizzare il comando <code
                class="command">make olddefconfig</code>. Con <code
                class="command">make oldnoconfig</code>, si riterranno negative le risposte a tutte le domande.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.kernel-build"></a>8.10.4. Compilazione e creazione del pacchetto</h3></div></div></div><a
            id="id-1.11.14.11.2"
            class="indexterm"></a><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>NOTA</em></span> Fare pulizia prima di una nuova compilazione</strong></p></div></div></div><div
              class="para">
				Se avete già compilato una volta nella directory e volete ricostruire tutto da zero (per esempio perchè si è sostanzialmente modificata la configurazione del kernel), si dovrà eseguire il comando <code
                class="command">make clean</code> per rimuovere i file compilati. <code
                class="command">make distclean</code> rimuove anche altri file generati, incluso anche il vostro file <code
                class="filename">.config</code>, quindi assicuratevi di eseguire un backup prima.
			</div></div><div
            class="para">
				Una volta che la configurazione del kernel è pronta, un semplice <code
              class="command">make deb-pkg</code> genererà fino a 5 pacchetti Debian: <span
              class="pkg pkg">linux-image-<em
                class="replaceable">versione</em></span> che contiene l'immagine del kernel e dei moduli associati, <span
              class="pkg pkg">linux-headers-<em
                class="replaceable">versione</em></span> che contiene i file header necessari per compilare moduli esterni, <span
              class="pkg pkg">linux-firmware-image-<em
                class="replaceable">versione</em></span> che contiene i file del firmware necessari per alcuni driver ( questo pacchetto potrebbe mancare quando si genera dai sorgenti del kernel forniti da Debian), <span
              class="pkg pkg">linux-image-<em
                class="replaceable">versione</em>-dbg</span> che contiene i simboli di debug per l'immagine del kernel e dei suoi moduli, e <span
              class="pkg pkg">linux-libc-dev</span> che contiene gli header realtivi ad alcune librerie come GNU glibc.
			</div><div
            class="para">
				La <em
              class="replaceable">versione</em> è definita dalla concatenazione della versione originaria (come definita dalle variabili <code
              class="literal">VERSION</code>, <code
              class="literal">PATCHLEVEL</code>, <code
              class="literal">SUBLEVEL</code> e <code
              class="literal">EXTRAVERSION</code> in <code
              class="filename">Makefile</code>), del parametro di configurazione <code
              class="literal">LOCALVERSION</code>, e della variabile d'ambiente <code
              class="literal">LOCALVERSION</code>. La versione del pacchetto riutilizza la stessa stringa della versione con aggiunto un numero di revisione che viene viene incrementato regolarmente (e memorizzata in <code
              class="filename">.version</code>), almeno che non si sovrascrive con la variabile d'ambiente <code
              class="literal">KDEB_PKGVERSION</code>.
			</div><pre
            class="screen"><code
              class="computeroutput">$ </code><strong
              class="userinput"><code>make deb-pkg LOCALVERSION=-falcot KDEB_PKGVERSION=$(make kernelversion)-1
</code></strong><code
              class="computeroutput">[...]
$ </code><strong
              class="userinput"><code>ls ../*.deb
</code></strong><code
              class="computeroutput">../linux-headers-3.16.7-ckt4-falcot_3.16.7-1_amd64.deb
../linux-image-3.16.7-ckt4-falcot_3.16.7-1_amd64.deb
../linux-image-3.16.7-ckt4-falcot-dbg_3.16.7-1_amd64.deb
../linux-libc-dev_3.16.7-1_amd64.deb
</code></pre></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.modules-build"></a>8.10.5. Compilare moduli esterni</h3></div></div></div><a
            id="id-1.11.14.12.2"
            class="indexterm"></a><a
            id="id-1.11.14.12.3"
            class="indexterm"></a><a
            id="id-1.11.14.12.4"
            class="indexterm"></a><div
            class="para">
				Alcuni moduli sono mantenuti fuori dal kernel ufficiale Linux. Per usarli, è necessario compilarli parallelamente al kernel corrispondente. Alcuni moduli comuni di terze parti sono forniti da Debian in pacchetti dedicati, come <span
              class="pkg pkg">xtables-addons-source</span> (moduli aggiuntivi per iptables) o <span
              class="pkg pkg">oss4-source</span> (Open Sound System, alcuni driver audio alternativi).
			</div><div
            class="para">
				Questi pacchetti esterni sono molti e variegati e non possiamo elencarli tutti qui: il comando <code
              class="command">apt-cache search source$</code> può restringere il campo alla chiave di ricerca. Comunque una lista completa non sarebbe particolarmente utile visto che non c'è una ragione particolare per compilare moduli esterni se non quando si sa di averne bisogno. In questi casi la documentazione del dispositivo dettaglia tipicamente i moduli specifici di cui necessita per funzionare su Linux.
			</div><div
            class="para">
				Per esempio, diamo un'occhiata al pacchetto <span
              class="pkg pkg">xtables-addons-source</span>: dopo l'installazione, in <code
              class="filename">/usr/src/</code> viene memorizato un file <code
              class="filename">.tar.bz2</code> dei sorgenti del modulo. Anche se si potrebbe estrarre manualmente l'archivio tarball e creare il modulo, in pratica si preferisce automatizzare il tutto utilizzando DKMS. La maggior parte dei moduli offrono l'integrazione DKMS nei pacchetti che terminano con il suffisso <code
              class="literal">-dkms</code>. Nel nostro caso, l'installazione di <span
              class="pkg pkg">xtables-addons-dkms</span> è tutto ciò che serve per compilare il modulo del kernel per il kernel corrente a condizione che abbiamo il pacchetto <span
              class="pkg pkg">linux-headers-*</span> corrispondente al kernel installato. Per esempio, se si utilizza <span
              class="pkg pkg">linux-image-amd64</span>, si dovrebbe installare anche <span
              class="pkg pkg">linux-headers-amd64</span>.
			</div><pre
            class="screen">
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>sudo apt install xtables-addons-dkms</code></strong>
<code
              class="computeroutput">
[...]
Setting up xtables-addons-dkms (2.6-1) ...
Loading new xtables-addons-2.6 DKMS files...
First Installation: checking all kernels...
Building only for 3.16.0-4-amd64
Building initial module for 3.16.0-4-amd64
Done.

xt_ACCOUNT:
Running module version sanity check.
 - Original module
   - No original module exists within this kernel
 - Installation
   - Installing to /lib/modules/3.16.0-4-amd64/updates/dkms/
[...]
DKMS: install completed.
$ </code><strong
              class="userinput"><code>sudo dkms status</code></strong>
<code
              class="computeroutput">xtables-addons, 2.6, 3.16.0-4-amd64, x86_64: installed
$ </code><strong
              class="userinput"><code>sudo modinfo xt_ACCOUNT</code></strong>
<code
              class="computeroutput">filename:       /lib/modules/3.16.0-4-amd64/updates/dkms/xt_ACCOUNT.ko
license:        GPL
alias:          ipt_ACCOUNT
author:         Intra2net AG &lt;opensource@intra2net.com&gt;
description:    Xtables: per-IP accounting for large prefixes
[...]
</code></pre><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>ALTERNATIVA</em></span> module-assistant</strong></p></div></div></div><a
              id="id-1.11.14.12.9.2"
              class="indexterm"></a><div
              class="para">
				Prima di DKMS, <span
                class="pkg pkg">module-assistant</span> è stata la soluzione più semplice per creare e distribuire i moduli del kernel. Può essere ancora utilizzata, in particolare per i pacchetti privi di interìgrazione KDMS: con un semplice comando come <code
                class="command">module-assistant auto-install xtables-addons</code> (oppure in breve <code
                class="command">m-a a-i xtables-addons</code>), i moduli sono compilati per il kernel corrente, messi in un nuovo pacchetto Debian, e questo pacchetto installato al volo.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.kernel-patch"></a>8.10.6. Applicare una patch al kernel</h3></div></div></div><a
            id="id-1.11.14.13.2"
            class="indexterm"></a><a
            id="id-1.11.14.13.3"
            class="indexterm"></a><div
            class="para">
				Alcune funzionalità non sono incluse nel kernel standard perché non mature o per un mancato accordo tra il manutentore del codice sorgente ed i manutentori del kernel. Alcune funzionalità possono essere distribuite come patch che chiunque può applicare liberamente ai sorgenti del kernel.
			</div><div
            class="para">
				Debian distribuisce alcune di queste patch nei pacchetti <span
              class="pkg pkg">linux-patch-*</span> o <span
              class="pkg pkg">kernel-patch-*</span> (per esempio <span
              class="pkg pkg">linux-patch-grsecurity2</span> intensifica alcune delle politiche di sicurezza del kernel). Questi pacchetti installano file nella directory <code
              class="filename">/usr/src/kernel-patches/</code>.
			</div><div
            class="para">
				Per applicare una o più di queste patch installate utilizzare il comando <code
              class="command">patch</code> nella directory dei sorgenti, poi avviare la compilazione del kernel come descritto sopra.
			</div><pre
            class="screen">
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>cd ~/kernel/linux-source-3.16</code></strong>
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>make clean</code></strong>
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>zcat /usr/src/kernel-patches/diffs/grsecurity2/grsecurity-3.0-3.17.1-201410250027.patch.gz | patch -p1</code></strong></pre><div
            class="para">
				Notare che una patch potrebbe non funzionare con ogni versione del kernel: è possibile che <code
              class="command">patch</code> fallisca quando la applica ai sorgenti del kernel. Un messaggio d'errore sarà visualizzato e fornirà alcuni dettagli a proposito del fallimento. In questo caso, si deve far riferimento alla documentazione disponibile nel pacchetto Debian della patch (nella directory <code
              class="filename">/usr/share/doc/linux-patch-*/</code>). In molti casi il manutentore indica per quali versioni del kernel è stata realizzata la patch.
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.config-misc.html"><strong>Indietro</strong>8.9. Altre configurazioni: Sincronizzazione Ora, ...</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Risali</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Partenza</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.kernel-installation.html"><strong>Avanti</strong>8.11. Installare un kernel</a></li></ul></body></html>
