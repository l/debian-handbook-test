<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
]>
<chapter id="installation">
  <chapterinfo>
    <mediaobject condition="pdf">
      <imageobject>
        <imagedata fileref="images/chap-installation.png" scalefit="1" />
      </imageobject>
    </mediaobject>
    <keywordset>
      <keyword>Installazione</keyword>
      <keyword>Partizionamento</keyword>
      <keyword>Formattazione</keyword>
      <keyword>File system</keyword>
      <keyword>Settore d'avvio</keyword>
      <keyword>Rilevamento dell'hardware</keyword>
    </keywordset>
  </chapterinfo>
  <title>Installazione</title>
  <highlights>
    <para>Per poter utilizzare Debian, è necessario installarla in un computer. Questa operazione viene gestita dal programma <emphasis>debian-installer</emphasis>. Una corretta installazione coinvolge molte operazioni. In questo capitolo verranno esaminate in ordine cronologico.</para>
  </highlights>
  <indexterm><primary>installazione</primary><secondary>del sistema</secondary></indexterm>

  <sidebar>
    <title><emphasis>FONDAMENTALI</emphasis> Un corso per rimettersi in pari sull'argomento è presente nell'appendice</title>

    <para>L'installazione di un computer è sempre più semplice, se si ha familiarità con il modo in cui funziona. Se non è così è consigliabile leggere il piccolo corso <xref linkend="short-remedial-course" /> prima di continuare il capitolo.</para>
  </sidebar>

  <para>The installer for <emphasis role="distribution">Stretch</emphasis>
  is based on <command>debian-installer</command>. Its modular design
  enables it to work in various scenarios and allows it to evolve and adapt
  to changes. Despite the limitations implied by the need to support a
  large number of architectures, this installer is very accessible to
  beginners, since it assists users at each stage of the process. Automatic
  hardware detection, guided partitioning, and graphical user interfaces
  have solved most of the problems that newbies used to face in the
  early years of Debian.</para>
  <indexterm><primary>installatore</primary></indexterm>
  <indexterm><primary><command>debian-installer</command></primary></indexterm>

  <para>Installation requires 128 MB of RAM (Random Access Memory) and at
  least 2 GB of hard drive space. All Falcot computers meet these
  criteria. Note, however, that these figures apply to the installation of
  a very limited system without a graphical desktop. A minimum of 512 MB
  of RAM and 10 GB of hard drive space are really recommended for a basic
  office desktop workstation.</para>

  <sidebar>
    <title><emphasis>BEWARE</emphasis> Upgrading from Jessie</title>

    <para>If you already have Debian Jessie installed on your computer, this
    chapter is not for you! Unlike other distributions, Debian allows
    updating a system from one version to the next without having to
    reinstall the system. Reinstalling, in addition to being unnecessary,
    could even be dangerous, since it could remove already installed
    programs.</para>

    <para>Il processo di aggiornamento sarà descritto in <xref linkend="sect.dist-upgrade" />.</para>
  </sidebar>
  <section id="sect.installation-methods">
    <title>Modalità di installazione</title>

    <para>Un sistema Debian può essere installato da diversi tipi di supporti, a patto che il BIOS della macchina lo permetta. È possibile, ad esempio, l'avvio con un CD-ROM, una chiavetta USB o anche attraverso la rete.</para>

    <sidebar>
      <title><emphasis>FONDAMENTALI</emphasis> BIOS, l'interfaccia hardware/software</title>
      <indexterm><primary>BIOS</primary></indexterm>
      <indexterm><primary>Basic Input/Output System</primary></indexterm>

      <para>Il BIOS (acronimo di Basic Input/Output System) è un software che è incluso nella scheda madre (la scheda elettronica che collega tutte le periferiche), ed è eseguito quando il computer viene avviato, al fine di caricare il sistema operativo (tramite un bootloader adattato). Rimane attivo sullo sfondo per fornire un'interfaccia tra l'hardware e il software (nel nostro caso, il kernel Linux).</para>
    </sidebar>
    <section id="sect.install-cd">
      <title>Installazione da un CD-ROM/DVD-ROM</title>

      <para>Il supporto di installazione più utilizzato è il CD-ROM (o DVD-ROM, che si comporta esattamente allo stesso modo): il computer viene avviato da questo supporto e viene eseguito il programma di installazione.</para>

      
      <para>Various CD-ROM families have different purposes:
      <emphasis>netinst</emphasis> (network installation) contains the
      installer and the base Debian system; all other programs are
      then downloaded. Its “image”, that is the ISO-9660 filesystem
      that contains the exact contents of the disk, only takes up
      about 150 to 280 MB (depending on architecture).
      On the other hand, the complete set offers all packages and
      allows for installation on a computer that has no Internet access;
      it requires around 14 DVD-ROMs (or 3 Blu-ray disks). There is no
      more official CD-ROMs set as they were really huge, rarely used and
      now most of the computers use DVD-ROMs as well as CD-ROMs. But the
      programs are divided among the disks
      according to their popularity and importance; the first
      disk will be sufficient for most installations, since it
      contains the most used softwares.</para>

      <para>C'è un ultimo tipo di immagine, nota come <filename>mini.iso</filename>, che è disponibile solo come un sottoprodotto del programma di installazione. L'immagine contiene solo il minimo necessario per configurare la rete e tutto il resto viene scaricato (comprese le parti del programma di installazione stesso, che è il motivo per cui le immagini tendono a non funzionare quando viene rilasciata una nuova versione del programma di installazione). Quelle immagini possono essere trovate sui normali mirror Debian sotto la directory<filename>dists/<replaceable>release</replaceable>/main/installer-<replaceable>arch</replaceable>/current/images/netboot/</filename>.</para>
      <indexterm><primary><filename>mini.iso</filename></primary></indexterm>

      <sidebar>
        <title><emphasis>SUGGERIMENTO</emphasis> Dischi multi-architettura</title>

	<para>La maggior parte dei CD e DVD-ROM di installazione funzionano solo su un'architettura hardware specifica. Se si vogliono scaricare le immagini complete, è necessario fare attenzione a scegliere quelle che funzionano sull'hardware del computer su cui si desidera installarle.</para>

	<para>Some CD/DVD-ROM images can work on several
	architectures. We thus have a CD-ROM image combining the
	<emphasis>netinst</emphasis> images of the
	<emphasis>i386</emphasis> and <emphasis>amd64</emphasis>
	architectures.</para>
      </sidebar>
      <indexterm><primary>CD-ROM</primary><secondary>CD-ROM d'installazione</secondary></indexterm>
      <indexterm><primary>CD-ROM</primary><secondary><emphasis>CD-ROM netinst</emphasis></secondary></indexterm>
      <indexterm><primary>DVD-ROM</primary><secondary>DVD-ROM d'installazione</secondary></indexterm>
      <indexterm><primary>DVD-ROM</primary><secondary><emphasis>DVD-ROM netinst</emphasis></secondary></indexterm>

      <para>To acquire Debian CD-ROM images, you may of course download
      them and burn them to disk. You may also purchase them, and, thus,
      provide the project with a little financial support. Check the
      website to see the list of DVD-ROM image vendors and download sites.
      <ulink type="block" url="http://www.debian.org/CD/index.html" />
      </para>
    </section>
    <section id="sect.install-usb">
      <title>Avviare da una chiavetta USB</title>
      <indexterm><primary>chiavetta USB</primary></indexterm>

      <para>Poiché la maggior parte dei computer sono in grado di fare il boot da dispositivi USB, è possibile installare Debian anche da una chiavetta USB (questo non è altro che un piccolo disco di memoria flash).</para>

      <para>Il manuale di installazione spiega come creare una chiavetta USB che contiene il <command>debian-installer</command>. La procedura è molto semplice poichè le immagini ISO per le architetture i386 e amd64 sono immagini ibride che permettono l'avvio sia da CD-ROM che da chiavetta USB.</para>

      <para>You must first identify the device name of the USB key
      (ex: <literal>/dev/sdb</literal>); the simplest means to do this
      is to check the messages issued by the kernel using the
      <command>dmesg</command> command. Then you must copy the
      previously downloaded ISO image (for example
      debian-9.0.0-amd64-netinst.iso) with the command
      <command>cat debian-9.0.0-amd64-netinst.iso &gt;/dev/sdb;
      sync</command>.  This command requires administrator rights,
      since it accesses the USB key directly and blindly erases its
      content.</para>

      <para>Una spiegazione più dettagliata è disponibile nel manuale di installazione. Tra le altre cose, descrive un metodo alternativo di preparare una chiavetta USB, più complesso, ma che permette di personalizzare le opzioni predefinite d'installazione (quelle specificate nella riga di comando del kernel). <ulink type="block" url="http://www.debian.org/releases/stable/amd64/ch04s03.html" /></para>
    </section>
    <section id="sect.install-net">
      <title>Installazione tramite l'avvio da rete</title>
      <indexterm><primary>installazione</primary><secondary><emphasis>installazione via netboot</emphasis></secondary></indexterm>
      <indexterm><primary>installazione</primary><secondary><emphasis>installazione da PXE</emphasis></secondary></indexterm>
      <indexterm><primary>installazione</primary><secondary><emphasis>installazione da TFTP</emphasis></secondary></indexterm>

      <para>Molti BIOS permettono l'avvio direttamente dalla rete, scaricando un kernel e un'immagine minimale del file system. Questo metodo (che ha diversi nomi, come <acronym>PXE</acronym> o <acronym>TFTP</acronym> boot) può essere un salvavita se il computer non dispone di un lettore CD-ROM, o se il BIOS non prevede l'avvio da tali supporti.</para>

      <para>Questo metodo di installazione funziona in due fasi. In primo luogo, durante l'avvio del computer, il BIOS (o la scheda di rete) manda una richiesta BOOTP/DHCP per acquisire automaticamente un indirizzo IP. Quando un server BOOTP o DHCP restituisce una risposta, include il nome di file e le impostazioni di rete. Dopo aver configurato la rete, il computer client invia la richiesta TFTP (Trivial File Transfer Protocol) per il file il cui nome è stato indicato in precedenza. Una volta che questo file viene acquisito, viene eseguito come se si trattasse di un bootloader. Questo lancia il programma di installazione di Debian, che viene eseguito come se fosse stato lanciato dal disco rigido, da un CD-ROM o da una chiavetta USB.</para>

      <para>Tutti i dettagli di questo metodo sono disponibili nella guida d'installazione (sezione «Preparazione dei file per l'avvio TFTP da rete»). <ulink type="block" url="http://www.debian.org/releases/stable/amd64/ch05s01.html#boot-tftp" /> <ulink type="block" url="http://www.debian.org/releases/stable/amd64/ch04s05.html" /></para>
    </section>
    <section id="sect.install-auto">
      <title>Altri metodi d'installazione</title>

      <para>When we have to deploy customized installations for a large
      number of computers, we generally choose an automated rather than a
      manual installation method. Depending on the situation and the
      complexity of the installations to be made, we can use FAI (Fully
      Automatic Installer, described in <xref linkend="sect.fai" />), or even a
      customized installation DVD with preseeding (see <xref linkend="sect.d-i-preseeding" />).</para>
    </section>
  </section>
  <section id="sect.installation-steps">
    <title>Installazione, passo passo</title>
    <section id="sect.install-boot">
      <title>Avviare e eseguire il programma d'installazione</title>

      <para>Una volta che il BIOS ha iniziato la fase di avvio dal CD o DVD-ROM, compare il menu del bootloader Isolinux. In questa fase, il kernel Linux non è ancora caricato, questo menu consente di scegliere il kernel da avviare e inserire i parametri possibili passargli.</para>

      <para>For a standard installation, you only need to choose
      “Install” or “Graphical install” (with the arrow keys), then
      press the <keycap>Enter</keycap> key to initiate the remainder
      of the installation process. If the DVD-ROM is a “Multi-arch” disk,
      and the machine has an Intel or AMD 64 bit processor, those menu
      options enable the installation of the 64 bit variant
      (<emphasis>amd64</emphasis>) and the installation of the 32 bit
      variant remains available in a dedicated sub-menu (“32-bit install
      options”). If you have a 32 bit processor, you don't get a choice
      and the menu entries install the 32 bit variant
      (<emphasis>i386</emphasis>).
      </para>

      <sidebar>
        <title><emphasis>APPROFONDIMENTI</emphasis> 32 o 64 bit?</title>
        <indexterm><primary>PAE</primary></indexterm>
        <indexterm><primary>Physical Address Extension</primary></indexterm>
        <indexterm><primary>32/64 bit, scegliere</primary></indexterm>

	<para>La differenza fondamentale tra i sistemi a 32 ed a 64 bit è la dimensione degli indirizzi di memoria. In teoria, un sistema a 32 bit non può lavorare con più di 4 GB di RAM (2<superscript>32</superscript> byte). In pratica, è possibile aggirare questa limitazione utilizzando la variante del kernel <literal>686-pae</literal>, fintanto che il processore gestisce il PAE (Physical Address Extension). Utilizzarlo, tuttavia, ha una notevole influenza sulle prestazioni del sistema. Per questo motivo è utile utilizzare la modalità a 64 bit su un server con una grande quantità di RAM.</para>

	<para>Per un computer d'ufficio (dove una differenza di pochi punti percentuali in termini di prestazioni è trascurabile), è necessario tenere a mente che alcuni programmi proprietari non sono disponibili in versioni a 64 bit (come Skype per esempio). È tecnicamente possibile farli funzionare su sistemi a 64 bit, ma è necessario installare le versioni a 32 bit di tutte le librerie necessarie (si veda <xref linkend="sect.multi-arch" />), e a volte è necessario utilizzare i comandi <command>setarch</command> o <command>linux32</command> (nel pacchetto <emphasis role="pkg">util-linux</emphasis>) per ingannare le applicazioni sulla natura del sistema. <indexterm><primary><command>setarch</command></primary></indexterm> <indexterm><primary><command>linux32</command></primary></indexterm></para>
      </sidebar>

      <sidebar>
        <title><emphasis>IN PRATICA</emphasis> Installazione affiancando un sistema Windows già esistente</title>
        <indexterm><primary>dual boot</primary></indexterm>

	<para>Se nel computer è già presente Windows, non è necessario eliminare il sistema per installare Debian. Si possono avere entrambi i sistemi contemporaneamente, ognuno installato su un disco o su una partizione differente, e scegliere quale far partire quando si avvia il computer. Questa configurazione è spesso chiamata «dual boot» e il sistema di installazione di Debian può configurare quest'opzione. Questa operazione viene eseguita durante la fase di partizionamento del disco rigido e durante la configurazione del bootloader (vedi i riquadri <xref linkend="sidebar.shrinking-partition" /> and <xref linkend="sidebar.bootloader-dual-boot" />).</para>

	<para>Se si ha già un sistema Windows funzionante, si può anche fare a meno del CD-ROM di ripristino; Debian fornisce un programma Windows che scarica un programma d'installazione di Debian leggero e lo configura sul disco rigido. In questo modo è sufficiente riavviare il computer e scegliere tra il normale avvio di Windows o l'avvio del programma di installazione. È inoltre possibile trovarlo su un sito web dedicato con un nome piuttosto esplicito… <ulink type="block" url="http://ftp.debian.org/debian/tools/win32-loader/stable/" /> <ulink type="block" url="http://www.goodbye-microsoft.com/" /></para>
      </sidebar>

      <sidebar>
        <title><emphasis>FONDAMENTALI</emphasis> Bootloader</title>
        <indexterm><primary>loader</primary><secondary>bootloader</secondary></indexterm>
        <indexterm><primary>bootloader</primary></indexterm>
        <indexterm><primary>boot</primary><secondary>loader</secondary></indexterm>

	<para>Il bootloader è un programma a basso livello che è responsabile dell'avvio del kernel Linux, subito dopo che il BIOS gli ha ceduto il controllo. Per gestire questo compito, deve essere in grado di individuare sul disco il kernel Linux per l'avvio. Sulle architetture i386 e amd64, i due programmi più utilizzati per eseguire questa operazione sono LILO, il più vecchio dei due, e GRUB, la soluzione più moderna che lo sostituisce. Isolinux e Syslinux sono alternative utilizzate frequentemente per l'avvio da supporti rimovibili.</para>
      </sidebar>

      <para>Ogni voce di menu nasconde una specifica riga di comando di avvio, che può essere configurata in base alle esigenze premendo il tasto <keycap>TAB</keycap> prima di convalidare l'avvio. La voce del menu «Help» visualizza la vecchia interfaccia a riga di comando, dove i tasti da <keycap>F1</keycap> a <keycap>F10</keycap> visualizzano diverse schermate di aiuto, andando nel dettaglio delle varie opzioni disponibili al prompt. Si avrà raramente la necessità di utilizzare queste opzioni, se non in casi molto specifici.</para>

      <para>La modalità «expert» (accessibile dal menu «Advanced options») abilita, nel dettaglio, tutte le opzioni possibili nel processo d'installazione e consente di spostarsi tra le varie fasi senza che vengano obbligatoriamente eseguite in sequenza. Attenzione, questa modalità molto dettagliata può essere fonte di confusione a causa della moltitudine di opzioni di configurazione che offre.</para>

      <figure>
        <title>Schermata di avvio</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-boot.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Once booted, the installation program guides you step by
      step throughout the process. This section presents each of these
      steps in detail. Here we follow the process of an installation
      from an amd64 DVD-ROM (more specifically, the rc3 version
      of the installer for Stretch); <emphasis>netinst</emphasis>
      installations, as well as the final release of the installer,
      may look slightly different. We will also address installation
      in graphical mode, but the only difference from “classic”
      (text-mode) installation is in the visual appearance.</para>
    </section>
    <section id="sect.install-lang">
      <title>Selezione della lingua</title>
      <indexterm><primary>scelta</primary><secondary>della lingua</secondary></indexterm>

      <para>Il programma d'installazione utilizza inizialmente la lingua inglese, ma il primo passo è quello che permette all'utente di scegliere la lingua che verrà utilizzata nel resto del processo. Scegliendo il francese, per esempio, si avrà l'intero processo di installazione interamente tradotto in francese (e un sistema configurato in francese come risultato). Questa scelta è utilizzata anche per definire scelte predefinite più rilevanti nelle fasi successive (in particolare la mappatura della tastiera).</para>

      <sidebar>
        <title><emphasis>FONDAMENTALI</emphasis> Navigazione con la tastiera</title>

	<para>Alcuni passaggi del processo d'installazione richiedono l'immissione di informazioni. Queste schermate hanno diverse aree che possono «avere il focus» (aree di inserimento testo, caselle di selezione, elenchi di opzioni, pulsanti OK e Annulla), e il tasto <keycap>TAB</keycap> consente di passare alle diverse aree.</para>

	<para>Nella modalità grafica, è possibile utilizzare il mouse, come si farebbe normalmente su un ambiente desktop grafico installato.</para>
      </sidebar>

      <figure role="flow.inline">
        <title>Selezione della lingua</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-lang.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-lang-txt.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section id="sect.install-country">
      <title>Selezione della nazione</title>
      <indexterm><primary>scelta</primary><secondary>del paese</secondary></indexterm>

      <para>Il secondo passo consiste nella scelta del paese. Insieme alla lingua, questa informazione consente al programma di proporre la mappatura della tastiera più indicata. Questo influenzerà anche la configurazione del fuso orario. Negli Stati Uniti, viene suggerita una tastiera QWERTY standard e una lista di fusi orari appropriati.</para>

      <figure role="flow.inline">
        <title>Selezione della nazione</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-country.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-country-txt.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section id="sect.install-keyboard">
      <title>Selezione della mappatura della tastiera</title>
      <indexterm><primary>disposizione dei tasti</primary></indexterm>
      <indexterm><primary>layout, tastiera</primary></indexterm>

      <para>La tastiera suggerita «Inglese (Stati Uniti)» corrisponde, di solito, alla mappatura QWERTY.</para>

      <figure role="flow.inline">
        <title>Scelta della tastiera</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-keyboard.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-keyboard-txt.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section id="sect.install-detect-hardware">
      <title>Rilevamento hardware</title>

      <para>Questo passaggio, nella stragrande maggioranza dei casi, è completamente automatico. Il programma d'installazione rileva l'hardware, e cerca di identificare il lettore CD-ROM utilizzato per accedere ai suoi contenuti. Carica i moduli corrispondenti ai vari componenti hardware rilevati, e poi «monta» il CD-ROM per leggerlo. I passaggi precedenti sono completamente contenuti nell'immagine di avvio inclusa nel CD, un file di dimensione limitata caricato in memoria dal BIOS durante l'avvio dal CD.</para>

      <para>Il programma d'installazione funziona con la maggior parte delle unità, soprattutto periferiche standard ATAPI (a volte chiamate IDE e EIDE). Tuttavia, se non dovesse funzionare il rilevamento del lettore CD-ROM, il programma d'installazione offre la possibilità di caricare un modulo del kernel (per esempio da una chiavetta USB) corrispondente al driver del CD-ROM.</para>
    </section>
    <section id="sect.install-load-components">
      <title>Caricamento dei componenti</title>

      <para>Ora che il contenuto del CD è disponibile, il programma di installazione carica tutti i file necessari per continuare il suo lavoro. Questo comprende i driver aggiuntivi per l'hardware rimanente (in particolare la scheda di rete), nonché tutti i componenti del programma di installazione.</para>
    </section>
    <section id="sect.install-detect-network">
      <title>Rilevamento dell'hardware di rete</title>

      <para>Questo passaggio automatico tenta di individuare la scheda di rete e caricare il modulo corrispondente. Se il rilevamento automatico non riesce, è possibile selezionare manualmente il modulo da caricare. Se non funziona nessun modulo, è possibile caricare un modulo specifico da un dispositivo rimovibile. Quest'ultima soluzione di solito è necessaria solo se il driver appropriato non è incluso nel kernel standard di Linux, ma disponibile altrove, come nel sito web del produttore.</para>

      <para>Per le installazioni <emphasis>netinst</emphasis>, questo passaggio deve essere obbligatoriamente concluso con successo, dato che i pacchetti Debian devono essere scaricati dalla rete.</para>
    </section>
    <section id="sect.install-network-config">
      <title>Configurazione della rete</title>
      <indexterm><primary>configurazione</primary><secondary>rete</secondary><tertiary>statica</tertiary></indexterm>
      <indexterm><primary>configurazione</primary><secondary>rete</secondary><tertiary>DHCP</tertiary></indexterm>

      <para>Il programma d'installazione cerca di automatizzare il più possibile l'intero processo d'installazione, quindi tenta una configurazione automatica della rete tramite DHCP (per IPv4) e IPv6 network discovery. Se non funziona, vengono proposte più scelte: provare di nuovo con la configurazione DHCP normale, provare con DHCP dichiarando il nome della macchina, oppure impostare una configurazione statica della rete.</para>

      <para>Quest'ultima opzione richiede un indirizzo IP, una maschera di rete, un indirizzo IP per un possibile gateway, il nome della macchina e un nome di dominio.</para>

      <sidebar>
        <title><emphasis>SUGGERIMENTO</emphasis> Configurazione senza DHCP</title>

	<para>Se la rete locale è dotata di un server DHCP che non si desidera utilizzare, perché si preferisce definire un indirizzo IP statico per la macchina durante l'installazione, è possibile aggiungere l'opzione <userinput>netcfg/use_dhcp=false</userinput> all'avvio dal CD-ROM. Basta andare nella voce di menu desiderata premendo il tasto <keycap>TAB</keycap> e aggiungere l'opzione desiderata prima di premere il tasto <keycap>Invio</keycap>.</para>
      </sidebar>

      <sidebar>
        <title><emphasis>ATTENZIONE</emphasis> Non si improvvisi</title>

	<para>Molte reti locali si basano sul presupposto che ci si può fidare di tutte le macchine collegate, in questo modo una configurazione inadeguata di un singolo computer spesso può disturbare l'intera rete. È consigliato quindi consultarsi con l'amministratore di rete per la configurazione corretta (ad esempio, l'indirizzo IP, la maschera di rete e l'indirizzo di broadcast) prima di collegare qualsiasi macchina alla rete.</para>
      </sidebar>
    </section>
    <section>
      <title>Password dell'amministratore</title>
      <indexterm><primary>account</primary><secondary>account dell'amministratore</secondary></indexterm>

      <para>L'account del super-utente root, riservato all'amministratore della macchina, è creato automaticamente durante l'installazione; questo è il motivo per cui viene richiesta una password. Il programma di installazione chiede anche una conferma della password per evitare qualsiasi errore di immissione, che sarebbe poi difficile da correggere in seguito.</para>

      <figure>
        <title>Password dell'amministratore</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-rootpw.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>

      <sidebar>
        <title><emphasis>SICUREZZA</emphasis> Password dell'amministratore</title>

	<para>La password dell'utente root deve essere lunga (8 o più caratteri) e impossibile da indovinare. Infatti, qualsiasi computer (ed a maggior ragione i server) connesso a Internet è regolarmente bersagliato da tentativi automatici di connessione con le password più comuni. A volte può anche essere soggetto ad attacchi con dizionario, in cui vengono provate password con molte combinazioni di parole e numeri. È buona norma evitare di utilizzare nomi di familiari, date di nascita, ecc.: molti dei vostri colleghi potrebbero esserne a conoscenza, e raramente si vuole dar loro libero accesso al computer in questione.</para>

	<para>Queste considerazioni valgono anche per le password degli altri utenti, ma le conseguenze di un account compromesso sono meno pesanti per gli utenti senza diritti di amministrazione.</para>

	<para>Se non si è ispirati, si possono utilizzare i generatori di password, come ad esempio <command>pwgen</command> (nel pacchetto con lo stesso nome).</para>
      </sidebar>
    </section>
    <section>
      <title>Creazione del primo utente</title>

      <para>Debian impone la creazione di un account utente standard in modo che l'amministratore non prenda la cattiva abitudine di lavorare come root. Questa precauzione limita i danni causati dall'errore umano, in quanto tutte le attività vengono eseguite con il minimo dei diritti richiesti. Per questo motivo il programma d'installazione chiederà il nome completo di questo primo utente, il nome utente e la password (due volte, per evitare gli errori di battitura).</para>

      <figure>
        <title>Nome del primo utente</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-username.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section id="sect.install-clock-config">
      <title>Configurazione dell'orologio</title>

      <para>Se la rete è disponibile, l'orologio interno del sistema sarà aggiornato (solo la prima volta) da un server NTP. In questo modo l'ora dei log sarà corretta dal primo avvio. Se si vuole rimanere costantemente con un orario sincronizzato, deve essere impostato un demone NTP dopo l'installazione iniziale (vedere la <xref linkend="sect.time-synchronization" />).</para>
    </section>
    <section id="sect.install-detect-disks">
      <title>Rilevamento dei dischi e degli altri dispositivi</title>

      <para>Questo passaggio rileva automaticamente i dischi rigidi sui quali può essere installata Debian. Questo verrà trattato nel prossimo passaggio: il partizionamento.</para>
    </section>
    <section id="sect.install-partman">
      <title>Avviare lo strumento di partizionamento</title>
      <indexterm><primary>partizionamento</primary></indexterm>

      <sidebar>
        <title><emphasis>CULTURA</emphasis> Utilizzo del partizionamento</title>

	<para>Il partizionamento è un passaggio fondamentale dell'installazione e consiste nel dividere lo spazio disponibile sul disco rigido (ognuna di queste suddivisioni viene chiamata «partizione») a seconda dei dati che devono essere memorizzati e dall'uso a cui è destinato il computer. Questa fase include anche la scelta dei file system da utilizzare. Tutte queste decisioni influenzeranno le prestazioni, la sicurezza dei dati e più in generale l'amministrazione del server.</para>
      </sidebar>

      <para>La fase di partizionamento è di norma un po' ostica per i nuovi utenti. È infatti necessario definire le varie porzioni dei dischi (o «partizioni») su cui verranno memorizzati i file system Linux e la memoria virtuale (swap). Questo compito è complicato se è già presente un altro sistema operativo che si desidera mantenere. Si dovrà fare attenzione a non modificare le sue partizioni (o di ridimensionarle senza causare danni).</para>

      <para>Fortunatamente, il programma di partizionamento dispone di una modalità «guidata», che consiglia le partizioni da fare; nella maggior parte dei casi, si può semplicemente accettare i suggerimenti del programma.</para>

      <figure>
        <title>Scelta della modalità di partizionamento</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-partman.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>The first screen in the partitioning tool offers the choice of
      using an entire hard drive to create various partitions. For a (new)
      computer which will solely use Linux, this option is clearly the
      simplest, and you can choose the option “Guided - use entire
      disk”. If the computer has two hard drives for two operating
      systems, setting one drive for each is also a solution that can
      facilitate partitioning. In both of these cases, the next screen
      offers to choose the disk where Linux will be installed by selecting
      the corresponding entry (for example, “SCSI3 (0,0,0) (sda) - 17.2
      GB ATA VBOX HARDDISK”). You then start guided partitioning.</para>

      <figure>
        <title>Disco da utilizzare per il partizionamento guidato</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-partman-disk.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Con il partizionamento guidato è possibile impostare anche i volumi logici LVM invece delle partizioni (vedere sotto). Dato che il resto dell'operazione è identico, non verrà descritta (in dettaglio) l'opzione «Guidato - usa l'intero disco e imposta LVM» (cifrato o no).</para>

      <para>In altri casi, quando Linux deve funzionare insieme ad altre partizioni già esistenti, è necessario scegliere il partizionamento manuale.</para>
      <section id="sect.install-autopartman-mode">
        <title>Partizionamento guidato</title>
        <indexterm><primary>partizionamento</primary><secondary>partizionamento guidato</secondary></indexterm>

	<para>Il programma di partizionamento guidato offre tre metodi di partizionamento, che corrispondono a utilizzi diversi.</para>

        <figure>
          <title>Partizionamento guidato</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/inst-autopartman-mode.png" scalefit="1" width="65%" />
            </imageobject>
          </mediaobject>
        </figure>

	<para>Il primo metodo si chiama «Tutti i file in una partizione». L'intero albero del sistema Linux è memorizzato in un singolo file system, corrispondente alla directory radice <filename>/</filename>. Questo partizionamento semplice e robusto si adatta perfettamente per i sistemi personali o a singolo utente. Per la verità, verranno create due partizioni: la prima ospiterà l'intero sistema, la seconda la memoria virtuale (swap).</para>

	<para>Il secondo metodo, «Partizione <filename>/home/</filename> separata», è simile al primo, ma divide in due la gerarchia dei file: la prima partizione conterrà il sistema Linux (<filename>/</filename>), la seconda le «directory home» (ovvero i dati dell'utente, file e sottodirectory in <filename>/home/</filename>).</para>

	<para>L'ultimo metodo di partizionamento, «Partizioni <filename>/home</filename>, <filename>/var</filename> e <filename>/tmp</filename> separate», è adatto per i server e per i sistemi multi utente. Divide la gerarchia dei file in molte partizioni: oltre alla partizione radice (<filename>/</filename>) e alla partizione dedicata agli account utente (<filename>/home/</filename>), ha anche partizioni per i dati di programmi server (<filename>/var/</filename>) e per i file temporanei (<filename>/tmp/</filename>). Queste divisioni hanno diversi vantaggi. Ad esempio, gli utenti non posso bloccare il server riempiendo tutto lo spazio disponibile nel disco (possono solo riempire le directory <filename>/tmp/</filename> e <filename>/home/</filename>). I dati dei demoni (specialmente i log) non possono intasare il resto del sistema.</para>

        <sidebar>
          <title><emphasis>FONDAMENTALI</emphasis> Scelta del file system</title>
          <indexterm><primary>system</primary><secondary>file system</secondary></indexterm>
          <indexterm><primary>file</primary><secondary>system</secondary></indexterm>

	  <para>A filesystem defines the way in which data is
	  organized on the hard drive. Each existing filesystem has
	  its merits and limitations. Some are more robust, others
	  more effective: if you know your needs well, choosing the
	  most appropriate filesystem is possible. Various comparisons
          have already been made; it seems that <emphasis>ReiserFS</emphasis> is
	  particularly efficient for reading many small files;
	  <emphasis>XFS</emphasis>, in turn, works faster with large
	  files. <emphasis>Ext4</emphasis>, the default filesystem for
	  Debian, is a good compromise, based on the three previous
	  versions of filesystems historically used in Linux
	  (<emphasis>ext</emphasis>, <emphasis>ext2</emphasis> and
	  <emphasis>ext3</emphasis>). <emphasis>Ext4</emphasis>
	  overcomes certain limitations of <emphasis>ext3</emphasis>
	  and is particularly appropriate for very large capacity hard
	  drives.  Another option would be to experiment with the very
	  promising <emphasis>btrfs</emphasis>, which includes
	  numerous features that require, to this day, the use of LVM
	  and/or RAID.</para>

	  <para>Un file system «con journal» (come ad esempio <emphasis>ext3</emphasis>, <emphasis>ext4</emphasis>, <emphasis>btrfs</emphasis>, <emphasis>reiserfs</emphasis> o <emphasis>xfs</emphasis>) prevede accorgimenti speciali per permettere di ritornare ad uno stato precedente coerente, dopo una brusca interruzione, senza un'analisi completa dell'intero disco (come succedeva per <emphasis>ext2</emphasis>). Questa funzionalità viene realizzata compilando un diario («journal») che descrive le operazioni da fare prima di eseguirle effettivamente. In questo modo se un'operazione viene interrotta, sarà possibile fare un «replay» dal diario. Se invece si verifica un'interruzione durante l'aggiornamento del diario l'ultima modifica richiesta viene semplicemente ignorata, i dati scritti potrebbero essere persi, ma dal momento che i dati sul disco non sono cambiati, rimangono coerenti. Si tratta di un meccanismo transazionale applicato al file system.</para>
        </sidebar>

	<para>Dopo aver scelto il tipo di partizione, il programma propone un suggerimento e lo mostra sullo schermo, l'utente può modificarlo se necessario. In particolare è possibile scegliere un altro file system se la scelta standard (<emphasis>ext4</emphasis>) non è appropriata. Nella maggior parte dei casi il partizionamento proposto è la scelta più ragionevole e può essere accettata selezionando l'opzione «Terminare il partizionamento e scrivere i cambiamenti sul disco».</para>

        <figure>
          <title>Convalida del partizionamento</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/inst-partman-validation.png" scalefit="1" width="65%" />
            </imageobject>
          </mediaobject>
        </figure>
      </section>
      <section id="sect.manual-partitioning">
        <title>Partizionamento manuale</title>
        <indexterm><primary>partizionamento</primary><secondary>partizionamento manuale</secondary></indexterm>

	<para>Il partizionamento manuale permette una maggiore flessibilità, consentendo all'utente di scegliere lo scopo e la dimensione di ogni partizione. Inoltre, questa modalità è l'unica strada se si vuole utilizzare il RAID software.</para>

        <sidebar id="sidebar.shrinking-partition">
          <title><emphasis>IN PRATICA</emphasis> Riduzione di una partizione Windows</title>
          <indexterm><primary>ridimensionare una partizione</primary></indexterm>
          <indexterm><primary>ridurre una partizione</primary></indexterm>

	  <para>Per installare Debian insieme ad un altro sistema operativo (Windows o altro), è necessario disporre di spazio su disco, non utilizzato da un altro sistema, per poter creare le partizioni dedicate a Debian. Nella maggior parte dei casi, questo significa ridurre la partizione di Windows e riutilizzare lo spazio liberato.</para>

	  <para>Il programma di installazione di Debian permette questa operazione quando si utilizza la modalità per il partizionamento manuale. È necessario solamente scegliere la partizione di Windows e inserire la sua nuova dimensione (funziona sia con partizioni FAT che NTFS).</para>
        </sidebar>

	<para>La prima schermata visualizza i dischi disponibili, le loro partizioni e lo spazio libero che non è stato ancora partizionato. È possibile selezionare ogni elemento visualizzato, premendo il tasto <keycap>Invio</keycap> verrà presentato un elenco di azioni possibili.</para>

	<para>È possibile cancellare tutte le partizioni su un disco selezionandolo.</para>

	<para>Quando si seleziona dello spazio libero su disco, è possibile creare manualmente una nuova partizione. È possibile farlo anche utilizzando il partizionamento guidato, che è una soluzione interessante per un disco che contiene già un altro sistema operativo, ma che si vorrebbe partizionare per Linux in maniera standard. Vedere <xref linkend="sect.install-autopartman-mode" /> per avere più informazioni sul partizionamento guidato.</para>

        <sidebar>
          <title><emphasis>FONDAMENTALI</emphasis> Punto di montaggio</title>
          <indexterm><primary>punto di montaggio</primary></indexterm>
          <indexterm><primary>punto, punto di montaggio</primary></indexterm>

	  <para>Il punto di montaggio è l'albero delle directory che ospiterà il contenuto del file system della partizione selezionata. Così, una partizione montata in <filename>/home/</filename> è tradizionalmente adibita a contenere i dati utente.</para>

	  <para>Quando la directory è «<filename>/</filename>», viene indicata come la <emphasis>radice</emphasis> («root») della partizione che di fatto contiene il sistema Debian.</para>
        </sidebar>

        <sidebar>
          <title><emphasis>FONDAMENTALI</emphasis> Memoria virtuale, swap</title>
          <indexterm><primary>memoria virtuale</primary></indexterm>
          <indexterm><primary>swap</primary></indexterm>
          <indexterm><primary>partizione</primary><secondary>partizione di swap</secondary></indexterm>
          <indexterm><primary>partizione di swap</primary></indexterm>

	  <para>La memoria virtuale permette al kernel di Linux di liberare un po' di memoria, quando non è disponibile abbastanza memoria (RAM), salvando le parti della RAM che sono state inattive per un certo periodo nella partizione di swap del disco rigido.</para>

	  <para>Per simulare la memoria aggiuntiva, Windows utilizza un file di swap che è contenuto direttamente nel file system. Al contrario, Linux utilizza una partizione dedicata a questo scopo, da qui il termine «partizione di swap».</para>
        </sidebar>

	<para>Quando si sceglie una partizione, è possibile indicare il modo in cui si ha intenzione utilizzarla:</para>
        <itemizedlist>
          <listitem>
	    <para>formattarla e includerla nella struttura ad albero dei file scegliendo un punto di montaggio;</para>
          </listitem>
          <listitem>
	    <para>usarla come partizione di swap;</para>
          </listitem>
          <listitem>
	    <para>utilizzarla come «volume fisico per la cifratura» (per proteggere la riservatezza dei dati in alcune partizioni, vedere sotto);</para>
          </listitem>
          <listitem>
	    <para>utilizzarla come «volume fisico per LVM» (questo concetto sarà discusso in dettaglio più avanti in questo capitolo);</para>
          </listitem>
          <listitem>
	    <para>usarla come un dispositivo RAID (vedere più avanti in questo capitolo);</para>
          </listitem>
          <listitem>
	    <para>puoi anche scegliere di non utilizzarla, e quindi lasciarla inalterata.</para>
          </listitem>
        </itemizedlist>
      </section>
      <section id="sect.install-software-raid">
        <title>Configurazione di dispositivi multi-disco (RAID software)</title>
        <indexterm><primary>RAID</primary><secondary>Software RAID</secondary></indexterm>
        <indexterm><primary>RAID software</primary></indexterm>
        <indexterm><primary>dispositivo</primary><secondary>dispositivo multi-disco</secondary></indexterm>

	<para>Alcuni tipi di RAID permettono la duplicazione delle informazioni memorizzate sui dischi rigidi per prevenire la perdita dei dati nel caso che uno dei dischi abbia un problema hardware. Il RAID livello 1 mantiene una copia identica (mirror) di un disco rigido su un altro dispositivo, mentre il RAID livello 5 divide i dati ridondandoli su più dischi, permettendo così la completa ricostruzione di un'unità malfunzionante.</para>

	<para>Verrà descritto solo il RAID livello 1, che è il più semplice da implementare. Il primo passo consiste nel creare, in due dischi diversi, due partizioni di dimensioni identiche e di etichettarle come «volume fisico per RAID».</para>

	<para>Per combinare queste due partizioni in un nuovo disco virtuale è necessario scegliere "Configurare il software RAID" nel programma di partizionamento e selezionare "Creare un dispositivo MD" nella schermata di configurazione. Sarà necessario rispondere ad una serie di domande su questo nuovo dispositivo. La prima domanda riguarda il livello RAID da utilizzare, che in questo caso sarà "RAID1". La seconda domanda chiede il numero di dispositivi attivi — due nel nostro caso, ovvero il numero di partizioni che deve essere incluso in questo dispositivo MD. La terza domanda riguarda il numero di dispositivi di ricambio — 0; dato che abbiamo previsto alcun disco aggiuntivo per rimpiazzare un possibile disco difettoso. L'ultima domanda chiede di scegliere le partizioni per il dispositivo RAID — queste sarebbe le due che abbiamo messo da parte per questo scopo (bisogna assicurarsi di selezionare solo le partizioni che riportano esplicitamente "raid").</para>

	<para>Tornando al menu principale, comparirà un nuovo disco virtuale «RAID». Questo disco viene presentato con una singola partizione che non può essere eliminata, ma che può essere modificata (come per qualsiasi altra partizione).</para>

	<para>Per ulteriori informazioni sulle funzionalità RAID, si faccia riferimento alla <xref linkend="sect.raid-soft" />.</para>
      </section>
      <section id="sect.install-lvm">
        <title>Configurazione del Logical Volume Manager (LVM)</title>
        <indexterm><primary>LVM</primary><secondary>durante l'installazione</secondary></indexterm>
        <indexterm><primary>Logical Volume Manager</primary><secondary>durante l'installazione</secondary></indexterm>

	<para>LVM permette di creare partizioni «virtuali» che si possono estendere su più dischi. Questo comporta un duplice vantaggio: la dimensione delle partizioni non è più limitata dalla dimensione dei singoli dischi, ma dal loro volume cumulativo, ed è possibile ridimensionare, in qualsiasi momento, la dimensione di una partizione esistente con l'aggiunta di un altro disco quando necessario.</para>

	<para>LVM utilizza una terminologia particolare: una partizione virtuale è un «volume logico», che fa parte di un «gruppo di volumi», o di un insieme di diversi «volumi fisici». Ciascuno di questi termini, infatti, corrisponde a una partizione «reale» (o un dispositivo RAID software).</para>
        <indexterm><primary>volume</primary><secondary>volume logico</secondary></indexterm>
        <indexterm><primary>volume</primary><secondary>volume fisico</secondary></indexterm>
        <indexterm><primary>gruppo</primary><secondary>di volumi</secondary></indexterm>
        <indexterm><primary>volume</primary><secondary>gruppo</secondary></indexterm>

	<para>Questa tecnica funziona in modo molto semplice: ogni volume, sia esso fisico o logico, è suddiviso in blocchi della stessa dimensione, che sono assegnati da LVM. L'aggiunta di un nuovo disco crea un nuovo volume fisico, questi nuovi blocchi possono essere associati ad un qualsiasi gruppo di volumi. In questo modo, tutte le partizioni del gruppo di volumi che è stato ampliato avranno dello spazio aggiuntivo su cui potersi estendere.</para>

	<para>Il programma di partizionamento consente di configurare LVM in più fasi. In primo luogo è necessario creare sui dischi esistenti le partizioni che saranno «volumi fisici per LVM». Per attivare LVM, è necessario scegliere «Configurare il Logical Volume Manager (LVM)», quindi nella stessa schermata di configurazione «Creare gruppi di volumi», a cui associare i volumi fisici esistenti. Infine, è possibile creare dei volumi logici all'interno di questo gruppo di volumi. Si noti che il sistema di partizionamento automatico è in grado di automatizzare tutta questa fase.</para>

	<para>Nel menu di partizionamento, ogni volume fisico apparirà come un disco con un'unica partizione che non può essere eliminata, ma può essere modificata a piacimento.</para>

	<para>L'uso di LVM è descritto in modo più dettagliato nella <xref linkend="sect.lvm" />.</para>
      </section>
      <section>
        <title>Configurazione di partizioni cifrate</title>
        <indexterm><primary>LUKS</primary></indexterm>
        <indexterm><primary>dm-crypt</primary></indexterm>
        <indexterm><primary>partizione</primary><secondary>cifrata</secondary></indexterm>
        <indexterm><primary>partizione cifrata</primary></indexterm>
        <indexterm><primary>riservatezza</primary><secondary>file</secondary></indexterm>
        <indexterm><primary>file</primary><secondary>riservati</secondary></indexterm>

	<para>Per garantire la riservatezza dei dati, ad esempio nel caso di perdita o furto del computer o di un disco rigido, è possibile cifrare i dati in alcune partizioni. Questa funzionalità può essere usata con qualsiasi file system, dal momento che, come per LVM, Linux (e più in particolare il driver dm-crypt) usa il Device Mapper per creare una partizione virtuale (il cui contenuto sarà protetto) basata su una partizione sottostante in cui verranno memorizzati i dati in forma cifrata (grazie a LUKS, Linux Unified Key Setup, un formato standard che consente l'archiviazione di dati cifrati, nonché meta-dati che indicano gli algoritmi di cifratura utilizzati).</para>

        <sidebar id="sidebar.encrypted-swap-partition">
          <title><emphasis>SICUREZZA</emphasis> Partizione di swap cifrata</title>

	  <para>Quando viene utilizzata una partizione cifrata, la chiave di cifratura viene salvata nella memoria (RAM). Dato che questa chiave permette di decodificare i dati, è estremamente importante evitare di lasciare una copia di questa chiave che sarebbe accessibile ad un possibile ladro del computer o del disco rigido, o a un tecnico per la manutenzione. Questa situazione però si può facilmente verificare con un computer portatile, dato che quando si manda in sospensione o ibernazione, il contenuto della RAM viene memorizzato nella partizione di swap. Se questa partizione non è cifrata, il ladro può accedere alla chiave e utilizzarla per decifrare i dati dalle partizioni cifrate. Per questo motivo, quando si utilizzano partizioni cifrate, è estremamente importante cifrare anche la partizione di swap!</para>

	  <para>Il programma d'installazione di Debian avvisa l'utente se prova a fare una partizione cifrata, senza cifrare quella di swap.</para>
        </sidebar>

	<para>Per creare una partizione cifrata, è necessario assegnarne una libera per questo scopo. Basta selezionare una partizione e indicare che deve essere utilizzata come "volume fisico per la cifratura". Dopo aver partizionato il disco contenente il volume fisico da creare, scegliere "Configurare volumi cifrati". Il programma proporrà di inizializzare il volume fisico con dei dati casuali (rendendo più difficile la localizzazione dei dati reali), e chiederà di inserire una "passphrase per la cifratura", che dovrà essere inserita ogni volta che si avvia il computer, per accedere al contenuto della partizione cifrata. Una volta completata questa fase, e tornati al menu del programma di partizionamento, sarà disponibile una nuova partizione in "Volume cifrato", che sarà configurabile come qualsiasi altra partizione. Nella maggior parte dei casi, questa partizione è usata come volume fisico per LVM, in modo da proteggere più partizioni (i volumi logici LVM) con la stessa chiave crittografica, inclusa la partizione di swap (vedi riquadro <xref linkend="sidebar.encrypted-swap-partition" />).</para>
      </section>
    </section>
    <section>
      <title>Installazione del sistema di base</title>
      <indexterm><primary>sistema</primary><secondary>base</secondary></indexterm>

      <para>Questo passaggio installa i pacchetti Debian del «sistema di base», e non richiede alcuna interazione da parte dell'utente. Questo sistema comprende i programmi <command>dpkg</command> e <command>apt</command>, che gestiscono i pacchetti Debian, così come i programmi necessari per avviare il sistema e iniziare ad usarlo.</para>

      <figure>
        <title>Installazione del sistema di base</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-basesystem.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section>
      <title>Configurazione del gestore dei pacchetti (<command>apt</command>)</title>
      <indexterm><primary>configurazione</primary><secondary>configurazione iniziale di APT</secondary></indexterm>
      <indexterm><primary>APT</primary><secondary>configurazione iniziale</secondary></indexterm>

      <para>Per poter installare del software aggiuntivo, è necessario configurare APT in modo che sappia dove poter reperire i pacchetti Debian. Questo passaggio è automatizzato il più possibile. Il primo quesito che viene posto è se è necessario utilizzare una sorgente di rete per i pacchetti, o se si devono utilizzare solo i pacchetti sul CD-ROM.</para>

      <sidebar>
        <title><emphasis>NOTA</emphasis> Il CD-ROM di Debian nel lettore</title>

	<para>Se il programma d'installazione rileva un disco di Debian nel lettore CD/DVD, non è necessario configurare APT in modo che cerchi i pacchetti in rete: APT è configurato automaticamente per recuperare i pacchetti da un unità a sopporti rimovibili. Se il disco fa parte di una collezione, il programma chiederà di «esplorare» gli altri dischi per indicizzare tutti i pacchetti memorizzati nell'intera collezione di CD/DVD.</para>
      </sidebar>

      <para>Se è necessario recuperare i pacchetti dalla rete, le due domande seguenti permettono di scegliere il server da cui scaricare i pacchetti, selezionando successivamente una nazione e un mirror disponibile in quel paese (il mirror è un server pubblico che ospita le copie di tutti i file presenti nell'archivio master di Debian).</para>

      <figure>
        <title>Selezionare un mirror di Debian</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-mirror.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Infine, il programma propone di utilizzare un proxy HTTP. Se non è presente un proxy, verrà utilizzato l'accesso diretto a Internet. Se si inserisce <literal>http://proxy.falcot.com:3128</literal>, APT utilizzerà il <foreignphrase>proxy/cache</foreignphrase>, fornito dal programma «Squid», della società Falcot. È possibile trovare questi parametri, controllando le impostazioni del browser web in un altro computer connesso alla stessa rete.</para>

      <para>The files <filename>Packages.xz</filename> and
      <filename>Sources.xz</filename> are then automatically downloaded to
      update the list of packages recognized by APT.</para>

      <sidebar>
        <title><emphasis>FONDAMENTALI</emphasis> Proxy HTTP</title>
        <indexterm><primary>proxy</primary></indexterm>
        <indexterm><primary>cache del proxy</primary></indexterm>
        <indexterm><primary>cache, proxy</primary></indexterm>
        <indexterm><primary>Squid</primary></indexterm>

	<para>Un proxy HTTP è un server che inoltra le richieste HTTP effettuate dagli utenti della rete. A volte aiuta a velocizzare lo scaricamento, tenendo una copia dei file che sono stati già scaricati (questo tipo di proxy è chiamato proxy/cache). In alcuni casi, è l'unico mezzo per accedere ad un web server esterno; in questi casi è indispensabile rispondere correttamente alla domanda posta durante l'installazione, in modo da poter scaricare i pacchetti Debian attraverso il proxy.</para>

	<para>Squid è il nome del programma server utilizzato da Falcot per offrire questo servizio.</para>
      </sidebar>
    </section>
    <section>
      <title>Concorso Popolarità Pacchetti Debian</title>

      <para>Debian contiene il pacchetto <emphasis role="pkg">popularity-contest</emphasis>, che ha lo scopo di compilare le statistiche di utilizzo dei vari pacchetti. Ogni settimana il programma raccoglie le informazioni sui pacchetti installati e quelli utilizzati di recente, e invia queste informazioni in forma anonima ai server del progetto Debian. Il progetto può quindi utilizzare queste informazioni per determinare l'importanza relativa di ogni pacchetto, che influenzerà la priorità che gli verrà assegnata. In particolare, i pacchetti più «popolari» verranno inclusi nel CD-ROM d'installazione, questo darà la possibilità a molti utenti di non dover scaricare o acquistare il set completo, per trovare i loro programmi preferiti.</para>

      <para>Per rispettare la privacy degli utenti, questo pacchetto verrà attivato solo su richiesta.</para>
    </section>
    <section>
      <title>Scelta dei pacchetti per l'installazione</title>

      <para>Il passo successivo permette di scegliere, in maniera generica, lo scopo della macchina; vengono suggeriti dieci attività corrispondenti ad elenchi di pacchetti da installare. L'elenco dei pacchetti che saranno effettivamente installati, sarà perfezionato e completato in seguito. Questo passaggio permette di avere, in modo facile, un buon punto di partenza nella selezione dei programmi.</para>

      <para>Some packages are also automatically installed according to the
      hardware detected (thanks to the program
      <command>discover-pkginstall</command> from the <emphasis role="pkg">discover</emphasis> package).</para>

      <figure>
        <title>Scelta delle attività</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-tasksel.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section id="sect.installing-grub">
      <title>Installazione del bootloader GRUB</title>
      <indexterm><primary>loader</primary><secondary>bootloader</secondary></indexterm>
      <indexterm><primary>bootloader</primary></indexterm>
      <indexterm><primary>GRUB</primary></indexterm>

      <para>Il bootloader è il primo programma avviato dal BIOS. Questo programma carica in memoria il kernel di Linux e lo esegue. Spesso consente all'utente, tramite menu, di scegliere il kernel da caricare o il sistema operativo da avviare.</para>

      <sidebar id="sidebar.bootloader-dual-boot">
        <title><emphasis>ATTENZIONE</emphasis> Bootloader e dual boot</title>
        <indexterm><primary>dual boot</primary></indexterm>

	<para>Questa fase del processo dell'installazione di Debian rileva i sistemi operativi già installati nel computer, e aggiunge automaticamente le voci corrispondenti nel menu di avvio. Si tenga presente, però, che non tutti i programmi d'installazione si comportano in questo modo.</para>

	<para>In particolare, se dopo si installa (o reinstalla) Windows, il precedente bootloader verrà eliminato. Debian rimarrà installata sul disco, ma non sarà più accessibile dal menu d'avvio. Sarà quindi necessario avviare il programma d'installazione Debian in modalità <userinput>ripristino</userinput> per impostare un bootloader meno esclusivo. Questa operazione è descritta nel dettaglio nel manuale d'installazione. <ulink type="block" url="http://www.debian.org/releases/stable/amd64/ch08s07.html" /></para>
      </sidebar>

      <para>Il menu proposto da GRUB, in modo predefinito, contiene tutti i kernel Linux installati e gli altri sistemi operativi rilevati. Ecco perché è consigliato installarlo nel Master Boot Record. È sempre consigliato mantenere un paio di vecchie versioni installate del kernel, dato che conservarle può evitare di trovarsi nell'impossibilità di avviare la macchina a causa di problemi legati all'ultima versione del kernel o nel caso di hardware poco supportato.</para>

      <para>GRUB è il bootloader predefinito installato da Debian, grazie alla sua superiorità tecnica: funziona con la maggior parte dei file system e non richiede un aggiornamento dopo l'installazione di un nuovo kernel, dal momento che legge la sua configurazione durante l'avvio e trova l'esatta posizione del nuovo kernel. La versione 1 di GRUB (adesso nota come «Grub Legacy») non è in grado di gestire tutte le combinazioni di LVM e RAID software, la versione 2 invece, che è installata in maniera predefinita è più completa. Ci possono essere situazioni, però, in cui è più consigliabile installare LILO (un altro bootloader), in questi casi il programma d'installazione lo suggerisce automaticamente.</para>

      <para>Per avere più informazioni sulla configurazione di GRUB, si faccia riferimento alla <xref linkend="sect.config-grub" />.</para>

      <sidebar>
        <title><emphasis>ATTENZIONE</emphasis> Architetture e bootloader</title>

	<para>LILO e GRUB, che sono stati trattati in questo capitolo, sono bootloader per le architetture <emphasis>i386</emphasis> e <emphasis>amd64</emphasis>. Se si installa Debian su un'altra architettura, è necessario usare un altro bootloader. Eccone alcuni: <command>yaboot</command> o <command>quik</command> per <emphasis>powerpc</emphasis>, <command>silo</command> per <emphasis>sparc</emphasis>, <command>aboot</command> per <emphasis>alpha</emphasis>, <command>arcboot</command> per <emphasis>mips</emphasis>.</para>
      </sidebar>
    </section>
    <section>
      <title>Terminare l'installazione e riavviare</title>

      <para>L'installazione è terminata, il programma suggerisce di rimuovere il CD-ROM dal lettore e riavviare il computer.</para>
    </section>
  </section>
  <section id="sect.after-first-boot">
    <title>Dopo il primo avvio</title>

    <para>Se è stata selezionata la voce "Ambiente desktop grafico" senza aver alcun desktop (o avendo scelto "GNOME"), verrà visualizzato il gestore di login <command>gdm3</command>.</para>

    <figure>
      <title>Il primo avvio</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/inst-gdm.png" scalefit="1" width="65%" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>A questo punto, l'utente creato in fase d'installazione può accedere al sistema e iniziare a lavorare.</para>
    <section>
      <title>Installazione di software aggiuntivo</title>

      <para>I pacchetti installati corrispondono ai profili selezionati durante l'installazione ma non necessariamente all'uso che veramente verrà fatto della macchina. Per questo motivo potrebbe essere una buona idea utilizzare un programma di gestione dei pacchetti per regolare la lista dei pacchetti installati. I due strumenti più utilizzati (che sono installati se è stato attivato il profilo "Ambiente desktop Debian") sono <command>apt</command> (accessibile da riga di comando) e <command>synaptic</command> (“Gestore pacchetti Synaptic“ nel menu).</para>

      <para>Per facilitare l'installazione di gruppi di programmi coerenti, Debian crea dei «task» per utilizzi specifici (server di posta, file server, ecc.). Durante l'installazione si ha già avuto la possibilità di selezionarli, è possibile selezionarli nuovamente grazie ai programmi di gestione dei pacchetti come <command>aptitude</command> (i task sono elencati in una sezione apposita) e <command>synaptic</command> (attraverso il menu <menuchoice> <guimenu>Modifica</guimenu> <guimenuitem>Seleziona per attività…</guimenuitem> </menuchoice>).</para>

      <para>Aptitude è un'interfaccia di APT in modalità testo a schermo intero. Permette all'utente di navigare nell'elenco dei pacchetti disponibili secondo diverse categorie (pacchetti installati o non installati, per attività, per sezione, ecc.), di visualizzare tutte le informazioni disponibili su ciascuno di essi (dipendenze, conflitti, descrizione, ecc.). Ogni pacchetto può essere contrassegnato come «install» (da installare, tasto <keycap>+</keycap>) o «remove» (da rimuovere, tasto <keycap>-</keycap>). Tutte queste operazioni saranno condotte simultaneamente, una volta che sono state confermate premendo il tasto <keycap>g</keycap> ("g" sta per "go!"). Se sono stati dimenticati alcuni programmi, non ci si deve preoccupare; sarà possibile eseguire nuovamente <command>aptitude</command> una volta l'installazione è stata completata.</para>
      <indexterm><primary>aptitude</primary></indexterm>

      <sidebar>
        <title><emphasis>SUGGERIMENTO</emphasis> Debian pensa a chi parla lingue diverse dall'inglese</title>

	<para>Diverse attività sono dedicate alla localizzazione del sistema in altre lingue oltre l'inglese. Queste comprendono la documentazione tradotta, i dizionari e diversi altri pacchetti utili per chi parla lingue differenti. Se durante l'installazione si è scelta una lingua diversa dall'inglese, viene selezionato automaticamente il «task» appropriato.</para>
      </sidebar>

      <sidebar>
        <title><emphasis>CULTURA</emphasis> <command>dselect</command>, la vecchia interfaccia per installare i pacchetti</title>

	<para>Prima di <command>aptitude</command>, il programma predefinito per la selezione dei pacchetti da installare era <command>dselect</command>, la vecchia interfaccia grafica associata a <command>dpkg</command>. Essendo un programma difficile da utilizzare per i principianti, è sconsigliato.</para>
        <indexterm><primary><command>dselect</command></primary></indexterm>
      </sidebar>

      <para>Of course, it is possible not to select any task to be
      installed. In this case, you can manually install the desired
      software with the <command>apt</command> or
      <command>aptitude</command> command (which are both accessible from
      the command line).</para>

      <sidebar>
        <title><emphasis>VOCABOLARIO</emphasis> Dipendenze e conflitti dei pacchetti</title>

	<para>Nel gergo dei pacchetti Debian, una "dipendenza" è un altro pacchetto necessario per il corretto funzionamento del pacchetto in questione. Al contrario, un "conflitto" è un pacchetto che non può essere installato in concomitanza con un altro.</para>

	<para>Questi concetti sono trattati in dettaglio nel <xref linkend="packaging-system" />.</para>
      </sidebar>
    </section>
    <section>
      <title>Aggiornamento del sistema</title>
      <indexterm><primary>safe-upgrade</primary></indexterm>

      <para>A first <command>apt upgrade</command> (a command
      used to automatically update installed programs) is generally
      required, especially for possible security updates issued since the
      release of the latest Debian stable version. These updates may
      involve some additional questions through <command>debconf</command>,
      the standard Debian configuration tool. For further information on
      these updates conducted by <command>apt</command>, please refer
      to <xref linkend="sect.apt-upgrade" />.</para>
    </section>
  </section>
</chapter>
