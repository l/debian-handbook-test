<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
]>
<chapter id="existing-setup">
  <chapterinfo>
    <mediaobject condition="pdf">
      <imageobject>
        <imagedata fileref="images/chap-existing-setup.png" scalefit="1" />
      </imageobject>
    </mediaobject>
    <keywordset>
      <keyword>Setingan yang Ada</keyword>
      <keyword>Penggunaan Kembali</keyword>
      <keyword>Migrasi</keyword>
    </keywordset>
  </chapterinfo>
  <title>Menganalisa Setingan yang Ada dan Memigrasikannya</title>
  <highlights>
    <para>Beberapa kerusakan sistem komputer harus memerhatikan sistem yang ada. Hal ini mengizinkan penggunaan kembali sumberdaya yang tersesia sebanyak mungkin dan menjamin interoperabilitas dari berbagai elemen perbandingan sistem. Studi ini akan mengenalkan kerangka umum yang diikuti dalam migrasi infrastruktur komputer ke Linux.</para>
  </highlights>
  <section id="sect.heterogeneous-environments">
    <title>Berdampingan dalam Lingkungan yang Heterogen</title>
    <indexterm><primary>lingkungan</primary><secondary>lingkungan yang heterogen</secondary></indexterm>

    <para>Debian integrates very well in all types of existing environments
    and plays well with any other operating system. This near-perfect
    harmony comes from market pressure which demands that software
    publishers develop programs that follow standards. Compliance with
    standards allows administrators to switch out programs: clients or
    servers, whether free or not.</para>
    <section>
      <title>Integrasi dengan Mesin Windows</title>

      <para>Dukngan SMB/CIFS Samba memastikan komunikasi sempurna dengan konteks Windows. Berbagi berkas dan antrian cetak pada klien Windows dan termasuk perangkat lunak yang mengizinkan mesin Linux untuk menggunakan sumberdaya yang ada pada server Windows.</para>

      <sidebar>
        <title><emphasis>ALAT</emphasis> Samba</title>
        <indexterm><primary>Samba</primary></indexterm>

        <para>The latest version of Samba can replace most of
        the Windows features: from those of a simple Windows NT server
	(authentication, files, print queues, downloading printer
        drivers, DFS, etc.) to the most advanced one (a domain controller
        compatible with Active Directory).
	</para>
      </sidebar>
    </section>
    <section>
      <title>Integration with OS X machines</title>

      <indexterm><primary>Zeroconf</primary></indexterm>
      <indexterm><primary>Bonjour</primary></indexterm>
      <indexterm><primary>Avahi</primary></indexterm>
      <para>OS X machines provide, and are able to use, network
      services such as file servers and printer sharing.  These
      services are published on the local network, which allows other
      machines to discover them and make use of them without any
      manual configuration, using the Bonjour implementation of the
      Zeroconf protocol suite.  Debian includes another
      implementation, called Avahi, which provides the same
      functionality.
      </para>

      <indexterm><primary>AFP</primary></indexterm>
      <indexterm><primary>AppleShare</primary></indexterm>
      <para>In the other direction, the Netatalk daemon can be used to
      provide file servers to OS X machines on the network.  It
      implements the AFP (AppleShare) protocol as well as the required
      notifications so that the servers can be autodiscovered by the
      OS X clients.</para>

      <indexterm><primary>AppleTalk</primary></indexterm>
      <para>Older Mac OS networks (before OS X) used a different protocol
      called AppleTalk.  For environments involving machines using
      this protocol, Netatalk also provides the AppleTalk protocol
      (in fact, it started as a reimplementation of that protocol). It
      ensures the operation of the file server and print queues, as
      well as time server (clock synchronization). Its router function
      allows interconnection with AppleTalk networks.</para>
    </section>
    <section>
      <title>Integrasi denggan Mesin Linux/Unix lainnya</title>

      <para>Akhirnya, NFS dan NIS, keduanya termasuk, jaminan interaksi dengan sistem Unix. NFS memastikan fungsionalitas file server, sedangkan NIS membuat direktori pengguna. Lapisan cetak BSD, digunakan oleh kebanyak sistem Unix, juga mengizinkan berbagi antrian cetak.</para>

      <figure>
        <title>Coexistence of Debian with OS X, Windows and Unix systems</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/existing-setup-1.png" width="25%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
  </section>
  <section id="sect.how-to-migrate">
    <title>Bagaimana Bermigrasi</title>
    <indexterm><primary>migrasi</primary></indexterm>

    <para>In order to guarantee continuity of the services, each
    computer migration must be planned and executed according to the
    plan.  This principle applies whatever the operating system
    used.</para>
    <section>
      <title>Survey dan Mengidentifikasi Layanan</title>

      <para>Sesederhana seperti terlihat, langkah ini penting. Seorang administrator benar-benar tahu aturan prinsip masing-masing server, namun aturan dapat berubah, dan kadang pengguna berpengalaman mungkin telah memasang layanan yang “liar”. Mengetahui hal tersebut setidaknya akan mengizinkan Anda untuk memutuskan apa yang akan dilakukan dengannya, daripada menghapusnya semena-mena.</para>

      <para>For this purpose, it is wise to inform your users of the
      project before migrating the server. To involve them in the
      project, it may be useful to install the most common free
      software programs on their desktops prior to migration, which
      they will come across again after the migration to Debian; Libre
      Office and the Mozilla suite are the best examples here.</para>
      <section>
        <title>Jaringan dan Proses</title>
        <indexterm><primary><command>nmap</command></primary></indexterm>
       
	<para>The <command>nmap</command> tool (in the package with the same
	name) will quickly identify Internet services hosted by a network
	connected machine without even requiring to log in to it. Simply
	call the following command on another machine connected to the same
	network:</para>

        <screen>
<computeroutput>$ </computeroutput><userinput>nmap mirwiz</userinput>
<computeroutput>Starting Nmap 6.00 ( http://nmap.org ) at 2012-12-17 11:34 CET
Nmap scan report for mirwiz (192.168.1.104)
Host is up (0.0037s latency).
Not shown: 999 closed ports
PORT   STATE SERVICE
22/tcp open  ssh

Nmap done: 1 IP address (1 host up) scanned in 0.13 seconds</computeroutput></screen>

        <sidebar>
          <title><emphasis>ALTERNATIF</emphasis> Gunakan <command>netstat</command> untuk mencari daftar service yang tersedia</title>

	  <para>Pada mesin Linux, perintah <command>netstat -tupan</command> akan menampilkan daftar sesi TCP aktif maupun pending, juga port UDP program berjalan yang mendengarkan. Fasilitas ini mengidentifikasi layanan yang ditawarkan oleh jaringan.</para>
        </sidebar>

        <sidebar>
          <title><emphasis>LEBIH JAUH</emphasis> IPv6</title>

	  <para>Some network commands may work either with IPv4 (the
	  default usually) or with IPv6.  These include the
	  <command>nmap</command> and <command>netstat</command>
	  commands, but also others, such as <command>route</command>
	  or <command>ip</command>. The convention is that this
	  behavior is enabled by the <parameter>-6</parameter>
	  command-line option.</para>
        </sidebar>

	<para>If the server is a Unix machine offering shell accounts to
	users, it is interesting to determine if processes are executed in
	the background in the absence of their owner. The command
	<command>ps auxw</command> displays a list of all processes with
	their user identity. By checking this information against the
	output of the <command>who</command> command, which gives a list of
	logged in users, it is possible to identify rogue or undeclared servers or
	programs running in the background. Looking at
	<filename>crontabs</filename> (tables listing automatic actions
	scheduled by users) will often provide interesting information on
	functions fulfilled by the server (a complete explanation of
	<command>cron</command> is available in <xref linkend="sect.task-scheduling-cron-atd" />).</para>

	<para>Pada beberapa kasus, penting untuk memback-up server Anda: memungkinkan pemulihan informasi setelah sesuatu dilakukan, ketika pengguna melaporkan masalah khusus disebabkan oleh migrasi.</para>
      </section>
    </section>
    <section>
      <title>Mem-back up Konfigurasi</title>

      <para>It is wise to retain the configuration of every identified
      service in order to be able to install the equivalent on the
      updated server. The bare minimum is to make a backup copy of the
      configuration files.</para>

      <para>For Unix machines, the configuration files are usually
      found in <filename>/etc/</filename>, but they may be located in
      a sub-directory of <filename>/usr/local/</filename>. This is the
      case if a program has been installed from sources, rather than
      with a package. In some cases, one may also find them under
      <filename>/opt/</filename>.</para>

      <para>Untuk mengelola layanan data (seperti basisdata), sangat direkomendasikan untuk mengekspor data ke format standar yang nantinya akan mudah diimpor oleh perangkat lunak baru. Seperti format yang biasanya berupa mode teks dan terdokumentasi; mungkin, sebagai contoh, SQL dump untuk basisdata, atau berkas LDIF untuk server LDAP.</para>

      <figure>
        <title>Backup basisdata</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/existing-setup-2.png" width="50%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Setiap perangkat lunak server itu berbeda, dan tidak mungkin menjelaskan semua kasus secara detail. Bandingkan dokumentasi perangkat lunak yang ada dan yang baru apakah ada bagian yang dapat dieksport (dapat diimpor) dan yang memerlukan penanganan manual. Membaca buku ini akan menglarifikasi konfigurasi program server Linux utama.</para>
    </section>
    <section>
      <title>Mengambil Alih sebuah Server Debian yang Ada</title>
      <indexterm><primary>memulihkan mesin Debian</primary></indexterm>
      <indexterm><primary>mengeksplorasi mesin Debian</primary></indexterm>
      <indexterm><primary>mengambil alih server Debian</primary></indexterm>

      <para>Agar pengambilalihan pemeliharaan efektif, pertama analisa mesin yang sedang berjalan dengan Debian.</para>

      <para>Berkas pertama yang dicek ialah <filename>/etc/debian_version</filename>, yang biasanya berisi nomor versi sistem Debian yang terinstall (bagian dari paket <emphasis>base-file</emphasis>). Jika menunjukkan <literal><replaceable>codename</replaceable>/sid</literal>, itu berarti sistem telah diperbarui dengan paket dari distribusi pengembangan (entah itu testing atau unstable).</para>

      <para>Program <command>apt-show-versions</command> (dari paket Debian dengan nama sama) periksa daftar paket terinstall dan identifikasi versi yang tersedia. <command>aptitude</command> juga dapat digunakan untuk tugas ini, albeit dengan cara yang kurang semantik.</para>

      <para>Sekilas pada berkas <filename>/etc/apt/sources.list</filename> (dan direktori <filename>/etc/apt/sources.list.d/</filename>) akan menampilkan dari mana paket Debian terinstall. Jika ada beberapa nampak dari sumber tak diketahui, administrator mungkin memilih untuk menginstall ulang sepenuhnya sistem komputer untuk mengoptimalkan kompabilitas dengan perangkat lunak yang disediakan oleh Debian.</para>

      <para>Berkas <filename>sources.list</filename> merupakan indokator yang baik: mayoritas administrator memertahankannya, setidaknya di komentar, daftar sumber APT yang digunakan sebelumnya. Namun Anda harus ingat bahwa mungkin sumber yang digunakan sebelumnya telah dihapus, dan beberapa paket yang diambil secara acak dari Internet mungkin telah diinstall secara manual (dengan perintah <command>dpkg</command>). Dalam hal ini, mesin mislead dalam tampilannya sebagai Debian “standard”. Ini alasan mengapa Anda harus memerhatikan beberapa indikasi yang akan memberikan presence pada paket eksternal (berkas <filename>deb</filename> nampak di direktori yang tak biasa, nomor versi paket dengan akhiran khusus mengindikasikan paket tersebut berasal dari luar proyek Debian, seperti <literal>ubuntu</literal> atau <literal>lmde</literal>, dll)</para>

      <para>Demikian pula, menarik untuk menganalisa isi dari direktori <filename>/usr/local/</filename>, yang tujuannya memang berisi program yang dicompile dan diinstall secara manual. Mendaftar perangkat lunak terinstall dengan cara ini adalah instruktif, karena ini menimbulkan pertanyaan pada alasan mengapa tidak menggunakan paket Debian yang sesuai, jika paket tersebut ada.</para>

      <sidebar>
        <title><emphasis>LIHAT SEKILAS</emphasis> <emphasis role="pkg">cruft</emphasis></title>

	<para>Paket <emphasis role="pkg">cruft</emphasis> mendaftar semua berkas yang tidak dimiliki oleh paket manapun. Memiliki beberapa filter (lebih atau kurang efektif, dan lebih atau kurang up-to-date) menghindari beberapa laporan legitimasi berkas (berkas yang digenerate ooleh paket Debian, atau berkas konfigurasi yang digenerate tidak diatur oleh <command>dpkg</command>, dll.).</para>

	<para>Berhati-hatilan untuk tidak menghapus sembarangan apapun yang mungkin didaftar oleh <command>cruft</command>!</para>
      </sidebar>
    </section>
    <section>
      <title>Menginstall Debian</title>

      <para>Setelah seluruh informasi yang diperlukan pada server tersebut diketahui, kita dapat mematikannya dan mulai menginstall Debian.</para>
      <indexterm><primary>arsitektur</primary></indexterm>

      <para>Untuk memilih versi yang sesuai, kita harut tahu arsitektur komputernya. Jika merupakan PC terkini, sepertinya amd64 (PC lawas biasanya i386). Dalam kasus lain, kita dapat memersempit kemungkinan menurut sistem yang sebelumnya digunakan.</para>

      <para><xref linkend="tab-corresp" xrefstyle="select: label nopage" /> tidak dimaksudkan lengkap, tapi mungkin membantu. Dalam beberapa kasus, dokumentasi asli komputer merupakan sumber yang reliable untuk menemukan informasi ini.</para>

      <table colsep="1" id="tab-corresp">
        <title>Sistem operasi dan arsitektur yang sesuai</title>
        <tgroup cols="2">
          <thead>
            <row>
              <entry>Sistem Operasi</entry>
              <entry>Arsitektur</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>DEC Unix (OSF/1)</entry>
              <entry>alpha, mipsel</entry>
            </row>
            <row>
              <entry>HP Unix</entry>
              <entry>ia64, hppa</entry>
            </row>
            <row>
              <entry>IBM AIX</entry>
              <entry>powerpc</entry>
            </row>
            <row>
              <entry>Irix</entry>
              <entry>mips</entry>
            </row>
            <row>
              <entry>OS X</entry>
              <entry>amd64, powerpc, i386</entry>
            </row>
            <row>
              <entry>z/OS, MVS</entry>
              <entry>s390x, s390</entry>
            </row>
            <row>
              <entry>Solaris, SunOS</entry>
              <entry>sparc, i386, m68k</entry>
            </row>
            <row>
              <entry>Ultrix</entry>
              <entry>mips</entry>
            </row>
            <row>
              <entry>VMS</entry>
              <entry>alpha</entry>
            </row>
            <row>
              <entry>Windows 95/98/ME</entry>
              <entry>i386</entry>
            </row>
            <row>
              <entry>Windows NT/2000</entry>
              <entry>i386, alpha, ia64, mipsel</entry>
            </row>
            <row>
              <entry>Windows XP / Windows Server 2008</entry>
              <entry>i386, amd64, ia64</entry>
            </row>
            <row>
              <entry>Windows Vista / Windows 7 / Windows 8</entry>
              <entry>i386, amd64</entry>
            </row>
          </tbody>
        </tgroup>
      </table>

      <sidebar>
        <title><emphasis>PERANGKAT KERAS</emphasis> 64 bit PC vs 32 bit PC</title>
        <indexterm><primary>amd64</primary></indexterm>
        <indexterm><primary>i386</primary></indexterm>

	<para>Kebanyakan komputer terkini memiliki 64 bit Intel atau prosesor AMD, cocok dengan prosesor 32 bit yang lebih lama; perangkat lunak yang dicompile untuk arsitektur “i386” yang bekerja. Selain itu, kecocokan ini tidak secara penuh mengeksplor kemampuan prosesor baru ini. Ini alasan mengapa Debian menyediakan arsitektur “amd64”, yang bekerja untuk chip AMD terkini sebagaimana prosesor Intel “em64t” (termasuk kebanyakan series Core), yang sangat sesuai dengan AMD64</para>
      </sidebar>
    </section>
    <section>
      <title>Menginstall dan Mengonfigurasi Layanan Terpilih</title>

      <para>Once Debian is installed, we must install and configure one by
      one all of the services that this computer must host. The new
      configuration must take into consideration the prior one in order to
      ensure a smooth transition. All the information collected in the
      first two steps will be useful to successfully complete this part.</para>

      <figure>
        <title>Install layanan terpilih</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/existing-setup-4.png" width="66%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Prior to jumping into this exercise with both feet, it is
      strongly recommended that you read the remainder of this book. After
      that you will have a more precise understanding of how to configure
      the expected services.</para>

      <para></para>
    </section>
  </section>
</chapter>
