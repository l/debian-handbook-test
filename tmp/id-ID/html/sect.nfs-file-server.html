<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">11.4. Server Berkas NFS</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-id-ID-1.0-1" /><meta
        name="keywords"
        content="Postfix, Apache, NFS, Samba, Squid, OpenLDAP, SIP" /><link
        rel="home"
        href="index.html"
        title="Buku Panduan Administrator Debian" /><link
        rel="up"
        href="network-services.html"
        title="Bab 11. Layanan Jaringan: Postfix, Apache, NFS, Samba, Squid, LDAP, SIP, XMPP, TURN" /><link
        rel="prev"
        href="sect.ftp-file-server.html"
        title="11.3. Server Berkas FTP" /><link
        rel="next"
        href="sect.windows-file-server-with-samba.html"
        title="11.5. Menyiapkan Share Windows dengan Samba" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/id-ID/stable/sect.nfs-file-server.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.ftp-file-server.html"><strong>Sebelumnya</strong></a></li><li
          class="home">Buku Panduan Administrator Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.windows-file-server-with-samba.html"><strong>Lanjut</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.nfs-file-server"></a>11.4. Server Berkas NFS</h2></div></div></div><div
          class="para">
			NFS (<span
            class="emphasis"><em>Network File System</em></span>) merupakan sebuah protokol yang memungkinkan akses remote ke sistem berkas melalui jaringan. Semua sistem Unix dapat bekerja dengan protokol ini; ketika sistem Windows yang terlibat, Samba harus digunakan sebagai gantinya.
		</div><a
          id="id-1.14.7.3"
          class="indexterm"></a><a
          id="id-1.14.7.4"
          class="indexterm"></a><a
          id="id-1.14.7.5"
          class="indexterm"></a><a
          id="id-1.14.7.6"
          class="indexterm"></a><a
          id="id-1.14.7.7"
          class="indexterm"></a><div
          class="para">
			NFS adalah alat yang sangat berguna, tetapi secara historis menderita karena banyak keterbatasan, yang sebagian besar telah diperbaiki pada protokol versi 4. Kekurangannya adalah bahwa versi terbaru dari NFS lebih sulit untuk dikonfigurasi bila Anda ingin menggunakan fitur keamanan dasar seperti otentikasi dan enkripsi karena hal itu bergantung pada Kerberos. Dan tanpa mereka, protokol NFS harus dibatasi pada jaringan lokal yang terpercaya karena data pergi melalui jaringan tidak terenkripsi (<span
            class="emphasis"><em>sniffer</em></span> bisa mencegat itu) dan hak akses diberikan didasarkan pada alamat IP klien (yang dapat dipalsukan).
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>DOKUMENTASI</em></span> NFS HOWTO</strong></p></div></div></div><div
            class="para">
			Dokumentasi yang baik untuk menggelar NFSv4 jarang ditemui. Berikut adalah beberapa petunjuk dengan konten dari berbagai kualitas yang setidaknya memberikan beberapa petunjuk tentang apa yang harus dilakukan. <div
              xmlns=""
              class="url">→ <a
                xmlns="http://www.w3.org/1999/xhtml"
                href="https://help.ubuntu.com/community/NFSv4Howto">https://help.ubuntu.com/community/NFSv4Howto</a></div> <div
              xmlns=""
              class="url">→ <a
                xmlns="http://www.w3.org/1999/xhtml"
                href="http://wiki.linux-nfs.org/wiki/index.php/Nfsv4_configuration">http://wiki.linux-nfs.org/wiki/index.php/Nfsv4_configuration</a></div>
		</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.14.7.10"></a>11.4.1. Mengamankan NFS</h3></div></div></div><a
            id="id-1.14.7.10.2"
            class="indexterm"></a><div
            class="para">
				Jika Anda tidak menggunakan fitur keamanan berbasis Kerberos, sangat penting untuk memastikan bahwa hanya mesin-mesin yang diizinkan untuk menggunakan NFS dapat terhubung ke berbagai server RPC yang diperlukan, karena protokol dasar mempercayai data yang diterima dari jaringan. Firewall juga harus memblokir <span
              class="emphasis"><em>IP spoofing</em></span> untuk mencegah mesin di luar dari bertindak sebagai seolah di dalam, dan akses ke port yang sesuai harus dibatasi hanya untuk mesin-mesin yang memang akan mengakses share NFS.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>KEMBALI KE DASAR</em></span> RPC</strong></p></div></div></div><div
              class="para">
				RPC (<span
                class="emphasis"><em>Remote Procedure Call</em></span>) adalah standar Unix untuk layanan remote. NFS adalah salah satu layanan tersebut.
			</div><a
              id="id-1.14.7.10.4.3"
              class="indexterm"></a><a
              id="id-1.14.7.10.4.4"
              class="indexterm"></a><div
              class="para">
				Layanan RPC mendaftar ke direktori yang dikenal sebagai <span
                class="emphasis"><em>portmapper</em></span>. Suatu klien yang ingin melakukan query NFS pertama menghubungi <span
                class="emphasis"><em>portmapper</em></span> (pada port 111, TCP atau UDP), dan meminta server NFS; jawabannya biasanya menyebutkan port 2049 (default untuk NFS). Tidak semua layanan RPC harus menggunakan port tetap.
			</div></div><div
            class="para">
				Versi protokol lebih tua memerlukan layanan RPC lainnya yang menggunakan port dinamis. Untungnya, dengan NFS versi 4 hanya port 2049 (untuk NFS) dan 111 (untuk portmapper) yang diperlukan dan sehingga mereka mudah untuk firewall.
			</div><a
            id="id-1.14.7.10.6"
            class="indexterm"></a></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.14.7.11"></a>11.4.2. Server NFS</h3></div></div></div><div
            class="para">
				Server NFS adalah bagian dari kernel Linux; di kernel yang disediakan oleh Debian itu dibangun sebagai modul kernel. Jika server NFS akan dijalankan secara otomatis pada saat boot, paket <span
              class="pkg pkg">nfs-kernel-server</span> harus diinstal; ini berisi skrip startup yang relevan.
			</div><div
            class="para">
				Berkas konfigurasi server NFS, <code
              class="filename">/etc/exsports</code>, menampung daftar direktori yang dibuat tersedia melalui jaringan (<span
              class="emphasis"><em>diekspor</em></span>). Untuk setiap share NFS, hanya mesin yang terdaftar yang diberi akses. Lebih banyak kontrol akses halus dapat diperoleh dengan beberapa pilihan. Sintaks berkas ini cukup sederhana:
			</div><a
            id="id-1.14.7.11.4"
            class="indexterm"></a><a
            id="id-1.14.7.11.5"
            class="indexterm"></a><pre
            class="programlisting">
/direktori/yang/akan/di-share mesin1(opsi1,opsi2,...) mesin2(...) ...</pre><div
            class="para">
				Catatan bahwa dengan NFSv4, semua direktori yang diekspor harus menjadi bagian dari hirarki tunggal dan bahwa direktori root dari hirarki itu harus diekspor dan diidentifikasi dengan pilihan <code
              class="literal">fsid=0</code> atau <code
              class="literal">fsid=root</code>.
			</div><div
            class="para">
				Setiap mesin dapat diidentifikasi dengan nama DNS atau alamat IP-nya. Seluruh set mesin juga dapat ditentukan dengan menggunakan sintaks seperti <code
              class="literal">*. falcot.com</code> atau kisaran alamat IP seperti <code
              class="literal">192.168.0.0/255.255.255.0</code> atau <code
              class="literal">192.168.0.0/24</code>.
			</div><div
            class="para">
				Direktori disediakan sebagai baca-saja secara default (atau dengan opsi <code
              class="literal">ro</code>). Opsi <code
              class="literal">rw</code> memungkinkan akses baca-tulis. Klien NFS biasanya terhubung dari port yang terbatas hanya untuk root (dengan kata lain, di bawah 1024); pembatasan ini dapat dicabut dengan pilihan <code
              class="literal">insecure</code> (opsi <code
              class="literal">secure</code> adalah implisit, tetapi dapat dibuat eksplisit jika diperlukan untuk kejelasan).
			</div><a
            id="id-1.14.7.11.10"
            class="indexterm"></a><div
            class="para">
				Secara default, server hanya menjawab query NFS ketika operasi disk saat ini telah selesai (opsi <code
              class="literal">sync</code>); ini dapat dinonaktifkan dengan opsi <code
              class="literal">async</code>. Menulis asinkron meningkatkan kinerja sedikit, tetapi mereka mengurangi keandalan karena ada risiko kehilangan data ketika server crash antara konfirmasi atas penulisan dan menulis sebenarnya pada disk. Karena nilai default berubah baru-baru ini (dibandingkan dengan nilai historis NFS), setelan eksplisit dianjurkan.
			</div><div
            class="para">
				Untuk tidak memberikan akses root ke sistem berkas bagi klien NFS, semua pertanyaan yang muncul datang dari pengguna root dianggap oleh server sebagai datang dari pengguna <code
              class="literal">nobody</code>. Perilaku ini sesuai dengan opsi <code
              class="literal">root_squash</code>, dan diaktifkan secara default. Opsi <code
              class="literal">no_root_squash</code>, yang menonaktifkan perilaku ini, berisiko dan hanya boleh digunakan dalam lingkungan yang terkendali. Opsi <code
              class="literal">anonuid=<em
                class="replaceable">uid</em></code> dan <code
              class="literal">anongid=<em
                class="replaceable">gid</em></code> memungkinkan menentukan pengguna palsu lain untuk digunakan sebagai pengganti UID/GID 65534 (milik pengguna <code
              class="literal">nobody</code> dan grup <code
              class="literal">nogroup</code>).
			</div><div
            class="para">
				Dengan NFSv4, Anda dapat menambahkan opsi <code
              class="literal">sec</code> untuk menunjukkan tingkat keamanan yang Anda inginkan: <code
              class="literal">sec=sys</code> adalah default tanpa fitur keamanan khusus, <code
              class="literal">sec=krb5</code> hanya memfungsikan otentikasi, <code
              class="literal">sec=krb5i </code> menambahkan perlindungan integritas, dan <code
              class="literal">sec=krb5p</code> tingkat yang paling lengkap yang mencakup perlindungan privasi (dengan data enkripsi). Agar ini bekerja Anda memerlukan berjalannya Kerberos yang telah disiapkan (layanan itu tidak dibahas dalam buku ini).
			</div><div
            class="para">
				Opsi-opsi lain tersedia; mereka didokumentasikan dalam halaman manual <span
              class="citerefentry"><span
                class="refentrytitle">exports</span>(5)</span>.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>HATI-HATI</em></span> Instalasi pertama</strong></p></div></div></div><div
              class="para">
				Skrip boot <code
                class="filename">/etc/init.d/nfs-kernel-server</code> hanya memulai server jika <code
                class="filename">/etc/exports</code> mencantumkan satu atau lebih share NFS yang valid. Pada konfigurasi awal, setelah berkas ini telah disunting agar berisi entri yang valid, make server NFS karena itu harus dimulai dengan perintah berikut:
			</div><pre
              class="screen">
<code
                class="computeroutput"># </code><strong
                class="userinput"><code>service nfs-kernel-server start</code></strong></pre></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.14.7.12"></a>11.4.3. Klien NFS</h3></div></div></div><a
            id="id-1.14.7.12.2"
            class="indexterm"></a><a
            id="id-1.14.7.12.3"
            class="indexterm"></a><div
            class="para">
				Seperti dengan sistem berkas lain, mengintegrasikan share NFS ke dalam hirarki sistem memerlukan pengaitan. Karena sistem berkas ini memiliki kekhasan, beberapa penyesuaian diperlukan dalam sintaks perintah <code
              class="command">mount</code> dan berkas <code
              class="filename">/etc/fstab</code>.
			</div><div
            class="example"><a
              xmlns=""
              id="id-1.14.7.12.5"></a><p
              class="title"><strong>Contoh 11.22. Secara manual mengait dengan perintah <code
                  class="command">mount</code></strong></p><div
              class="example-contents"><pre
                class="screen">
          <code
                  class="computeroutput"># </code><strong
                  class="userinput"><code>mount -t nfs4 -o rw,nosuid arrakis.internal.falcot.com:/shared /srv/shared</code></strong></pre></div></div><div
            class="example"><a
              xmlns=""
              id="id-1.14.7.12.6"></a><p
              class="title"><strong>Contoh 11.23. Entri NFS di berkas <code
                  class="filename">/etc/fstab</code></strong></p><div
              class="example-contents"><pre
                class="programlisting">
arrakis.internal.falcot.com:/shared /srv/shared nfs4 rw,nosuid 0 0</pre></div></div><div
            class="para">
				Entri menjelaskan pengaitan di atas, saat sistem startup, direktori NFS <code
              class="filename">/shared/</code> dari server <code
              class="literal">arrakis</code> ke dalam direktori <code
              class="filename">/srv/shared/</code> lokal. Akses baca-tulis diminta (maka parameter <code
              class="literal">rw</code>). Opsi <code
              class="literal">nosuid</code> adalah upaya perlindungan yang menghapus setiap bit <code
              class="literal">setuid</code> atau <code
              class="literal">setgid</code> dari program-program yang disimpan di share. Jika share NFS hanya dimaksudkan untuk menyimpan dokumen, opsi lain yang dianjurkan adalah <code
              class="literal">noexec</code>, yang mencegah mengeksekusi program-program yang disimpan di share. Perhatikan bahwa pada server, direktori <code
              class="filename">shared</code> ada di bawah NFSv4 ekspor root (misalnya <code
              class="filename">/export/shared</code>), itu bukan direktori aras puncak.
			</div><div
            class="para">
				Halaman manual <span
              class="citerefentry"><span
                class="refentrytitle">nfs</span>(5)</span> menjelaskan semua opsi secara agak mendetail.
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.ftp-file-server.html"><strong>Sebelumnya</strong>11.3. Server Berkas FTP</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Induk</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Depan</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.windows-file-server-with-samba.html"><strong>Lanjut</strong>11.5. Menyiapkan Share Windows dengan Samba</a></li></ul></body></html>
