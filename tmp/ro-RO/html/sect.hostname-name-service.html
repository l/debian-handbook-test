<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">8.3. Setting the Hostname and Configuring the Name Service</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-ro-RO-1.0-1" /><meta
        name="keywords"
        content="Configuration, Localization, Locales, Network, Name resolution, Users, Groups, Accounts, Command-line interpreter, Shell, Printing, Bootloader, Kernel compiling" /><link
        rel="home"
        href="index.html"
        title="The Debian Administrator's Handbook" /><link
        rel="up"
        href="basic-configuration.html"
        title="Cap. 8. Basic Configuration: Network, Accounts, Printing..." /><link
        rel="prev"
        href="sect.network-config.html"
        title="8.2. Configuring the Network" /><link
        rel="next"
        href="sect.user-group-databases.html"
        title="8.4. User and Group Databases" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/ro-RO/stable/sect.hostname-name-service.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.network-config.html"><strong>Înapoi</strong></a></li><li
          class="home">The Debian Administrator's Handbook</li><li
          class="next"><a
            accesskey="n"
            href="sect.user-group-databases.html"><strong>Înainte</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.hostname-name-service"></a>8.3. Setting the Hostname and Configuring the Name Service</h2></div></div></div><a
          id="id-1.11.7.2"
          class="indexterm"></a><a
          id="id-1.11.7.3"
          class="indexterm"></a><div
          class="para">
			The purpose of assigning names to IP numbers is to make them easier for people to remember. In reality, an IP address identifies a network interface associated with a device such as a network card. Since each machine can have several network cards, and several interfaces on each card, one single computer can have several names in the domain name system.
		</div><div
          class="para">
			Each machine is, however, identified by a main (or “canonical”) name, stored in the <code
            class="filename">/etc/hostname</code> file and communicated to the Linux kernel by initialization scripts through the <code
            class="command">hostname</code> command. The current value is available in a virtual filesystem, and you can get it with the <code
            class="command">cat /proc/sys/kernel/hostname</code> command.
		</div><a
          id="id-1.11.7.6"
          class="indexterm"></a><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>BACK TO BASICS</em></span> <code
                      class="filename">/proc/</code> and <code
                      class="filename">/sys/</code>, virtual filesystems</strong></p></div></div></div><a
            id="id-1.11.7.7.2"
            class="indexterm"></a><a
            id="id-1.11.7.7.3"
            class="indexterm"></a><a
            id="id-1.11.7.7.4"
            class="indexterm"></a><a
            id="id-1.11.7.7.5"
            class="indexterm"></a><div
            class="para">
			The <code
              class="filename">/proc/</code> and <code
              class="filename">/sys/</code> file trees are generated by “virtual” filesystems. This is a practical means of recovering information from the kernel (by listing virtual files) and communicating them to it (by writing to virtual files).
		</div><div
            class="para">
			<code
              class="filename">/sys/</code> in particular is designed to provide access to internal kernel objects, especially those representing the various devices in the system. The kernel can, thus, share various pieces of information: the status of each device (for example, if it is in energy saving mode), whether it is a removable device, etc. Note that <code
              class="filename">/sys/</code> has only existed since kernel version 2.6.
		</div></div><div
          class="para">
			Surprisingly, the domain name is not managed in the same way, but comes from the complete name of the machine, acquired through name resolution. You can change it in the <code
            class="filename">/etc/hosts</code> file; simply write a complete name for the machine there at the beginning of the list of names associated with the address of the machine, as in the following example:
		</div><div
          class="informalexample"><pre
            class="programlisting">
127.0.0.1     localhost
192.168.0.1   arrakis.falcot.com arrakis
</pre></div><a
          id="id-1.11.7.10"
          class="indexterm"></a><a
          id="id-1.11.7.11"
          class="indexterm"></a><a
          id="id-1.11.7.12"
          class="indexterm"></a><a
          id="id-1.11.7.13"
          class="indexterm"></a><a
          id="id-1.11.7.14"
          class="indexterm"></a><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.name-resolution"></a>8.3.1. Name Resolution</h3></div></div></div><a
            id="id-1.11.7.15.2"
            class="indexterm"></a><a
            id="id-1.11.7.15.3"
            class="indexterm"></a><div
            class="para">
				The mechanism for name resolution in Linux is modular and can use various sources of information declared in the <code
              class="filename">/etc/nsswitch.conf</code> file. The entry that involves host name resolution is <code
              class="literal">hosts</code>. By default, it contains <code
              class="literal">files dns</code>, which means that the system consults the <code
              class="filename">/etc/hosts</code> file first, then DNS servers. NIS/NIS+ or LDAP servers are other possible sources.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>NOTE</em></span> NSS and DNS</strong></p></div></div></div><div
              class="para">
				Be aware that the commands specifically intended to query DNS (especially <code
                class="command">host</code>) do not use the standard name resolution mechanism (NSS). As a consequence, they do not take into consideration <code
                class="filename">/etc/nsswitch.conf</code>, and thus, not <code
                class="filename">/etc/hosts</code> either.
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.dns-server-configuration"></a>8.3.1.1. Configuring DNS Servers</h4></div></div></div><a
              id="id-1.11.7.15.6.2"
              class="indexterm"></a><a
              id="id-1.11.7.15.6.3"
              class="indexterm"></a><div
              class="para">
					DNS (Domain Name Service) is a distributed and hierarchical service mapping names to IP addresses, and vice-versa. Specifically, it can turn a human-friendly name such as <code
                class="literal">www.eyrolles.com</code> into the actual IP address, <code
                class="literal">213.244.11.247</code>.
				</div><div
              class="para">
					To access DNS information, a DNS server must be available to relay requests. Falcot Corp has its own, but an individual user is more likely to use the DNS servers provided by their ISP.
				</div><a
              id="id-1.11.7.15.6.6"
              class="indexterm"></a><a
              id="id-1.11.7.15.6.7"
              class="indexterm"></a><div
              class="para">
					The DNS servers to be used are indicated in the <code
                class="filename">/etc/resolv.conf</code>, one per line, with the <code
                class="literal">nameserver</code> keyword preceding an IP address, as in the following example:
				</div><pre
              class="programlisting">
nameserver 212.27.32.176
nameserver 212.27.32.177
nameserver 8.8.8.8
</pre><div
              class="para">
					Note that the <code
                class="filename">/etc/resolv.conf</code> file may be handled automatically (and overwritten) when the network is managed by NetworkManager or configured via DHCP.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.etc-hosts"></a>8.3.1.2. The <code
                      class="filename">/etc/hosts</code> file</h4></div></div></div><a
              id="id-1.11.7.15.7.2"
              class="indexterm"></a><a
              id="id-1.11.7.15.7.3"
              class="indexterm"></a><div
              class="para">
					If there is no name server on the local network, it is still possible to establish a small table mapping IP addresses and machine hostnames in the <code
                class="filename">/etc/hosts</code> file, usually reserved for local network stations. The syntax of this file is very simple: each line indicates a specific IP address followed by the list of any associated names (the first being “completely qualified”, meaning it includes the domain name).
				</div><div
              class="para">
					This file is available even during network outages or when DNS servers are unreachable, but will only really be useful when duplicated on all the machines on the network. The slightest alteration in correspondence will require the file to be updated everywhere. This is why <code
                class="filename">/etc/hosts</code> generally only contains the most important entries.
				</div><div
              class="para">
					This file will be sufficient for a small network not connected to the Internet, but with 5 machines or more, it is recommended to install a proper DNS server.
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>TIP</em></span> Bypassing DNS</strong></p></div></div></div><div
                class="para">
					Since applications check the <code
                  class="filename">/etc/hosts</code> file before querying DNS, it is possible to include information in there that is different from what the DNS would return, and therefore to bypass normal DNS-based name resolution.
				</div><div
                class="para">
					This allows, in the event of DNS changes not yet propagated, to test access to a website with the intended name even if this name is not properly mapped to the correct IP address yet.
				</div><div
                class="para">
					Another possible use is to redirect traffic intended for a specific host to the localhost, thus preventing any communication with the given host. For example, hostnames of servers dedicated to serving ads could be diverted which would bypass these ads resulting in more fluid, less distracting, navigation.
				</div></div></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.network-config.html"><strong>Înapoi</strong>8.2. Configuring the Network</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Sus</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Acasă</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.user-group-databases.html"><strong>Înainte</strong>8.4. User and Group Databases</a></li></ul></body></html>
