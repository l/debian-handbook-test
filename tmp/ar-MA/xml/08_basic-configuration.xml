<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
]>
<chapter id="basic-configuration" lang="ar-MA">
	<chapterinfo>
		 <keywordset>
			<keyword>ضبط</keyword>
			 <keyword>توطين</keyword>
			 <keyword>الإعدادات الإقليمية</keyword>
			 <keyword>الشبكة</keyword>
			 <keyword>استبيان الأسماء</keyword>
			 <keyword>المستخدمون</keyword>
			 <keyword>المجموعات</keyword>
			 <keyword>الحسابات</keyword>
			 <keyword>مفسر سطر الأوامر</keyword>
			 <keyword>الصَدَفة</keyword>
			 <keyword>الطباعة</keyword>
			 <keyword>محمّل الإقلاع</keyword>
			 <keyword>ترجمة النواة</keyword>

		</keywordset>

	</chapterinfo>
	 <title>الإعدادات الأساسية: الشبكة، الحسابات، الطباعة...</title>
	 <highlights> <para>
		يفترض أن تكون جاهزية الحاسوب بعد عملية تثبيت جديدة باستخدام <command>debian-installer</command> أفضل ما يمكن، لكن لا يزال هناك خدمات عديدة يجب ضبطها. بالإضافة لذلك، من المفيد دوماً معرفة طريقة تغيير بعض عناصر الضبط التي تُحدَّد أثناء عملية التثبيت الأولية.
	</para>
	 </highlights> <para>
		هذا الفصل يراجع كل ما يمكن أن ندعوه ”بالإعدادات الأساسية“: الشبكة، اللغة والإعدادات الإقليمية، المستخدمين والمجموعات، الطباعة، نقاط الربط (mount points)، الخ.
	</para>
	 <section id="sect.config-language-support">
		<title>تعريب النظام</title>
		 <indexterm>
			<primary>تعريب النظام</primary>
		</indexterm>
		 <para>
			إذا اخترت تثبيت النظام باللغة العربية، فالأغلب أن اللغة العريبة قد أصبحت الافتراضية على الجهاز بالفعل. لكن من المفيد معرفة ما يفعله المثبّت لضبط اللغة، حتى تتمكن من تغييرها لاحقاً إذا دعت الحاجة.
		</para>
		 <sidebar> <title><emphasis>أدوات</emphasis> الأمر <command>locale</command> لعرض الإعدادات الحالية</title>
		 <para>
			يعرض الأمر <command>locale</command> ملخصاً عن الإعدادات الحالية للبارامترات المحلية المتنوعة (صيغة التاريخ، صيغة الأرقام، الخ)، بشكل مجموعة من متغيرات البيئة القياسية المخصصة لتعديل هذه البارامترات ديناميكياً.
		</para>
		 </sidebar> <section id="sect.default-language">
			<title>ضبط اللغة الافتراضية</title>
			 <indexterm>
				<primary>الإعدادات الإقليمية</primary>
			</indexterm>
			 <indexterm>
				<primary>اللغة</primary>
			</indexterm>
			 <indexterm>
				<primary><command>locale-gen</command></primary>
			</indexterm>
			 <para>
				تشير كلمة locale إلى مجموعة من الإعدادات الإقليمية. لا تقتصر هذه المجموعة على لغة النص فقط، بل تشمل أيضاً صيغة عرض الأرقام، والتاريخ، والساعة، والمبالغ المالية، بالإضافة إلى قواعد المقارنة الأبجدية (لمعاملة الحروف ذات الحركات – é مثلاً – بشكل صحيح). رغم أنه يمكن تحديد كل من هذه البارامترات بشكل منفصل، إلا أننا نستخدم locale عموماً، وهي مجموعة متناسقة من القيم التي تعطى لهذه البارامترات بحيث توافق ”إقليماً“ ما بشكل عام. تحدد هذه locales عادة بالصيغة <literal><replaceable>language-code</replaceable>_<replaceable>COUNTRY-CODE</replaceable></literal>، وأحياناً تتبعها لاحقة تحدد مجموعة المحارف أو الترميز المستخدم. هذا يسمح بأخذ الاختلافات الاصطلاحية أو الطباعية بين الأقاليم المختلفة التي تتحدث اللغة نفسها بعين الاعتبار.
			</para>
			 <sidebar> <title><emphasis>ثقافة</emphasis> مجموعة المحارف</title>
			 <indexterm>
				<primary>مجموعة المحارف</primary>
			</indexterm>
			 <indexterm>
				<primary>ترميز</primary>
			</indexterm>
			 <indexterm>
				<primary>ISO-8859-1</primary>
			</indexterm>
			 <indexterm>
				<primary>ISO-8859-15</primary>
			</indexterm>
			 <indexterm>
				<primary>Latin 1</primary>
			</indexterm>
			 <indexterm>
				<primary>Latin 9</primary>
			</indexterm>
			 <para>
				تاريخياً، كان لكل locale مجموعة محارف مرتبطة معها (مجموعة المحارف المعرّفة) وترميز مفضّل (التمثيل الداخلي للمحارف في الحاسوب).
			</para>
			 <para>
				كانت أشهر الترميزات للغات اللاتينية تقتصر على 256 محرف لأنها تمثل كل محرف ببايت واحد. بما أن 256 محرف لم تكن تكفي لتغطية كل اللغات الأوروبية، ظهرت الحاجة لوضع ترميزات متعددة، وهكذا انتهى بنا الحال مع الترميزات من <emphasis>ISO-8859-1</emphasis> (الذي يعرف أيضاً باسم ”Latin 1“) وحتى <emphasis>ISO-8859-15</emphasis> (الذي يدعى أيضاً باسم ”Latin 9“)، بالإضافة لترميزات أخرى.
			</para>
			 <para>
				غالباً ما كان العمل بلغات أجنبية يحتاج للتبديل كثيراً بين الترميزات ومجموعات المحارف المختلفة. بالإضافة لذلك، كانت كتابة المستندات بعدة لغات تؤدي إلى مشاكل أكبر لا تقهر إلا بصعوبة. أنشئ Unicode (جدول كبير لجميع أنظمة الكتابة تقريباً لجميع لغات العالم) للالتفاف حول هذه المشكلة. أحد ترميزات Unicode، ألا وهو UTF-8، يحافظ على جميع رموز ASCII البالغ عددها 128 (رموز طولها 7 بت)، لكنه يعالج المحارف الأخرى بشكل مختلف. تُسبَق تلك المحارف بسلسلة تهريب محددة (escape sequence) تتألف من بضعة بتات، تحدد ضمنياً طول المحرف. هذا يسمح بترميز جميع محارف Unicode بشكل سلسلة من بايت واحد أو أكثر. لقد انتشر استخدامه نتيجة استخدامه كترميز افتراضي في مستندات XML.
			</para>
			 <indexterm>
				<primary>ASCII</primary>
			</indexterm>
			 <indexterm>
				<primary>UTF-8</primary>
			</indexterm>
			 <indexterm>
				<primary>Unicode</primary>
			</indexterm>
			 <para>
				يجب استخدام هذا الترميز عموماً، ولذلك فهو الترميز الافتراضي في نظم دبيان.
			</para>
			 </sidebar> <para>
				تتضمن الحزمة <emphasis role="pkg">locales</emphasis> جميع العناصر اللازمة حتى تعمل "localizations" الخاصة بمختلف التطبيقات بشكل سليم. تطلب هذه الحزمة أثناء تثبيتها تحديد مجموعة اللغات المدعومة. يمكن تغيير هذه المجموعة في أي وقت باستدعاء <command>dpkg-reconfigure locales</command> بصلاحيات الجذر.
			</para>
			 <para>
				يطلب منك السؤال الأول تحديد ”locales“ التي تريد دعمها. تحديد جميع locales العربية (أي التي تكون بدايتها ”<literal dir="ltr">ar_</literal>“) خيار حكيم. لا تتردد بتفعيل locales أخرى إذا كان الجهاز سيخدم مستخدمين أجانب. تُخزّن قائمة بجميع locales المفعّلة على النظام في الملف <filename dir="ltr">/etc/locale.gen</filename>. من الممكن تحرير هذا الملف يدوياً، لكن عليك تشغيل <command>locale-gen</command> بعد كل تعديل. سيولد هذا الأمر الملفات الضرورية حتى تعمل locales المضافة، كما يزيل أي ملفات عديمة الفائدة.
			</para>
			 <para>
				السؤال الثاني، الذي يطلب تحديد ”Default locale for the system environment“، يريد منك تعريف locale افتراضية. الخيار المفضل في المغرب هو ”<literal>ar_MA.UTF-8</literal>“، وفي مصر ”<literal>ar_EG.UTF-8</literal>“. هناك locale لكل دولة من دول العرب. بعد ذلك سوف يُعدّل الملف <filename dir="ltr">/etc/default/locale</filename> لتخزين هذا الخيار. من الآن فصاعداً، سوف تُختَار هذه locale لجميع جلسات المستخدمين لأن PAM ستحقن قيمتها في متغير البيئة <varname>LANG</varname>.
			</para>
			 <indexterm>
				<primary>بيئة</primary>
			</indexterm>
			 <indexterm>
				<primary>locale</primary>
			</indexterm>
			 <indexterm>
				<primary><varname>LANG</varname></primary>
			</indexterm>
			 <sidebar id="sidebar.intro-pam"> <title><emphasis>وراء الكواليس</emphasis> <filename dir="ltr">/etc/environment</filename> و <filename dir="ltr">/etc/default/locale</filename></title>
			 <para>
				يزود الملف <filename dir="ltr">/etc/environment</filename> برامج <command>login</command>، و <command>gdm</command> أو حتى <command>ssh</command> بمتغيرات البيئة الصحيحة التي يجب إنشاؤها.
			</para>
			 <para>
				لا تنشئ هذه التطبيقات هذه المتغيرات مباشرة، بل عبر وحدة PAM‏ (<filename>pam_env.so</filename>). وPAM (اختصار Pluggable Authentication Module) هي مكتبة تجزيئية تجمع آليات المصادقة، وتهيئة الجلسات، وإدارة كلمات السر في مركز واحد. انظر <xref linkend="sect.config-pam" /> لمثال عن إعداد PAM.
			</para>
			 <para>
				يعمل الملف <filename dir="ltr">/etc/default/locale</filename> بطريقة مشابهة، لكنه يحوي فقط متغير البيئة <varname>LANG</varname>. نتيجة هذا التقسيم، يستطيع بعض مستخدمو PAM وراثة بيئة كاملة لكن دون اللغة. وبالفعل إن تشغيل برامج المخدمات مع تفعيل التوطين غير مستحسن؛ من جهة أخرى، التوطين والإعدادات الإقليمية مفضلة في البرامج التي تفتح جلسات المستخدمين.
			</para>
			 <indexterm>
				<primary>PAM</primary>
			</indexterm>
			 <indexterm>
				<primary><filename>pam_env.so</filename></primary>
			</indexterm>
			 </sidebar>
		</section>
		 <section id="sect.keyboard-config">
			<title>ضبط لوحة المفاتيح</title>
			 <indexterm>
				<primary>تخطيط لوحة المفاتيح</primary>
			</indexterm>
			 <indexterm>
				<primary>تخطيط، لوحة مفاتيح</primary>
			</indexterm>
			 <para>
				ولو أن إدارة تخطيط لوحة المفاتيح يختلف بين الوضع النصي والرسومي، إلا أن دبيان توفر واجهة إعداد موحدة تعمل مع الوضعين: تعتمد هذه الواجهة على debconf وهي متاحة في الحزمة <emphasis role="pkg">keyboard-configuration</emphasis>. إذن يمكن استخدام الأمر <command>dpkg-reconfigure keyboard-configuration</command> في أي وقت لإعادة ضبط تخطيط لوحة المفاتيح.
			</para>
			 <indexterm>
				<primary><emphasis>console-data</emphasis></primary>
			</indexterm>
			 <indexterm>
				<primary><emphasis>console-tools</emphasis></primary>
			</indexterm>
			 <indexterm>
				<primary><emphasis>keyboard-configuration</emphasis></primary>
			</indexterm>
			 <para>
				<indexterm><primary><literal>azerty</literal></primary></indexterm>تتعلق الأسئلة بالتخطيط الفيزيائي للوحة المفاتيح (أغلب لوحات المفاتيح القياسية في الحواسيب الشخصية هي ”Generic 104 key“)، بعدها التخطيط الذي سنختاره (”US“ بشكل عام)، وبعدها موقع مفتاح AltGr (غالباً بدون، أو ربما Alt اليمين). أخيراً يأتي سؤال عن المفتاح الذي سيستخدم كمفتاح ”تجميع“ (compose)، الذي يسمح بإدخال محارف خاصة عبر دمج ضغطات المفاتيح. مثلاً إذا طبعت (<keycombo action="seq"><keycap>تجميع</keycap><keycap>'</keycap><keycap>e</keycap></keycombo>) سوف تحصل على e-acute‏ (”é“). هذه التجميعات محددة في الملف <filename dir="ltr">/usr/share/X11/locale/en_US.UTF-8/Compose</filename> (أو ملف آخر حسب ما تحدده locale الحالية في <filename dir="ltr">/usr/share/X11/locale/compose.dir</filename>).
			</para>
			 <indexterm>
				<primary><literal>Compose</literal>، مفتاح</primary>
			</indexterm>
			 <indexterm>
				<primary><literal>Meta</literal>، مفتاح</primary>
			</indexterm>
			 <indexterm>
				<primary>مفتاح</primary>
				<secondary><literal>Meta</literal></secondary>
			</indexterm>
			 <indexterm>
				<primary>مفتاح</primary>
				<secondary><literal>Compose</literal></secondary>
			</indexterm>
			 <para>
				Note that the keyboard configuration for graphical mode described here only affects the default layout; the GNOME and KDE Plasma environments, among others, provide a keyboard control panel in their preferences allowing each user to have their own configuration. Some additional options regarding the behavior of some particular keys are also available in these control panels.
			</para>

		</section>
		 <section id="sect.utf8-migration">
			<title>الهجرة إلى UTF-8</title>
			 <para>
				لقد كان تعميم ترميز UTF-8 حلاً منتظراً للعديد من الصعوبات التي تعيق العمل المشترك، لأنه يسهّل التبادلات الدولية ويزيل القيود غير المبررة على المحارف التي يمكن استخدامها في المستندات. العائق الوحيد هو أنه يجب أن يمر بمرحلة انتقال صعبة نوعاً ما. خصوصاً أنها لا يمكن أن تكون شفافة بالكامل، أي لا يمكن أن تتم في الوقت نفسه في جميع أنحاء العالم، كما أن هناك عمليتي تحويل مطلوبتين: تحويل محتويات الملفات، وتحويل أسماء الملفات. لحسن الحظ، معظم هذه الهجرة قد انتهى بالفعل، ونحن نناقش العملية هنا لأخذ العلم فقط.
			</para>
			 <sidebar> <title><emphasis>ثقافة</emphasis> <foreignphrase>موجي-بايك</foreignphrase> وأخطاء التفسير</title>
			 <para>
				عند إرسال نص (أو تخزينه) دون تخزين معلومات عن الترميز، لا يمكن دوماً للمستقبل أن يعرف بدقة أي أسلوب يستخدم لتحديد معاني مجموعات البايتات. يمكنك عادة تكوين فكرة اعتماداً على إحصائيات عن توزيع القيم في النص، لكن ذلك لا يعطي إجابة قاطعة دوماً. عندما يختلف الترميز المستخدم للقراءة عن الترميز الذي استخدم لكتابة الملف، ستفسر البايتات بشكل خاطئ، وستظهر –في أفضل الحالات– بعض المحارف بشكل خاطئ، أو –في أسوأ الحالات– نصاً غير مقروء نهائياً.
			</para>
			 <para>
				بالتالي، إذا ظهر النص الفرنسي بشكل طبيعي عدا بعض الحروف ذات الحركات وبعض الرموز التي يبدو أنها استبدلت بسلسلة من المحارف مثل ”Ã©‎“ أو ”Ã¨‎“ أو ”Ã§‎“ فهذا الملف مشفر غالباً بالترميز UTF-8 لكنه يُفسّر على أنه ISO-8859-1 أو ISO-8859-15. هذه إشارة على أن النظام المحلي لم ينتقل بعد إلى UTF-8. أما إذا رأيت علامات استفهام بدلاً من الحروف ذات الحركات –حتى لو بدا أن علامات الاستفهام هذه تستبدل حرفاً كان يفترض أن يتبع الحرف ذا الحركة– فالغالب أن نظامك يستخدم UTF-8 فعلاً لكنك استقبلت مستنداً رُمِّز باستخدام Western ISO.
			</para>
			 <para>
				هذه حلول الحالات ”البسيطة“. تظهر هذه الحالات فقط في اللغات الغربية، لأن ترميز Unicode (و UTF-8) مصمم لزيادة النقاط المشتركة بينه وبين الترميزات السابقة المستخدمة مع اللغات الغربية التي تعتمد على الأبجدية اللاتينية، وهذا يسمح بالتعرف على أجزاء من النص حتى لو فقد بعض المحارف.
			</para>
			 <para>
				في الحالات الأعقد، التي تشمل بيئتين تستخدمان لغتين مختلفتين لا تستخدمان الأبجدية نفسها على سبيل المثال، ستحصل غالباً على نتائج غير مقروءة أبداً — بل سلسلة من الرموز الغريبة التي لا علاقة لها ببعضها. هذه الحالة شائعة جداً في اللغات الآسيوية بسبب اختلاف اللغات وأنظمة الكتابة العديدة. لقد اختيرت الكلمة اليابانية <foreignphrase>mojibake</foreignphrase> (موجي-بايك) لوصف هذه الظاهرة. عندما تظهر هذه الحالة فالتشخيص أعقد، وأبسط حل عادة هجرة الطرفين إلى UTF-8.
			</para>
			 </sidebar> <para>
				بالنسبة لأسماء الملفات، فالهجرة سهلة نسبياً. أنشئت الأداة <command>convmv</command> (في الحزمة ذات الاسم نفسه) خصيصاً لهذا الغرض؛ فهي تسمح بإعادة تسمية الملفات من ترميز معين إلى ترميز آخر. استخدام هذه الأداة بسيط نسبياً، لكننا ننصح باستخدامها في مرحلتين لتفادي المفاجآت. يُبيّن المثال التالي بيئة UTF-8 تحوي مجلدات أسماؤها مشفرة بالترميز ISO-8859-15، وطريقة استخدام <command>convmv</command> لإعادة تسميتها.
			</para>
			 
<screen><computeroutput>$ </computeroutput><userinput>ls travail/</userinput>
<computeroutput>Ic?nes  ?l?ments graphiques  Textes
$ </computeroutput><userinput>convmv -r -f iso-8859-15 -t utf-8 travail/</userinput>
<computeroutput>Starting a dry run without changes...
mv "travail/�l�ments graphiques"        "travail/Éléments graphiques"
mv "travail/Ic�nes"     "travail/Icônes"
No changes to your files done. Use --notest to finally rename the files.
$ </computeroutput><userinput>convmv -r --notest -f iso-8859-15 -t utf-8 travail/</userinput>
<computeroutput>mv "travail/�l�ments graphiques"        "travail/Éléments graphiques"
mv "travail/Ic�nes"     "travail/Icônes"
Ready!
$ </computeroutput><userinput>ls travail/</userinput>
<computeroutput>Éléments graphiques  Icônes  Textes</computeroutput></screen>
			 <para>
				أما بالنسبة لمحتويات الملفات، فعمليات التحويل أعقد نتيجة التنوع الكبير في صيغ الملفات الموجودة. تتضمن بعض صيغ الملفات معلومات ترميز تُسهّل مهمة البرمجيات التي ستعالجها؛ في تلك الحالة، يكفي فتح هذه الملفات وإعادة حفظها بعد اختيار الترميز UTF-8. في حالات أخرى، عليك تحديد الترميز الأصلي (ISO-8859-1 أو ”Western“، أو ISO-8859-15 أو ”Western (Euro)‎“، حسب الصيغة. بالنسبة للعربية فالغالب أن الترميز الأصلي هو cp-1256 أو ”Arabic Windows“ للملفات المنشأة على ويندوز، وهناك ترميز ISO 8859-6 أو ”Arabic ISO“ لكنه أقل استخداماً) عند فتح الملف.
			</para>
			 <para>
				بالنسبة للملفات النصية، يمكنك استخدام <command>recode</command> (في الحزمة ذات الاسم نفسه) الذي يسمح بتغيير الترميز آلياً. لهذه الأدوات خيارات عديدة تسمح لك بتعديل سلوكه. ننصحك بالاطلاع على وثائقه، في صفحة الدليل <citerefentry> <refentrytitle>recode</refentrytitle>
				 <manvolnum>1</manvolnum> </citerefentry>‎، أو صفحة المعلومات <citerefentry> <refentrytitle>recode</refentrytitle>
				 </citerefentry>‎ (أكثر اكتمالاً).
			</para>

		</section>

	</section>
	 <section id="sect.network-config">
		<title>ضبط الشبكة</title>
		 <sidebar id="sidebar.networking-basics"> <title><emphasis>أساسيات</emphasis> مفاهيم الشبكات الأساسية (إيثرنت، عنوان IP، الشبكة الفرعية، البث)</title>
		 <indexterm>
			<primary>إيثرنت</primary>
		</indexterm>
		 <indexterm>
			<primary>10BASE-T</primary>
		</indexterm>
		 <indexterm>
			<primary>100BASE-T</primary>
		</indexterm>
		 <indexterm>
			<primary>1000BASE-T</primary>
		</indexterm>
		 <indexterm>
			<primary>10GBASE-T</primary>
		</indexterm>
		 <indexterm>
			<primary>وصلة، RJ45</primary>
		</indexterm>
		 <indexterm>
			<primary>RJ45، وصلة</primary>
		</indexterm>
		 <para>
			تعتمد معظم الشبكات المحلية المعاصرة على بروتوكول إيثرنت (Ethernet)، حيث تقسم البيانات إلى كتل صغيرة تعرف بالإطارات وترسل عبر الأسلاك إطاراً تلو الآخر. سرعات نقل البيانات تتراوح ما بين 10 ميغابت/ثا بالنسبة لبطاقات إيثرنت القديمة وحتى 10 غيغابت/ثا في البطاقات الأحدث (أكثر السرعات انتشاراً حالياً تتراوح بين 100 ميغابت/ثا و1 غيغابت/ثا). أكثر أنواع الكبال استخداماً تدعى 10BASE-T، أو 100BASE-T، أو 1000BASE-T أو 10GBASE-T حسب معدل نقل البيانات الذي تقدمه (يرمز T للعبارة ”twisted pair“، أي زوج مفتول)؛ تنتهي هذه الكبال بوصلات RJ45. هناك أنواع أخرى من الكبال، تستخدم غالباً مع سرعات 1 غيغابت/ثا وما فوق.
		</para>
		 <indexterm>
			<primary>عنوان، عنوان IP</primary>
		</indexterm>
		 <indexterm>
			<primary>IP، عنوان</primary>
		</indexterm>
		 <para>
			عنوان IP هو رقم يستخدم لتعريف الواجهة الشبكية الخاصة بالحاسوب على الشبكة المحلية أو الإنترنت. في النسخة الأكثر انتشاراً اليوم من بروتوكول الإنترنت (IPv4)، يتألف هذا الرقم من 32 بت، وغالباً ما يُمثَّل بشكل 4 أعداد تفصلها نقط (مثلاً <literal>192.168.0.1</literal>)، تتراوح قيمة كل عدد بين 0 و255 (التي توافق 8 بتات من البيانات). أما النسخة التالية من البروتوكول، IPv6، فهي توسع فضاء العنونة هذا إلى 128 بت، وتُمثَّل العناوين عموماً كسلسلة من الأرقام الست عشرية تفصل عن بعضها بنقطتين فوق بعضهما (مثلاً 2001:0db8:13bb:0002:0000:0000:0000:0020 أو ‎2001:db8:13bb:2::20 اختصاراً).
		</para>
		 <indexterm>
			<primary>شبكة فرعية</primary>
		</indexterm>
		 <indexterm>
			<primary>قناع</primary>
			<secondary>قناع الشبكة الفرعية</secondary>
		</indexterm>
		 <indexterm>
			<primary>شبكة</primary>
			<secondary>عنوان</secondary>
		</indexterm>
		 <para>
			قناع الشبكة الفرعية (subnet mask، أو قناع الشبكة netmask) يحدد الجزء من عنوان IP الذي يوافق عنوان الشبكة باستخدام شفرة ثنائية، والجزء الباقي يحدد عنوان الجهاز. في حال إعداد عنوان IPv4 السابق كعنوان ستاتيكي للجهاز، سيكون قناع الشبكة الفرعية <literal>255.255.255.0</literal> (24 واحد ”1“ تتبعهم ثمانية أصفار ”0“ في الترميز الثنائي)، وهو يشير إلى أن 24 بت الأولى من عنوان IP مخصصة لعنوان الشبكة، بينما البتات الثمانية الأخيرة خاصة بالجهاز. في IPv6 يذكر عدد الوحدان فقط للوضوح؛ مثلاً قناع الشبكة لإحدى شبكات IPv6 قد يكون <literal>64</literal>.
		</para>
		 <para>
			عنوان الشبكة هو عنوان IP يكون فيه الجزء الذي يحدد رقم الجهاز أصفار. غالباً يحدد مجال عناوين IPv4 في شبكة كاملة بالصيغة <emphasis>a.b.c.d/e</emphasis>، حيث <emphasis>a.b.c.d</emphasis> هو عنوان الشبكة و <emphasis>a.b.c.d</emphasis> هو عدد البتات المخصصة لجزء الشبكة من عنوان IP. بالتالي تُكتَب الشبكة من المثال السابق بالشكل: <literal>192.168.0.0/24</literal>. الصيغة في IPv6 مشابهة: <literal>2001:db8:13bb:2::/64</literal>.
		</para>
		 <indexterm>
			<primary>موجّه</primary>
		</indexterm>
		 <indexterm>
			<primary>جسر</primary>
		</indexterm>
		 <para>
			الموجّه (router) هو جهاز يصل بين عدة شبكات. يُرسِل الموجّه كل الرزم التي تمر عبره إلى وجهتها الصحيحة. لتحقيق ذلك، يحلل الموجّه الرزم الواردة ويعيد توجيهها حسب عنوان IP الذي تتجه إليه. غالباً ما يدعى الموجّه بالبوابة؛ في تلك الحالة، يعمل الموجّه كجهاز يساعد على الوصول إلى خارج الشبكة المحلية (نحو شبكة موسّعة، مثل الإنترنت).
		</para>
		 <indexterm>
			<primary>بث</primary>
		</indexterm>
		 <para>
			عنوان البث (broadcast) هو عنوان خاص يصل بين جميع المحطات في الشبكة. هذا العنوان لا ”يوجّه“ أبداً تقريباً، بل يعمل ضمن نطاق الشبكة الحالية. تحديداً، هذا يعني أن رزمة البيانات التي تحمل عنوان البث كعنوان وجهة لا تمر أبداً عبر الموجّه.
		</para>
		 <para>
			يركّز هذا الفصل على عناوين IPv4، لأنها حالياً الأكثر استخداماً. أما تفصيلات بروتوكول IPv6 فقد طرقناها في <xref linkend="sect.ipv6" />، لكن المفاهيم تبقى نفسها.
		</para>
		 </sidebar> <para>
			The network is automatically configured during the initial installation. If Network Manager gets installed (which is generally the case for full desktop installations), then it might be that no configuration is actually required (for example, if you rely on DHCP on a wired connection and have no specific requirements). If a configuration is required (for example for a WiFi interface), then it will create the appropriate file in <filename>/etc/NetworkManager/system-connections/</filename>.
		</para>
		 <para>
			If Network Manager is not installed, then the installer will configure <emphasis role="pkg">ifupdown</emphasis> by creating the <filename>/etc/network/interfaces</filename> file. A line starting with <literal>auto</literal> gives a list of interfaces to be automatically configured on boot by the <literal>networking</literal> service.
		</para>
		 <para>
			In a server context, <emphasis role="pkg">ifupdown</emphasis> is thus the network configuration tool that you usually get. That is why we will cover it in the next sections.
		</para>
		 <indexterm>
			<primary>شبكة</primary>
			<secondary>ضبط</secondary>
		</indexterm>
		 <indexterm>
			<primary>ضبط</primary>
			<secondary>الشبكة</secondary>
		</indexterm>
		 <indexterm>
			<primary>واجهة</primary>
			<secondary>واجهة شبكة</secondary>
		</indexterm>
		 <sidebar> <title><emphasis>بدائل</emphasis> NetworkManager</title>
		 <indexterm>
			<primary><emphasis role="pkg">network-manager</emphasis></primary>
		</indexterm>
		 <para>
			If Network Manager is particularly recommended in roaming setups (see <xref linkend="sect.roaming-network-config" />), it is also perfectly usable as the default network management tool. You can create “System connections” that are used as soon as the computer boots either manually with a <filename>.ini</filename>-like file in <filename>/etc/NetworkManager/system-connections/</filename> or through a graphical tool (<command>nm-connection-editor</command>). Just remember to deactivate all entries in <filename>/etc/network/interfaces</filename> if you want Network Manager to handle them. <ulink type="block" url="https://wiki.gnome.org/Projects/NetworkManager/SystemSettings" /> <ulink type="block" url="https://developer.gnome.org/NetworkManager/1.6/ref-settings.html" />
		</para>
		 </sidebar> <section id="sect.interface-ethernet">
			<title>واجهة إيثرنت</title>
			 <para>
				إذا كان للحاسوب بطاقة إيثرنت، يجب إعداد شبكة IP المتصلة بها بإحدى طريقتين. الطريقة الأبسط هي الإعداد الديناميكي باستخدام DHCP، وهي تحتاج مخدم DHCP في الشبكة المحلية. يمكن في هذه الطريقة تحديد اسم المضيف المرغوب، وذلك حسب خيار <literal>hostname</literal> في المثال أدناه. بعدها يرسل مخدم DHCP الإعدادات المناسبة لضبط الشبكة.
			</para>
			 <indexterm>
				<primary>إيثرنت</primary>
			</indexterm>
			 <indexterm>
				<primary>DHCP</primary>
			</indexterm>
			 <example id="example.config-dhcp">
				<title>إعدادات DHCP</title>
				 
<programlisting>
auto enp0s31f6
iface enp0s31f6 inet dhcp
  hostname arrakis
</programlisting>

			</example>
			 <sidebar> <title><emphasis>IN PRACTICE</emphasis> Names of network interfaces</title>
			 <indexterm>
				<primary><literal>eth0</literal></primary>
			</indexterm>
			 <indexterm>
				<primary><literal>en*</literal></primary>
			</indexterm>
			 <indexterm>
				<primary><literal>wlan0</literal></primary>
			</indexterm>
			 <indexterm>
				<primary><literal>wl*</literal></primary>
			</indexterm>
			 <para>
				By default, the kernel attributes generic names such a <literal>eth0</literal> (for wired Ethernet) or <literal>wlan0</literal> (for WiFi) to the network interfaces. The number in those names is a simple incremental counter representing the order in which they have been detected. With modern hardware, that order might change for each reboot and thus the default names are not reliable.
			</para>
			 <para>
				Fortunately, systemd and udev are able to rename the interfaces as soon as they appear. The default name policy is defined by <filename>/lib/systemd/network/99-default.link</filename> (see <citerefentry><refentrytitle>systemd.link</refentrytitle>
				<manvolnum>5</manvolnum></citerefentry> for an explanation of the <literal>NamePolicy</literal> entry in that file). In practice, the names are often based on the device's physical location (as guessed by where they are connected) and you will see names starting with <literal>en</literal> for wired ethernet and <literal>wl</literal> for WiFi. In the example above, the rest of the name indicates, in abbreviated form, a PCI (<literal>p</literal>) bus number (<literal>0</literal>), a slot number (<literal>s31</literal>), a function number (<literal>f6</literal>).
			</para>
			 <para>
				Obviously, you are free to override this policy and/or to complement it to customize the names of some specific interfaces. You can find out the names of the network interfaces in the output of <command>ip addr</command> (or as filenames in <filename>/sys/class/net/</filename>).
			</para>
			 </sidebar> <para>
				أما الإعداد ”الستاتيكي“ فيجب أن يُحدّد إعدادات الشبكة بشكل ثابت. يجب أن تتضمن الإعدادات عنوان IP وقناع الشبكة الفرعية على الأقل؛ كما يذكر أحياناً عنوان الشبكة وعنوان البث أيضاً. أما الموجّه الذي يستخدم للاتصال بالعالم الخارجي فيذكر على أنه بوابة.
			</para>
			 <example id="example.static-network">
				<title>إعدادات ستاتيكية</title>
				 
<programlisting>
auto enp0s31f6
iface enp0s31f6 inet static
  address 192.168.0.3
  netmask 255.255.255.0
  broadcast 192.168.0.255
  network 192.168.0.0
  gateway 192.168.0.1
</programlisting>

			</example>
			 <sidebar> <title><emphasis>ملاحظة</emphasis> تعدد العناوين</title>
			 <para>
				لا يمكن ربط عدة واجهات مع بطاقة شبكة فيزيائية واحدة وحسب، بل يمكن أيضاً ربط عدة عناوين IP مع واجهة واحدة. تذكر أيضاً أن عنوان IP قد يوافق أي عدد من أسماء DNS، وأن الاسم قد يرافق أيضاً أي عدد من عناوين IP.
			</para>
			 <para>
				كما ترى، يمكن أن تتعقد الإعدادات نوعاً ما، لكن هذه الخيارات لا تستخدم إلا في حالات خاصة جداً. الأمثلة المذكورة هنا هي نموذج عن الحالات الاعتيادية.
			</para>
			 </sidebar>
		</section>
		 <section id="sect.interface-wireless">
			<title>Wireless Interface</title>
			 <indexterm>
				<primary>wireless</primary>
			</indexterm>
			 <para>
				Getting wireless network cards to work can be a bit more challenging. First of all, they often require the installation of proprietary firmwares which are not installed by default in Debian. Then wireless networks rely on cryptography to restrict access to authorized users only, this implies storing some secret key in the network configuration. Let's tackle those topics one by one.
			</para>
			 <section>
				<title>Installing the required firmwares</title>
				 <indexterm>
					<primary>firmware</primary>
				</indexterm>
				 <indexterm>
					<primary>isenkram</primary>
				</indexterm>
				 <para>
					First you have to enable the non-free repository in APT's sources.list file: see <xref linkend="sect.apt-sources.list" /> for details about this file. Many firmware are proprietary and are thus located in this repository. You can try to skip this step if you want, but if the next step doesn't find the required firmware, retry after having enabled the non-free section.
				</para>
				 <para>
					Then you have to install the appropriate <literal>firmware-*</literal> packages. If you don't know which package you need, you can install the <emphasis role="pkg">isenkram</emphasis> package and run its <command>isenkram-autoinstall-firmware</command> command. The packages are often named after the hardware manufacturer or the corresponding kernel module: <emphasis role="pkg">firmware-iwlwifi</emphasis> for Intel wireless cards, <emphasis role="pkg">firmware-atheros</emphasis> for Qualcomm Atheros, <emphasis role="pkg">firmware-ralink</emphasis> for Ralink, etc. A reboot is then recommended because the kernel driver usually looks for the firmware files when it is first loaded and no longer afterwards.
				</para>

			</section>
			 <section>
				<title>Wireless specific entries in <filename>/etc/network/interfaces</filename></title>
				 <indexterm>
					<primary>WPA</primary>
				</indexterm>
				 <para>
					<emphasis>ifupdown</emphasis> is able to manage wireless interfaces but it needs the help of the <emphasis role="pkg">wpasupplicant</emphasis> package which provides the required integration between <emphasis>ifupdown</emphasis> and the <command>wpa_supplicant</command> command used to configure the wireless interfaces (when using WPA/WPA2 encryption). The usual entry in <filename>/etc/network/interfaces</filename> needs to be extended with two supplementary parameters to specify the name of the wireless network (aka its SSID) and the <emphasis>Pre-Shared Key</emphasis> (PSK).
				</para>
				 <example id="example.config-wireless">
					<title>DHCP configuration for a wireless interface</title>
					 
<programlisting>
auto wlp4s0
iface wlp4s0 inet dhcp
  wpa-ssid Falcot
  wpa-psk ccb290fd4fe6b22935cbae31449e050edd02ad44627b16ce0151668f5f53c01b
</programlisting>
				</example>
				 <para>
					The <literal>wpa-psk</literal> parameter can contain either the plain text passphrase or its hashed version generated with <command>wpa_passphrase <replaceable>SSID</replaceable> <replaceable>passphrase</replaceable></command>. If you use an unencrypted wireless connection, then you should put a <literal>wpa-key-mgmt NONE</literal> and no <literal>wpa-psk</literal> entry. For more information about the possible configuration options, have a look at <filename>/usr/share/doc/wpasupplicant/README.Debian.gz</filename>.
				</para>
				 <para>
					At this point, you should consider restricting the read permissions on <filename>/etc/network/interfaces</filename> to the root user only since the file contains a private key that not all users should have access to.
				</para>
				 <sidebar> <title><emphasis>HISTORY</emphasis> WEP encryption</title>
				 <indexterm>
					<primary>WEP</primary>
				</indexterm>
				 <para>
					Usage of the deprecated WEP encryption protocol is possible with the <emphasis role="pkg">wireless-tools</emphasis> package. See <filename>/usr/share/doc/wireless-tools/README.Debian</filename> for instructions.
				</para>
				 </sidebar>
			</section>

		</section>
		 <section id="sect.ppp-rtc">
			<title>الاتصال عبر PPP باستخدام مودم PSTN</title>
			 <indexterm>
				<primary>PPP</primary>
			</indexterm>
			 <indexterm>
				<primary>point to point</primary>
			</indexterm>
			 <indexterm>
				<primary>اتصال</primary>
				<secondary>عبر مودم PSTN</secondary>
			</indexterm>
			 <indexterm>
				<primary>مودم</primary>
				<secondary>PSTN</secondary>
			</indexterm>
			 <para>
				ينشئ اتصال PPP (نقطة إلى نقطة، point to point) اتصالاً متقطّعاً؛ هذا هو الحل الأكثر انتشاراً للاتصالات التي تجرى باستخدام المودم الهاتفي (”مودم PSTN“، بما أن الاتصال يمر عبر شبكة الهاتف العامة public switched telephone network).
			</para>
			 <para>
				يحتاج الاتصال عبر المودم الهاتفي إلى حساب عند مزود الخدمة، يتضمن رقم الاتصال الهاتفي، واسم المستخدم، وكلمة السر، وأحياناً بروتوكول المصادقة المستخدم. تعد هذه الاتصالات باستخدام الأداة <command>pppconfig</command> في حزمة الدبيانية ذات الاسم نفسه. افتراضياً، تُعدُّ هذه الأداة اتصالاً بالاسم <literal>provider</literal> (مزود الخدمة). إذا لم تكن متأكداً من بروتوكول المصادقة المعتمد، اختر <emphasis>PAP</emphasis>: فأغلب مزودات الخدمة توفره.
			</para>
			 <indexterm>
				<primary><command>pppconfig</command></primary>
			</indexterm>
			 <indexterm>
				<primary>PAP</primary>
			</indexterm>
			 <para>
				بعد إتمام عملية الإعداد، يمكن بدء الاتصال بالأمر <command>pon</command> (مع إعطائه اسم الاتصال كبارامتر، إذا لم تكن قيمة <literal>provider</literal> الافتراضية مناسبة). يقطع الأمر <command>poff</command> الاتصال. يستطيع المستخدم الجذر تنفيذ هذين الأمرين، أو أي مستخدم آخر شريطة أن ينتمي إلى المجموعة <literal>dip</literal>.
			</para>
			 <indexterm>
				<primary><command>pon</command></primary>
			</indexterm>
			 <indexterm>
				<primary><command>poff</command></primary>
			</indexterm>

		</section>
		 <section id="sect.adsl">
			<title>الاتصال عبر مودم ADSL</title>
			 <indexterm>
				<primary>اتصال</primary>
				<secondary>عبر مودم ADSL</secondary>
			</indexterm>
			 <indexterm>
				<primary>مودم</primary>
				<secondary>ADSL</secondary>
			</indexterm>
			 <indexterm>
				<primary>ADSL، مودم</primary>
			</indexterm>
			 <para>
				يغطي المصطلح العام ”مودم ADSL“ أعداداً كبيرة من الأجهزة التي تختلف كثيراً بوظائفها. أبسط المودمات استخداماً في لينكس هي تلك التي توفر مخرج إيثرنت (وليس واجهة USB فقط). هذا النوع شائع؛ معظم مزودات خدمة ADSL تعير (أو تؤجر) ”صندوقاً“ له واجهة إيثرنت بالإضافة (أو بدلاً من) واجهات USB. قد تختلف طريقة الإعداد المطلوبة كثيراً حسب نوع المودم.
			</para>
			 <section id="sect.adsl-pppoe">
				<title>المودمات التي تدعم PPPoE</title>
				 <indexterm>
					<primary>PPPOE</primary>
				</indexterm>
				 <indexterm>
					<primary><command>pppoeconf</command></primary>
				</indexterm>
				 <para>
					تعمل بعض مودمات إيثرنت باستخدام بروتوكول PPPoE‏ (Point to Point Protocol over Ethernet). تُستخدَم الأداة <command>pppoeconf</command> (من الحزمة ذات الاسم نفسه) لإعداد هذا النوع من الاتصالات. ما تفعله هذه الأداة هو تعديل الملف <filename dir="ltr">/etc/ppp/peers/dsl-provider</filename> وفقاً للإعدادات المعطاة وتسجّل معلومات تسجيل الدخول في الملفين <filename dir="ltr">/etc/ppp/pap-secrets</filename> و <filename dir="ltr">/etc/ppp/chap-secrets</filename>. من المفضل قبول جميع التعديلات التي تقترحها عليك هذه الأداة.
				</para>
				 <para>
					بعد إتمام هذا الإعداد، يمكنك فتح اتصال ADSL باستخدام الأمر <command>pon dsl-provider</command>، وقطعه باستخدام <command>poff dsl-provider</command>.
				</para>
				 <indexterm>
					<primary><literal>dsl-provider</literal></primary>
				</indexterm>
				 <sidebar> <title><emphasis>تلميح</emphasis> بدء اتصالات <command>ppp</command> عند الإقلاع</title>
				 <indexterm>
					<primary><command>systemd</command></primary>
				</indexterm>
				 <indexterm>
					<primary><command>init</command></primary>
				</indexterm>
				 <para>
					اتصالات ADSL عبر بروتوكول PPP متقطّعة حسب تعريفها. بما أن فواتير هذه الاتصالات لا تحسب عادة حسب الوقت، فلا توجد عوائق كبيرة تمنع تركها مفتوحة دوماً. الطريقة المعيارية لتحقيق هذا الأمر هي استخدام نظام الإقلاع (init system).
				</para>
				 <para>
					With systemd, adding an automatically restarting task for the ADSL connection is a simple matter of creating a “unit file” such as <filename>/etc/systemd/system/adsl-connection.service</filename>, with contents such as the following:
				</para>
				 
<programlisting>[Unit]
Description=ADSL connection

[Service]
Type=forking
ExecStart=/usr/sbin/pppd call dsl-provider
Restart=always

[Install]
WantedBy=multi-user.target</programlisting>
				 <para>
					بعد تعريف ملف الوحدة هذا، يجب تفعيله عبر الأمر <command>systemctl enable adsl-connection</command>. يمكن عندئذ بدء الاتصال يدوياً باستخدام <command>systemctl start adsl-connection</command>؛ كما سيبدأ تلقائياً عند كل إقلاع.
				</para>
				 <para>
					يعمل نظام الإقلاع SystemV بطريقة مختلفة على الأنظمة التي لا تستخدم <command>systemd</command> (بما فيها <emphasis role="distribution">ويزي</emphasis> والنسخ الأقدم من دبيان). كل ما تحتاجه على تلك الأنظمة هو إضافة سطر كالتالي إلى نهاية الملف <filename dir="ltr">/etc/inittab</filename>؛ بعدها ستعيد <command>init</command> إنشاء الاتصال كلما انقطع.
				</para>
				 
<programlisting>
adsl:2345:respawn:/usr/sbin/pppd call dsl-provider
</programlisting>
				 <para>
					هذه الطريقة تقلل من فترة الانقطاع إذا كان اتصال ADSL من الاتصالات التي تنقطع تلقائياً كل يوم.
				</para>
				 </sidebar>
			</section>
			 <section id="sect.adsl-pptp">
				<title>المودمات التي تدعم PPTP</title>
				 <indexterm>
					<primary>PPTP</primary>
				</indexterm>
				 <para>
					أنشأت Microsoft برتوكول PPTP‏ (Point-to-Point Tunneling Protocol). لقد استخدم هذا البروتوكول في بدايات عهد ADSL، ثم استبدل سريعاً ببروتوكول PPPoE. إذا فُرضَ عليك هذا البروتوكول، انظر <xref linkend="sect.pptp" />.
				</para>

			</section>
			 <section id="sect.adsl-dhcp">
				<title>المودمات التي تدعم DHCP</title>
				 <para>
					عند وصل المودم بالحاسوب باستخدام كبل إيثرنت (كبل متصالب crossover)، فالغالب أن اتصال الشبكة على الحاسوب سوف يُعدُّ باستخدام DHCP نموذجياً؛ وسيعمل المودم آلياً كبوابة في الحالة الافتراضية ويتولى مهمة التوجيه (أي إدارة حركة بيانات الشبكة بين الحاسوب والإنترنت).
				</para>
				 <sidebar> <title><emphasis>أساسيات</emphasis> الكبال المتصالبة لوصلات إيثرنت المباشرة</title>
				 <indexterm>
					<primary>كبل متصالب</primary>
				</indexterm>
				 <para>
					تتوقع بطاقات الشبكة في الحواسيب استقبال البيانات على أسلاك محددة من الكبل، وإرسال البيانات على أسلاك أخرى. عند وصل الحاسوب بالشبكة المحلية، يُستخدَم عادة كبل (متصالب أو مباشر) يصل بين بطاقة الشبكة ومكرر الإشارة أو التحويلة. لكن إذا أردت توصيل حاسوبين مباشرة (دون تحويلة وسيطة أو مكرر إشارة)، عليك توجيه الإشارات التي ترسلها البطاقة الأولى إلى طرف الاستقبال في البطاقة الثانية، والعكس بالعكس. هذا هو الهدف الذي يدعو لاستخدام الكبال المتصالبة.
				</para>
				 <para>
					لاحظ أن هذا التمييز لم يعد مهماً إطلاقاً في الوقت الحاضر، لأن بطاقات الشبكة الحديثة تستطيع استشعار نوع الكبل المتصل بها وتغيير سلوكها بما يناسب، لذلك لا تستغرب أن يعمل أي نوع من الكبال في أي وضع من الأوضاع.
				</para>
				 </sidebar> <para>
					تعمل معظم ”راوترات ADSL“ في السوق ومعظم مودمات ADSL التي تقدمها مزودات خدمة الإنترنت بهذا الشكل.
				</para>

			</section>

		</section>
		 <section id="sect.roaming-network-config">
			<title>إعداد الشبكة الآلي للمستخدمين الرُّحَّل</title>
			 <indexterm>
				<primary><emphasis role="pkg">network-manager</emphasis></primary>
			</indexterm>
			 <indexterm>
				<primary>شبكة</primary>
				<secondary>إعدادات متنقلة</secondary>
			</indexterm>
			 <para>
				يملك معظم المهندسون في شركة فلكوت حاسوباً محمولاً يستخدمونه في البيت أيضاً للعمل. تختلف إعدادات الشبكة المستخدمة حسب المكان. في البيت، قد تكون الشبكة لاسلكية (محمية بمفتاح WPA)، بينما تستخدم شبكة سلكية في العمل لزيادة الأمان ومعدل نقل البيانات.
			</para>
			 <para>
				لتفادي وصل أو فصل الواجهات الشبكية المناسبة يدوياً، عمد مديرو النظم لتثبيت حزمة <emphasis role="pkg">network-manager</emphasis> على الأجهزة النقالة. يسمح هذا البرنامج للمستخدم بالتبديل بسهولة بين الشبكات باستخدام أيقونة صغيرة تظهر في منطقة التنبيهات في سطح المكتب الرسومي. تظهر قائمة بالشبكات المتاحة (سلكية ولاسلكية) عند النقر على هذه الأيقونة، بحيث يستطيع المستخدم تحديد الشبكة التي يريد استخدامها ببساطة. يحفظ البرنامج إعدادات الشبكات التي اتصل بها المستخدم سابقاً، ويبدل آلياً إلى أفضل شبكة متاحة عند انقطاع الاتصال الحالي.
			</para>
			 <para>
				لتنفيذ ذلك، قسمت بنية البرنامج إلى جزئين: خدمة تعمل بصلاحيات الجذر تعالج تفعيل وإعداد الواجهات الشبكية، وواجهة مستخدم تتحكم بهذه الخدمة. تتحكم PolicyKit بعمليات المصادقة اللازمة للتحكم بهذا البرنامج، وفي دبيان أُعدِّت PolicyKit بحيث يستطيع أعضاء المجموعة netdev إضافة أو تغيير اتصالات Network Manager.
			</para>
			 <para>
				يعرف Network Manager طريقة التعامل مع مختلف أنواع الاتصالات (DHCP، أو الإعدادات اليدوية، أو شبكة محلية فقط)، لكن فقط إذا أدخلت هذه الإعدادات عبر البرنامج نفسه. لذلك فهو يتجاهل تلقائياً جميع الواجهات الشبكية في <filename dir="ltr">/etc/network/interfaces</filename> التي لا يتناسب هذا البرنامج معها. بما أن Network Manager لا يعطي تفاصيلاً عندما لا تظهر فيه أي اتصالات، فالحل الأسهل هو حذف جميع إعدادات الواجهات التي تريد إدارتها باستخدام Network Manager من الملف <filename dir="ltr">/etc/network/interfaces</filename>.
			</para>
			 <para>
				لاحظ أن هذا البرنامج يُثبَّت تلقائياً عند اختيار المهمة ”Desktop Environment“ أثناء التثبيت الأولي.
			</para>

		</section>

	</section>
	 <section id="sect.hostname-name-service">
		<title>ضبط اسم المضيف وإعداد خدمة الأسماء</title>
		 <indexterm>
			<primary>اسم</primary>
			<secondary>تعيين واستبيان</secondary>
		</indexterm>
		 <indexterm>
			<primary>تعيين الأسماء</primary>
		</indexterm>
		 <para>
			الهدف من وضع أسماء ترتبط بعناوين IP هو تسهيل حفظها على الناس. في الواقع، يُعرِّف عنوان IP واجهة شبكية ترتبط مع قطعة عتاد مثل بطاقة شبكة. بما أن أي جهاز يستطيع أن يحوي عدة بطاقات شبكة، وعدة واجهات ترتبط مع كل بطاقة، فيمكن أن يرتبط الحاسوب الواحد بعدة أسماء في نظام أسماء النطاقات.
		</para>
		 <para>
			لكن لكل جهاز اسم تعريف رئيسي (أو ”أصلي canonical“)، يُخزَّن في الملف <filename dir="ltr">/etc/hostname</filename> ويمرر إلى النواة لينكس بوساطة سكربتات التهيئة عبر الأمر <command>hostname</command>. القيمة الحالية متوفرة في نظام ملفات ظاهري، ويمكنك الحصول عليها بالأمر <command>cat /proc/sys/kernel/hostname</command>.
		</para>
		 <indexterm>
			<primary><command>hostname</command></primary>
		</indexterm>
		 <sidebar> <title><emphasis>أساسيات</emphasis> <filename>/proc/</filename> و <filename>/sys/</filename>، نظم ملفات ظاهرية</title>
		 <indexterm>
			<primary><filename>/proc/</filename></primary>
		</indexterm>
		 <indexterm>
			<primary><filename>proc</filename></primary>
		</indexterm>
		 <indexterm>
			<primary><filename>/sys/</filename></primary>
		</indexterm>
		 <indexterm>
			<primary><filename>sys</filename></primary>
		</indexterm>
		 <para>
			تنشأ شجرتا الملفات <filename>/proc/</filename> و <filename>/sys/</filename> من نظامي ملفات ”ظاهريين“. هذه وسيلة عملية لاسترداد المعلومات من النواة (عبر سرد الملفات الظاهرية) أو نقلها إليها (بالكتابة في الملفات الظاهرية).
		</para>
		 <para>
			لقد صمّم <filename>/sys/</filename> بالذات لإتاحة الوصول لكائنات النواة الداخلية، خصوصاً التي تمثّل الأجهزة المختلفة في النظام. بالتالي، ستتمكن النواة من مشاركة المعلومات المختلفة: حالة كل جهاز (إذا كان في وضع توفير الطاقة مثلاً)، هل هو جهاز قابل للإزالة، الخ. لاحظ أن <filename>/sys/</filename> ظهر فقط منذ إصدارة النواة 2.6.
		</para>
		 </sidebar> <para>
			ما يثير الدهشة هو أن إدارة اسم النطاق لا تتم بالطريقة نفسها، بل يُشتَق من الاسم الكامل للجهاز، الذي يحصل عليه بعملية استبيان الأسماء (name resolustion). يمكنك تغييره في الملف <filename dir="ltr">/etc/hosts</filename>؛ فقط اكتب اسماً كاملاً للجهاز هناك في بداية قائمة الأسماء المرتبطة بعنوان الجهاز، كما في المثال التالي:
		</para>
		 <informalexample> 
<programlisting>
127.0.0.1     localhost
192.168.0.1   arrakis.falcot.com arrakis
</programlisting>
		 </informalexample> <indexterm>
			<primary><filename>hosts</filename></primary>
		</indexterm>
		 <indexterm>
			<primary><filename>/etc/hosts</filename></primary>
		</indexterm>
		 <indexterm>
			<primary>نطاق</primary>
			<secondary>اسم النطاق</secondary>
		</indexterm>
		 <indexterm>
			<primary>اسم</primary>
			<secondary>نطاق</secondary>
		</indexterm>
		 <indexterm>
			<primary>NSS</primary>
		</indexterm>
		 <section id="sect.name-resolution">
			<title>استبيان الأسماء</title>
			 <indexterm>
				<primary>استبيان</primary>
				<secondary>أسماء</secondary>
			</indexterm>
			 <indexterm>
				<primary>اسم</primary>
				<secondary>استبيان</secondary>
			</indexterm>
			 <para>
				آلية استبيان الأسماء (name resolution) في لينكس تجزيئية ويمكن استخدام مصادر متنوعة للمعلومات مبيّنة في الملف <filename dir="ltr">/etc/nsswitch.conf</filename>. المدخلة التي تتعلق باستبيان اسم المضيف هي <literal>hosts</literal>. افتراضياً، تحوي المدخلة <literal>files dns</literal>، وهذا يعني أن النظام سوف يستشير الملف <filename dir="ltr">/etc/hosts</filename> أولاً، وبعدها مخدم DNS. مخدمات NIS/NIS+‎ أو LDAP هي مصادر أخرى محتملة.
			</para>
			 <sidebar> <title><emphasis>ملاحظة</emphasis> NSS و DNS</title>
			 <para>
				انتبه إلى أن الأوامر المصممة خصيصاً لاستشارة DNS (خصوصاً <command>host</command>) لا تعتمد على آلية استبيان الأسماء القياسية (NSS). نتيجة لذلك، لن تأخذ هذه الأوامر <filename dir="ltr">/etc/nsswitch.conf</filename> بعين الاعتبار، وبالتالي لن تنظر إلى <filename dir="ltr">/etc/hosts</filename> أيضاً.
			</para>
			 </sidebar> <section id="sect.dns-server-configuration">
				<title>ضبط مخدمات DNS</title>
				 <indexterm>
					<primary>DNS</primary>
				</indexterm>
				 <indexterm>
					<primary>Domain Name Service (خدمة أسماء النطاقات)</primary>
				</indexterm>
				 <para>
					DNS‏ (Domain Name Service) هي خدمة موزعة وهرمية تقابل الأسماء بعناوين IP، والعكس صحيح. بالأخص، تستطيع هذه الخدمة قلب الأسماء الأليفة للناس مثل <literal>www.eyrolles.com</literal> إلى عنوان IP الفعلي، مثل <literal>213.244.11.247</literal>.
				</para>
				 <para>
					للوصول إلى معلومات DNS، يجب توفر مخدم DNS لترحيل الطلبات. تملك شركة فلكوت مخدم DNS خاص، لكن المستخدمين الأفراد يستخدمون غالباً مخدمات DNS التي يوفرها ISP التابعين له.
				</para>
				 <indexterm>
					<primary><filename>resolv.conf</filename></primary>
				</indexterm>
				 <indexterm>
					<primary><literal>nameserver</literal></primary>
				</indexterm>
				 <para>
					تبيّن مخدمات DNS التي ستستخدم في <filename dir="ltr">/etc/resolv.conf</filename>، مخدم واحد في كل سطر، مع استخدام الكلمة المفتاحية <literal>nameserver</literal> قبل وضع عنوان IP، كما في المثال التالي:
				</para>
				 
<programlisting>
nameserver 212.27.32.176
nameserver 212.27.32.177
nameserver 8.8.8.8
</programlisting>
				 <para>
					لاحظ أنه يمكن إدارة محتويات الملف <filename>/etc/resolv.conf</filename> (والكتابة فوقها) آلياً إذا كان NetworkManager يدير الشبكة أو كانت الشبكة تأخذ إعداداتها عبر DHCP.
				</para>

			</section>
			 <section id="sect.etc-hosts">
				<title>الملف <filename dir="ltr">/etc/hosts</filename></title>
				 <indexterm>
					<primary><filename>hosts</filename></primary>
				</indexterm>
				 <indexterm>
					<primary><filename>/etc/hosts</filename></primary>
				</indexterm>
				 <para>
					إذا لم يكن هناك مخدم أسماء في الشبكة المحلية، فلا يزال إنشاء جدول صغير يقابل عناوين IP وأسماء المضيفات ممكناً باستخدام الملف <filename dir="ltr">/etc/hosts</filename>، الذي يقتصر عادة على أجهزة الشبكة المحلية. صيغة هذا الملف بسيطة جداً: يبين كل سطر عنوان IP محدد تتبعه قائمة بالأسماء المرتبطة معه (أول اسم يكون ”التوصيف الكامل fully-qualified name“، أي أنه يتضمن اسم النطاق).
				</para>
				 <para>
					هذا الملف متوفر حتى لو أثناء انقطاعات الشبكة أو عدم إمكانية الوصول لمخدمات DNS، لكنه لا يفيد حقاً إلا إذا نسخته إلى جميع الأجهزة على الشبكة. أي تغيير بسيط في التقابلات سيتطلب تحديث الملف في جميع الأماكن. لذلك يقتصر الملف <filename dir="ltr">/etc/hosts</filename> عموماً على أهم المدخلات فقط.
				</para>
				 <para>
					استخدام هذا الملف كاف بالنسبة للشبكات الصغيرة التي لا تتصل بالإنترنت، لكن إذا تجاوز عدد الأجهزة الأربعة، فالأفضل تثبيت مخدم DNS نظامي.
				</para>
				 <sidebar> <title><emphasis>تلميح</emphasis> تجاوز DNS</title>
				 <para>
					بما أن التطبيقات تتحقق من الملف <filename dir="ltr">/etc/hosts</filename> قبل استشارة DNS، فيمكن إضافة معلومات إلى ذلك الملف تختلف عما يرد به مخدم DNS، وبالتالي تجاوز استبيان الأسماء الطبيعي الذي يعتمد على DNS.
				</para>
				 <para>
					هذا يسمح باختبار الوصول لموقع ما باستخدام الاسم المطلوب حتى لو لم يكن هذا الاسم يقابل عنوان IP الصحيح، نتيجة عدم انتشار تغييرات DNS بعد.
				</para>
				 <para>
					من الاستخدامات الأخرى الممكنة إعادة توجيه حركة الشبكة المتجهة إلى مضيف معين إلى المضيف المحلي (localhost)، وبالتالي قطع إمكانية التواصل مع ذلك المضيف. مثلاً، يمكن تحويل أسماء مضيفات المخدمات المخصصة لنشر الإعلانات بهذه الطريقة، وهذا يجعل التصفح أسرع وأقل تشتيتاً بسبب عدم إمكانية تحميل هذه الإعلانات.
				</para>
				 </sidebar>
			</section>

		</section>

	</section>
	 <section id="sect.user-group-databases">
		<title>قواعد بيانات المستخدمين والمجموعات</title>
		 <indexterm>
			<primary>مستخدم</primary>
			<secondary>قاعدة بيانات</secondary>
		</indexterm>
		 <indexterm>
			<primary>مجموعة</primary>
			<secondary>قاعدة بيانات</secondary>
		</indexterm>
		 <indexterm>
			<primary>قاعدة بيانات</primary>
			<secondary>المستخدمين</secondary>
		</indexterm>
		 <indexterm>
			<primary>قاعدة بيانات</primary>
			<secondary>المجموعات</secondary>
		</indexterm>
		 <para>
			تُخزَّن قائمة المستخدمين عادة في الملف <filename dir="ltr">/etc/passwd</filename>، بينما يحوي الملف <filename dir="ltr">/etc/shadow</filename> كلمات السر المشفرة. كل من هذين الملفين ملف نصي، وصيغته بسيطة نسبياً، يمكن قراءته وتعديله باستخدام محرر نصوص. يُذكَر كل مستخدم في تلك الملفات في سطر واحد يحوي عدة حقول تفصلها نقطتان (”<literal>:</literal>“).
		</para>
		 <sidebar> <title><emphasis>ملاحظة</emphasis> تحرير ملفات النظام</title>
		 <para>
			ملفات النظام المذكورة في هذا الفصل كلها ملفات نصية، ويمكن تحريرها باستخدام مجرر نصوص. نظراً لأهميتها لعمل الظائف الأساسية في النظام، يجب أخذ احتياطات إضافية عند تحريرها. أولاً، يجب دائماً نسخ ملفات النظام أو أخذ نسخة احتياطية قبل فتحه و تعديله. ثانياً، يجب اتخاذ خطوات إضافية لمنع تضرر الملفات على المخدمات أو الأجهزة التي يحتمل أن يدخل أكثر من شخص على الملف نفسه في الوقت نفسه.
		</para>
		 <para>
			في تلك الحالة، يكفي استخدام الأمر <command>vipw</command> لتحرير الملف <filename dir="ltr">/etc/passwd</filename>، أو <command>vigr</command> لتحرير <filename dir="ltr">/etc/group</filename>. تقفل هذه الأوامر الملفات المذكورة قبل فتح محرر النصوص، (<command>vi</command> افتراضياً، إلا إذا تعدّل متغير البيئة <varname>EDITOR</varname>). يسمح الخيار <literal dir="ltr">-s</literal> في هذه الأوامر بتحرير ملف <foreignphrase>shadow</foreignphrase> الموافق.
		</para>
		 </sidebar> <sidebar> <title><emphasis>أساسيات</emphasis> Crypt، تابع أحادي الاتجاه</title>
		 <indexterm>
			<primary>crypt</primary>
		</indexterm>
		 <para>
			<command>crypt</command> هو تابع أحادي الاتجاه يحوّل سلسلة نصية (<varname>A</varname>) إلى سلسلة أخرى (<varname>B</varname>) بحيث لا يمكن اشتقاق <varname>A</varname> من <varname>B</varname>. الطريقة الوحيدة للتعرف على <varname>A</varname> هي اختبار جميع القيم المحتملة، ومقارنة ناتج تحويل كل قيمة باستخدام التابع نفسه لمعرفة هل يساوي <varname>B</varname> أم لا. يقبل التابع دخلاً يصل إلى 8 محارف (السلسلة <varname>A</varname>) ويولّد سلسلة من 13 محرف ASCII قابل للطباعة (السلسلة <varname>B</varname>).
		</para>
		 </sidebar> <section id="sect.etc-passwd">
			<title>قائمة المستخدمين: <filename dir="ltr">/etc/passwd</filename></title>
			 <para>
				يحوي الملف <filename dir="ltr">/etc/passwd</filename> الحقول التالية:
			</para>
			 <indexterm>
				<primary><command>passwd</command></primary>
			</indexterm>
			 <indexterm>
				<primary><filename>/etc/passwd</filename></primary>
			</indexterm>
			 <indexterm>
				<primary><literal>uid</literal></primary>
			</indexterm>
			 <indexterm>
				<primary><literal>gid</literal></primary>
			</indexterm>
			 <indexterm>
				<primary><literal>GECOS</literal></primary>
			</indexterm>
			 <indexterm>
				<primary><literal>login</literal></primary>
			</indexterm>
			 <itemizedlist>
				<listitem>
					<para>
						اسم تسجيل الدخول، مثلاً <literal>rhertzog</literal>؛
					</para>

				</listitem>
				 <listitem>
					<para>
						كلمة السر: كلمة السر مشفّرة بتابع أحادي الاتجاه (<command>crypt</command>)، يعتمد على <literal>DES</literal>، أو <literal>MD5</literal>، أو <literal>SHA-256</literal> أو <literal>SHA-512</literal>. تشير القيمة الخاصة ”<literal>x</literal>“ إلى أن الكلمة المشفرة مخزّنة في الملف <filename dir="ltr">/etc/shadow</filename>؛
					</para>

				</listitem>
				 <listitem>
					<para>
						<literal>uid</literal>: رقم تعريف فريد للمستخدم (user id)؛
					</para>

				</listitem>
				 <listitem>
					<para>
						<literal>gid</literal>: رقم التعريف الفريد لمجموعة المستخدم الرئيسة (تنشئ دبيان مجموعة خاصة لكل مستخدم افتراضياً)؛
					</para>

				</listitem>
				 <listitem>
					<para>
						<literal>GECOS</literal>: حقل بيانات يحوي اسم المستخدم الكامل عادة؛
					</para>

				</listitem>
				 <listitem>
					<para>
						مجلد تسجيل الدخول، وهو يُعطى للمستخدم لتخزين ملفاته الشخصية (يشير متغير البيئة <varname dir="ltr">$HOME</varname> إلى هذا المجلد عموماً)؛
					</para>

				</listitem>
				 <listitem>
					<para>
						البرنامج الذي سيُنفَّذ عند تسجيل الدخول. يكون هذا عادة مفسّر أوامر (صَدَفة)، يطلق للمستخدم العنان. إذا وضعت <command>/bin/false</command> هنا (الذي لا يفعل شيئاً ويعيد التحكم مباشرة)، فلن يتمكن المستخدم من الدخول.
					</para>

				</listitem>

			</itemizedlist>
			 <sidebar> <title><emphasis>أساسيات</emphasis> مجموعات يونكس</title>
			 <indexterm>
				<primary>مجموعة</primary>
			</indexterm>
			 <para>
				مجموعة اليونكس هي كيان يتضمن عدة مستخدمين حتى يتمكنون من تشارك الملفات بسهولة عبر نظام الصلاحيات التقليدي (بالاستفادة من امتلاك الصلاحيات نفسها). يمكنك أيضاً حصر استخدام برامج معينة بمستخدمي مجموعة محددة.
			</para>
			 </sidebar>
		</section>
		 <section id="sect.etc-shadow">
			<title>ملف كلمات السر المشفّر والمخفي: <filename dir="ltr">/etc/shadow</filename></title>
			 <indexterm>
				<primary><filename>shadow</filename></primary>
			</indexterm>
			 <indexterm>
				<primary><filename>/etc/shadow</filename></primary>
			</indexterm>
			 <para>
				يحوي ملف <filename dir="ltr">/etc/shadow</filename> الحقول التالية:
			</para>
			 <itemizedlist>
				<listitem>
					<para>
						اسم تسجيل الدخول؛
					</para>

				</listitem>
				 <listitem>
					<para>
						كلمة السر المشفرة؛
					</para>

				</listitem>
				 <listitem>
					<para>
						عدة حقول تتحكم بانتهاء صلاحية كلمة السر.
					</para>

				</listitem>

			</itemizedlist>
			 <sidebar> <title><emphasis>توثيق</emphasis> صيغ الملفات <filename dir="ltr">/etc/passwd</filename> و <filename dir="ltr">/etc/shadow</filename> و <filename dir="ltr">/etc/group</filename></title>
			 <para>
				صيغ هذه الملفات موثّقة في صفحات الدليل التالية: <citerefentry><refentrytitle>passwd</refentrytitle>
				<manvolnum>5</manvolnum></citerefentry>‎ و <citerefentry><refentrytitle>shadow</refentrytitle>
				<manvolnum>5</manvolnum></citerefentry> ‎ و <citerefentry><refentrytitle>group</refentrytitle>
				<manvolnum>5</manvolnum></citerefentry>‎.
			</para>
			 </sidebar> <sidebar> <title><emphasis>أمن</emphasis> أمان الملف <filename dir="ltr">/etc/shadow</filename></title>
			 <para>
				لا يستطيع المستخدمون العاديون قراءة الملف <filename dir="ltr">/etc/shadow</filename>، بخلاف بديله السابق <filename dir="ltr">/etc/passwd</filename>. كلمات السر المخزّنة في <filename dir="ltr">/etc/passwd</filename> مقروءة للجميع؛ وقد يحاول مخترق ما ”كسر“ (أو كشف) إحدى كلمات السر بإحدى أساليب ”brute force القوة العمياء“ التي تحاول ‒ببساطة‒ تخمين الكلمة عبر تجربة تشفير مجموعات من الحروف شائعة الاستخدام. لم يعد هذا الهجوم —الذي يدعى ”dictionary attack“— ممكناً على النظم التي تستخدم <filename dir="ltr">/etc/shadow</filename>.
			</para>
			 </sidebar>
		</section>
		 <section id="sect.account-modification">
			<title>تعديل حساب سابق أو كلمة السر</title>
			 <indexterm>
				<primary><command>chsh</command></primary>
			</indexterm>
			 <indexterm>
				<primary><command>chfn</command></primary>
			</indexterm>
			 <indexterm>
				<primary><command>passwd</command></primary>
			</indexterm>
			 <indexterm>
				<primary><command>chage</command></primary>
			</indexterm>
			 <indexterm>
				<primary>كلمة السر</primary>
			</indexterm>
			 <para>
				يسمح الأمر التالي بتعديل المعلومات المُخزّنة في الحقول الخاصة في قواعد بيانات المستخدمين: يسمح الأمر <command>passwd</command> للمستخدم العادي بتعديل كلمة سره، حيث يحدث الملف <filename dir="ltr">/etc/shadow</filename>؛ أما <command>chfn</command>‏ (CHange Full Name)، الذي يستطيع استخدامه الجذر (root) فقط، يُعدّل الحقل <literal>GECOS</literal>. ويسمح الأمر <command>chsh</command>‏ (CHange SHell) للمستخدم بتغيير صدفة تسجيل الدخول، لكن الخيارات المتاحة محددة حصراً بالخيارات المذكورة في <filename dir="ltr">/etc/shells</filename>؛ أما مدير النظام فلا يخضع لهذا القيد ويستطيع جعل أي برنامج يختاره صدفة تسجيل دخول.
			</para>
			 <para>
				أخيراً، يسمح الأمر <command>chage</command>‏ (CHange AGE) لمدير النظام بتغيير إعدادات انتهاء صلاحية كلمة السر (يعرض الخيار <literal dir="ltr">-l <replaceable>user</replaceable></literal> الوضع الحالي). يمكنك أيضاً فرض انتهاء صلاحية كلمة سر أحد المستخدمين بالأمر <command>passwd -e <replaceable>user</replaceable></command>، الذي سيفرض على المستخدم تغيير كلمة سره في المرة التالية التي يسجل فيها دخوله.
			</para>

		</section>
		 <section id="sect.disabling-account">
			<title>تعطيل حساب</title>
			 <indexterm>
				<primary>تعطيل حساب</primary>
			</indexterm>
			 <indexterm>
				<primary>حساب</primary>
				<secondary>تعطيل</secondary>
			</indexterm>
			 <para>
				قد تحتاج أحياناً ”لتعطيل حساب“ (منع المستخدم من الدخول)، كإجراء تأديبي، أو للتحقيق، أو ببساطة في حال غياب المستخدم لفترة طويلة أو غيابه نهائياً. تعطيل الحساب يعني منع المستخدم من تسجيل الدخول أو الوصول إلى الجهاز. يبقى الحساب على الجهاز كما هو ولا تحذف أي ملفات أو بيانات؛ لكن ببساطة لا يمكن الوصول إليها. يتم هذا باستخدام الأمر <command>passwd -l <replaceable>user</replaceable></command> (للقفل lock). أما إعادة تفعيل الحساب فتتم بطريقة مشابهة، عبر استخدام الخيار <literal dir="ltr">-u</literal> (فك القفل unlock).
			</para>
			 <sidebar id="sidebar.intro-nss"> <title><emphasis>التعمق أكثر</emphasis> NSS وقواعد بيانات النظام</title>
			 <indexterm>
				<primary>NSS</primary>
			</indexterm>
			 <indexterm>
				<primary>Name Service Switch</primary>
			</indexterm>
			 <para>
				بدلاً من استخدام الملفات العادية لإدارة قوائم المستخدمين والمجموعات، يمكنك استخدام أنواع أخرى من قواعد البيانات، مثل LDAP أو <command>db</command>، وذلك عن طريق استخدام وحدة NSS‏ (Name Service Switch) المناسبة. تحدد الوحدات المستخدمة في الملف <filename dir="ltr">/etc/nsswitch.conf</filename>، في المدخلات <literal>passwd</literal> و <literal>shadow</literal> و <literal>group</literal>. انظر <xref linkend="sect.config-nss" /> لمثال خاص عن استخدام LDAP لوحدة NSS.
			</para>
			 </sidebar>
		</section>
		 <section id="sect.etc-group">
			<title>قائمة المجموعات: <filename dir="ltr">/etc/group</filename></title>
			 <para>
				تسرد المجموعات في الملف <filename dir="ltr">/etc/group</filename>، وهو قاعدة بيانات نصية بسيطة صيغتها تشبه صيغة الملف <filename dir="ltr">/etc/passwd</filename>، وتحوي الحقول التالية:
			</para>
			 <itemizedlist>
				<listitem>
					<para>
						اسم المجموعة؛
					</para>

				</listitem>
				 <listitem>
					<para>
						كلمة السر (اختياري): تستخدم فقط عند محاولة انضمام مستخدم غير عضو إلى المجموعة (باستخدام الأمر <command>newgrp</command> أو الأمر <command>sg</command>، انظر الملاحظة الجانبية <xref linkend="sidebar.working-with-several-groups" />)؛
					</para>

				</listitem>
				 <listitem>
					<para>
						<literal>gid</literal>: رقم تعريف فريد للمجموعة (group id)؛
					</para>

				</listitem>
				 <listitem>
					<para>
						لائحة الأعضاء: قائمة بأسماء المستخدمين أعضاء المجموعة، تفصل أسماؤهم بفواصل (”,“).
					</para>

				</listitem>

			</itemizedlist>
			 <para>
			</para>
			 <sidebar id="sidebar.working-with-several-groups"> <title><emphasis>أساسيات</emphasis> العمل مع عدة مجموعات</title>
			 <indexterm>
				<primary><command>newgrp</command></primary>
			</indexterm>
			 <indexterm>
				<primary><command>sg</command></primary>
			</indexterm>
			 <indexterm>
				<primary><command>id</command></primary>
			</indexterm>
			 <indexterm>
				<primary>مجموعة</primary>
				<secondary>تغيير</secondary>
			</indexterm>
			 <para>
				قد ينتمي كل مستخدم لعدة مجموعات؛ أحدها تكون ”المجموعة الرئيسية“. تنشأ مجموعة المستخدم الرئيسة ‒ افتراضياً ‒ أثناء الإعداد الأولي للمستخدم. افتراضياً، ينتمي كل ملف ينشئه المستخدم للمستخدم نفسه، كما ينتمي لمجموعته الرئيسة أيضاً. هذا ليس مرغوباً دائماً؛ إذا كان المستخدم يحتاج أن يعمل في مجلد مشترك مع مجموعة تختلف عن مجموعته الرئيسة مثلاً. في تلك الحالة، على المستخدم تغيير مجموعته الرئيسة باستخدام أحد الأوامر التالية: <command>newgrp</command>، الذي يفتح صدفة جديدة، أو <command>sg</command> الذي يُنفّذ أمراً واحداً باستخدام المجموعة البديلة المعطاة ببساطة. تسمح هذه الأوامر أيضاً للمستخدم بالانضمام لمجموعة لا ينتمي إليها. إذا كانت المجموعة محمية بكلمة سر، فعلى المستخدم كتابة كلمة السر المناسبة قبل تنفيذ الأمر.
			</para>
			 <para>
				أو يستطيع المستخدم تفعيل البت <literal>setgid</literal> على المجلد بدلاً من ذلك، وهذا يجعل الملفات المنشأة في ذلك المجلد تنتمي آلياً للمجموعة الحالية. لمزيد من التفاصيل، انظر الملاحظة الجانبية <xref linkend="sidebar.setgid-dir" />.
			</para>
			 <para>
				يعرض الأمر <command>id</command> الوضع الحالي للمستخدم، مع المعرّف الشخصي للمستخدم (المتغير <varname>uid</varname>)، والمجموعة الرئيسة الحالية (المتغير <varname>gid</varname>)، ولائحة المجموعات التي ينتمي إليها المستخدم (المتغير <varname>groups</varname>).
			</para>
			 </sidebar> <indexterm>
				<primary><filename>group</filename></primary>
			</indexterm>
			 <indexterm>
				<primary><filename>/etc/group</filename></primary>
			</indexterm>
			 <para>
				The <command>addgroup</command> and <command>delgroup</command> commands add or delete a group, respectively. The <command>groupmod</command> command modifies a group's information (its <literal>gid</literal> or identifier). The command <command>gpasswd <replaceable>group</replaceable></command> changes the password for the group, while the <command>gpasswd -r <replaceable>group</replaceable></command> command deletes it.
			</para>
			 <indexterm>
				<primary><command>addgroup</command></primary>
			</indexterm>
			 <indexterm>
				<primary><command>delgroup</command></primary>
			</indexterm>
			 <indexterm>
				<primary><command>groupmod</command></primary>
			</indexterm>
			 <indexterm>
				<primary><command>gpasswd</command></primary>
			</indexterm>
			 <indexterm>
				<primary>مجموعة</primary>
				<secondary>إنشاء</secondary>
			</indexterm>
			 <indexterm>
				<primary>إنشاء</primary>
				<secondary>المجموعات</secondary>
			</indexterm>
			 <indexterm>
				<primary>مجموعة</primary>
				<secondary>حذف</secondary>
			</indexterm>
			 <indexterm>
				<primary>حذف مجموعة</primary>
			</indexterm>
			 <sidebar> <title><emphasis>تلميح</emphasis> <command>getent</command></title>
			 <indexterm>
				<primary><command>getent</command></primary>
			</indexterm>
			 <para>
				يتحقق الأمر <command>getent</command>‏ (get entries) من قواعد بيانات النظام بالطريقة القياسية، مستخدماً دوال المكتبات المناسبة، التي تستدعي بدورها وحدات NSS المحددة في الملف <filename dir="ltr">/etc/nsswitch.conf</filename>. يأخذ الأمر متغيراً واحداً أو متغيرين: اسم قاعدة البيانات التي يراد التحقق منها، ومفتاح البحث المطلوب. بالتالي، يعطي الأمر <command>getent passwd rhertzog</command> المعلومات من قاعدة بيانات المستخدمين التي تتعلق بالمستخدم <literal>rhertzog</literal>.
			</para>
			 </sidebar>
		</section>

	</section>
	 <section id="sect.creating-accounts">
		<title>إنشاء الحسابات</title>
		 <indexterm>
			<primary>حساب</primary>
			<secondary>إنشاء</secondary>
		</indexterm>
		 <indexterm>
			<primary>إنشاء</primary>
			<secondary>حسابات المستخدمين</secondary>
		</indexterm>
		 <para>
			أحد أولى الأمور التي يحتاج مدير النظام إجرائها عند إعداد جهاز جديد هو إنشاء حسابات المستخدمين. يتم هذا نموذجياً عبر الأمر <command>adduser</command> الذي يأخذ كمتغير اسم المستخدم الجديد الذي سينشئه.
		</para>
		 <indexterm>
			<primary><command>adduser</command></primary>
		</indexterm>
		 <para>
			يطرح الأمر <command>adduser</command> بضعة أسئلة قبل إنشاء الحساب، لكن استخدامه بسيط إلى حد ما. يتضمن ملف الضبط <filename dir="ltr">/etc/adduser.conf</filename> جميع الإعدادات المهمة: يمكن استخدامه لتخصيص حصة لكل مستخدم جديد من خلال إنشاء قالب للمستخدمين، أو تغيير موقع حسابات المستخدمين؛ هذا لا يفيد إلا نادراً، لكنه ينفع عندما يكون هناك عدد كبير من المستخدمين وتريد تقسيم حساباتهم بين عدة أقراص، مثلاً. يمكنك أيضاً اختيار صَدَفة افتراضية مختلفة.
		</para>
		 <sidebar> <title><emphasis>أساسيات</emphasis> الحصة</title>
		 <indexterm>
			<primary>الحصة</primary>
		</indexterm>
		 <para>
			يشير المصطلح ”حصة quota“ إلى الحد الذي يسمح للمستخدم باستهلاكه من موارد النظام. غالباً ما يستخدم المصطلح للإشارة إلى الحصص التخزينية.
		</para>
		 </sidebar> <para>
			يسبب إنشاء الحساب نسخ محتويات القالب <filename>/etc/skel/</filename> إلى مجلد بيت المستخدم. هذا يعطي المستخدم مجموعة من المجلدات القياسية وملفات الإعداد.
		</para>
		 <indexterm>
			<primary>مجموعة</primary>
			<secondary>إضافة مستخدم</secondary>
		</indexterm>
		 <indexterm>
			<primary>إضافة مستخدم إلى مجموعة</primary>
		</indexterm>
		 <para>
			في بعض الحالات، قد تفيد إضافة المستخدم إلى مجموعة ما (عدا عن مجموعته ”الرئيسية“ الافتراضية) لمنحه صلاحيات إضافية. مثلاً، يستطيع المستخدم الذي ينتمي للمجموعة <emphasis>audio</emphasis> الوصول لأجهزة الصوت (انظر الملاحظة الجانبية <xref linkend="sidebar.special-files" />). يمكن تحقيق هذا باستخدام أمر يشبه <command>adduser <replaceable>user</replaceable> <replaceable>group</replaceable></command>.
		</para>
		 <sidebar id="sidebar.special-files"> <title><emphasis>أساسيات</emphasis> صلاحيات الوصول للأجهزة</title>
		 <indexterm>
			<primary>جهاز</primary>
			<secondary>صلاحيات الوصول</secondary>
		</indexterm>
		 <indexterm>
			<primary>ملف</primary>
			<secondary>خاص</secondary>
		</indexterm>
		 <indexterm>
			<primary>وضع</primary>
			<secondary>محرفي</secondary>
		</indexterm>
		 <indexterm>
			<primary>وضع</primary>
			<secondary>كتلي</secondary>
		</indexterm>
		 <indexterm>
			<primary>كتلي، وضع</primary>
		</indexterm>
		 <indexterm>
			<primary>محرفي، وضع</primary>
		</indexterm>
		 <indexterm>
			<primary>خاص، ملف</primary>
		</indexterm>
		 <indexterm>
			<primary><command>mknod</command></primary>
		</indexterm>
		 <para>
			يُمثَّل كل جهاز عتاد ملحق في نظام يونكس بملف خاص، يُخزَّن عادة في شجرة ملفات في المجلد <filename>/dev/</filename> (DEVices أي الأجهزة). هناك نوعان من الملفات الخاصة حسب طبيعة الجهاز: ملفات ”الوضع المحرفي“ و ملفات ”الوضع الكتلي“، وكل وضع يسمح بعدد محدود فقط من العمليات. في حين يقيد الوضع المحرفي التفاعلات مع الملف ويحصرها بعمليتي القراءة والكتابة فقط، يسمح الوضع الكتلي أيضاً بالتنقّل (seek) ضمن البيانات المتاحة. أخيراً، يرتبط كل ملف خاص برقمين (”كبير major“ و ”صغير minor“) يحددان الجهاز بدقة للنواة. ليست هذه الملفات التي تنشأ بالأمر <command>mknod</command> إلا أسماء رمزية تسهل الوصول للمستخدم.
		</para>
		 <para>
			تتناسب صلاحيات الوصول للملف الخاص مع الصلاحيات اللازمة للوصول إلى الجهاز نفسه. بالتالي، تمنح صلاحيات القراءة والكتابة على الملف <filename dir="ltr">/dev/mixer</filename>، الذي يمثل معادل (mixer) الصوت، للمستخدم الجذر فقط وأعضاء المجموعة <literal>audio</literal>. يستطيع هؤلاء المستخدمون فقط استعمال معادل الصوت.
		</para>
		 <para>
			يجب الانتباه إلى أن الجمع بين <emphasis role="pkg">udev</emphasis> و <emphasis role="pkg">consolekit</emphasis> و <emphasis role="pkg">policykit</emphasis> يمكن أن يعطي صلاحيات إضافية للمستخدمين المتصلين بالطرفية فيزيائياً (وليس عبر الشبكة) للسماح لهم بالوصول إلى بعض الأجهزة.
		</para>
		 </sidebar>
	</section>
	 <section id="sect.shell-environment">
		<title>بيئة الصدفة</title>
		 <para>
			لعل مفسرات الأوامر (أو الصدفات) هي نقاط التماس الأولى بين المستخدم والحاسوب، ولذلك يجب أن تكون أليفة نوعاً ما. تستخدم معظم مفسرات الأوامر سكربتات تهيئة تسمح بضبط سلوكها (الإكمال التلقائي، نص المحث، الخ).
		</para>
		 <indexterm>
			<primary>واجهة نصيّة</primary>
		</indexterm>
		 <indexterm>
			<primary>مفسر سطر الأوامر</primary>
		</indexterm>
		 <indexterm>
			<primary>صدَفة</primary>
		</indexterm>
		 <indexterm>
			<primary><command>bash</command></primary>
		</indexterm>
		 <para>
			تستخدم الصدفة الافتراضية <command>bash</command> سكربت التهيئة <filename dir="ltr">/etc/bash.bashrc</filename> بالنسبة للصدفات ”التفاعلية interactive“، و <filename dir="ltr">/etc/profile</filename> لصدفات ”الدخول login“.
		</para>
		 <sidebar> <title><emphasis>أساسيات</emphasis> صدفات الدخول والصدفات (غير) التفاعلية</title>
		 <para>
			بكلمات بسيطة، صدفة الدخول هي الصدفة التي تستدعى عندما تسجل دخولك إلى الطرفية، إما محلياً أو عن بعد باستخدام <command>ssh</command>، أو عندما تستدعي الأمر <command>bash --login</command> صراحة. قد تكون الصدفة تفاعلية (في طرفية من نوع <command>xterm</command> مثلاً)، أو غير تفاعلية (عند تنفيذ سكربت) بغض النظر عما إذا كانت صدفة دخول أم لا.
		</para>
		 </sidebar> <sidebar> <title><emphasis>استكشاف</emphasis> صدفات أخرى وسكربتات أخرى</title>
		 <para>
			Each command interpreter has a specific syntax and its own configuration files. Thus, <command>zsh</command> uses <filename>/etc/zshrc</filename> and <filename>/etc/zshenv</filename>; <command>tcsh</command> uses <filename>/etc/csh.cshrc</filename>, <filename>/etc/csh.login</filename> and <filename>/etc/csh.logout</filename>. The man pages for these programs document which files they use.
		</para>
		 <indexterm>
			<primary><command>zsh</command></primary>
		</indexterm>
		 <indexterm>
			<primary><command>tcsh</command></primary>
		</indexterm>
		 </sidebar> <para>
			بالنسبة للمفسر <command>bash</command>، سيفيدك تفعيل ”الإكمال التلقائي“ في الملف <filename dir="ltr">/etc/bash.bashrc</filename> (فقط أزل التعليق عن بضعة أسطر).
		</para>
		 <sidebar> <title><emphasis>أساسيات</emphasis> الإكمال التلقائي</title>
		 <indexterm>
			<primary>الإكمال التلقائي</primary>
		</indexterm>
		 <para>
			توفر معظم مفسرات الأوامر ميزة الإكمال، التي تسمح للصدفة بإكمال اسم أمر أو متغير مكتوب جزئياً آلياً عندما يضغط المستخدم المفتاح <keycap>Tab</keycap>. يزيد هذا فاعلية عمل المستخدمين ويقلل الأخطاء.
		</para>
		 <para>
			This function is very powerful and flexible. It is possible to configure its behavior according to each command. Thus, the first argument following <command>apt</command> will be proposed according to the syntax of this command, even if it does not match any file (in this case, the possible choices are <literal>install</literal>, <literal>remove</literal>, <literal>upgrade</literal>, etc.).
		</para>
		 </sidebar> <sidebar> <title><emphasis>أساسيات</emphasis> التيلدا، اختصار للبيت</title>
		 <indexterm>
			<primary>~</primary>
		</indexterm>
		 <indexterm>
			<primary>تيلدا</primary>
		</indexterm>
		 <para>
			غالباً ما تستخدم التيلدا (~) للإشارة إلى المجلد الذي يشير إليه متغير البيئة <varname>HOME</varname> (وهو مجلد بيت المستخدم، مثل <filename>/home/rhertzog/</filename>). تستبدل مفسرات الأوامر هذا الرمز آلياً: حيث تتحول <filename dir="ltr">~/hello.txt</filename> إلى <filename dir="ltr">/home/rhertzog/hello.txt</filename>.
		</para>
		 <para>
			كما تسمح التيلدا أيضاً بالوصول إلى مجلد بيت مستخدم آخر. بالتالي، يمكن كتابة <filename dir="ltr">~rmas/bonjour.txt</filename> بدلاً من كتابة <filename dir="ltr">/home/rmas/bonjour.txt</filename>.
		</para>
		 </sidebar> <para>
			بالإضافة إلى هذه السكربتات المشتركة، يستطيع كل مستخدم إنشاء <filename dir="ltr">~/.bashrc</filename> و <filename dir="ltr">~/.bash_profile</filename> خاصة به لضبط الصدفة التي يستعملها. أكثر التغييرات شيوعاً هي إضافة أسماء مستعارة للأوامر؛ وهي كلمات تُستبدَل باستدعاء لأمر ما آلياً، وهذا يُسرّع استدعاء ذلك الأمر. مثلاً، يمكنك إنشاء الاسم المستعار <literal>la</literal> للأمر <command>ls -la | less</command>؛ بعدها، كلما طبعت <literal>la</literal> سوف تسرد محتويات المجلدات بالتفصيل.
		</para>
		 <sidebar> <title><emphasis>أساسيات</emphasis> متغيرات البيئة</title>
		 <indexterm>
			<primary>بيئة</primary>
			<secondary>متغير بيئة</secondary>
		</indexterm>
		 <indexterm>
			<primary>متغير، بيئة</primary>
		</indexterm>
		 <para>
			تسمح متغيرات البيئة بتخزين إعدادات عامة للصدفة أو البرامج المختلفة التي تُستَدعى. هذه المتغيرات سياقية (بمعنى أن كل عملية لها مجموعة خاصة من متغيرات البيئة) لكنها موروثة. هذه الخاصة الأخيرة تسمح لصدفة الدخول بالتصريح عن المتغيرات التي ستمرر إلى جميع البرامج التي تنفذها.
		</para>
		 </sidebar> <para>
			ضبط متغيرات البيئة الافتراضية عنصر مهم في ضبط الصدفة. يُفضّل وضع متغيرات البيئة في الملف <filename dir="ltr">/etc/environment</filename>، إلا المتغيرات الخاصة بالصدفة، لأن هناك برامج متنوعة يحتمل أن تبدأ جلسة أوامر تستخدمه. من المتغيرات التي تُعرّف نموذجياً <varname>ORGANIZATION</varname> الذي يحوي عادة اسم الشركة أو المنظّمة، و <varname>HTTP_PROXY</varname> الذي يشير لوجود بروكسي HTTP ويحدد موقعه.
		</para>
		 <sidebar> <title><emphasis>تلميح</emphasis> ضبط كل الصدفات معاً</title>
		 <para>
			غالباً يختار المستخدمون ضبط صدفة الدخول والصدفات التفاعلية بالشكل نفسه. لعمل ذلك، يجب طلب تفسير (أو ”source تضمين“) محتوى <filename dir="ltr">~/.bashrc</filename> من الملف <filename dir="ltr">~/.bash_profile</filename>. يمكن فعل الشيء نفسه بالملفات المشتركة بين جميع المستخدمين (استدعاء <filename dir="ltr">/etc/bash.bashrc</filename> من <filename dir="ltr">/etc/profile</filename> ).
		</para>
		 </sidebar>
	</section>
	 <section id="sect.config-printing">
		<title>ضبط الطابعات</title>
		 <indexterm>
			<primary>ضبط</primary>
			<secondary>طباعة</secondary>
		</indexterm>
		 <indexterm>
			<primary>طباعة</primary>
			<secondary>إعداد</secondary>
		</indexterm>
		 <para>
			لقد كان إعداد الطابعات يسبب متاعب كثيرة لمديري النظم والمستخدمين على حد سواء، لكن معظم هذه المتاعب الآن مجرد ذكرى من الماضي، وذلك بفضل <emphasis role="pkg">cups</emphasis>، مخدم الطباعة الحر الذي يستخدم بروتوكول IPP‏ (Internet Printing Protocol، أو بروتوكول الطباعة عبر الإنترنت).
		</para>
		 <indexterm>
			<primary>IPP</primary>
		</indexterm>
		 <indexterm>
			<primary>Internet Printing Protocol</primary>
		</indexterm>
		 <indexterm>
			<primary><command>cups</command></primary>
		</indexterm>
		 <para>
			This program is divided over several Debian packages: <emphasis role="pkg">cups</emphasis> is the central print server; <emphasis role="pkg">cups-bsd</emphasis> is a compatibility layer allowing use of commands from the traditional BSD printing system (<command>lpd</command> daemon, <command>lpr</command> and <command>lpq</command> commands, etc.); <emphasis role="pkg">cups-client</emphasis> contains a group of programs to interact with the server (block or unblock a printer, view or delete print jobs in progress, etc.); and finally, <emphasis role="pkg">printer-driver-gutenprint</emphasis> contains a collection of additional printer drivers for <command>cups</command>.
		</para>
		 <indexterm>
			<primary><command>lpr</command></primary>
		</indexterm>
		 <indexterm>
			<primary><command>lpd</command></primary>
		</indexterm>
		 <indexterm>
			<primary><command>lpq</command></primary>
		</indexterm>
		 <sidebar> <title><emphasis>مجتمع</emphasis> CUPS</title>
		 <indexterm>
			<primary>CUPS</primary>
		</indexterm>
		 <indexterm>
			<primary>Common Unix Printing System</primary>
		</indexterm>
		 <para>
			CUPS‏ (Common Unix Printing System، أو نظام الطباعة الموحد في يونكس) هو مشروع (وعلامة تجارية) تديره شركة Apple. <ulink type="block" url="http://www.cups.org/" />
		</para>
		 </sidebar> <para>
			بعد تثبيت هذه الحزم المختلفة، يمكن إدارة <emphasis>cups</emphasis> بسهولة عبر واجهة وب متاحة على العنوان المحلي: <literal dir="ltr">http://localhost:631/</literal>. يمكنك من هناك إضافة الطابعات (بما فيها الطابعات الشبكية)، وإزالتها، وإدارتها. يمكنك أيضاً إدارة <emphasis>cups</emphasis> باستخدام الواجهة الرسومية التي توفرها بيئة سطح المكتب. أخيراً، هناك أيضاً الواجهة الرسومية <command>system-config-printer</command> (في الحزمة الدبيانية ذات الاسم نفسه).
		</para>
		 <indexterm>
			<primary><command>cups</command></primary>
			<secondary>إدارة</secondary>
		</indexterm>
		 <sidebar> <title><emphasis>ملاحظة</emphasis> انتهاء صلاحية الملف <filename dir="ltr">/etc/printcap</filename></title>
		 <para>
			<emphasis>cups</emphasis> no longer uses the <filename>/etc/printcap</filename> file, which is now obsolete. Programs that rely upon this file to get a list of available printers will, thus, fail. To avoid this problem, delete this file and make it a symbolic link (see sidebar <xref linkend="sidebar.symbolic-link" />) to <filename>/run/cups/printcap</filename>, which is maintained by <emphasis>cups</emphasis> to ensure compatibility.
		</para>
		 <indexterm>
			<primary><filename>printcap</filename></primary>
		</indexterm>
		 </sidebar>
	</section>
	 <section id="sect.config-bootloader">
		<title>ضبط محمّل الإقلاع</title>
		 <indexterm>
			<primary>محمّل</primary>
			<secondary>محمّل الإقلاع</secondary>
		</indexterm>
		 <indexterm>
			<primary>محمّل الإقلاع</primary>
		</indexterm>
		 <para>
			الأغلب أن محمّل الإقلاع يعمل بشكل سليم، لكن من الجيد دوماً معرفة طريقة إعداد وتثبيت مُحمِّل الإقلاع في حال اختفى من سجل الإقلاع الرئيسي، خصوصاً بعد تثبيت نظام تشغيل آخر، مثل ويندوز. قد تساعدك المعلومات التالية على تعديل إعدادات محمل الإقلاع إذا احتجت لذلك.
		</para>
		 <sidebar> <title><emphasis>أساسيات</emphasis> سجل الإقلاع الرئيسي</title>
		 <indexterm>
			<primary>MBR</primary>
		</indexterm>
		 <indexterm>
			<primary>سجل الإقلاع الرئيسي</primary>
		</indexterm>
		 <para>
			يحجز سجل الإقلاع الرئيسي (Master Boot Record، واختصاراً MBR) أول 512 بايت من بداية القرص الصلب الأول، وهو أول شيء يُحمّله BIOS لتسليم التحكم إلى برنامج قادر على إقلاع نظام التشغيل المطلوب. بشكل عام، يُثبَّت محمل الإقلاع في MBR، مستبدلاً محتوياته السابقة.
		</para>
		 </sidebar> <section id="sect.identify-disks">
			<title>التعرف على الأقراص</title>
			 <sidebar> <title><emphasis>ثقافة</emphasis> <emphasis>udev</emphasis> و <filename>/dev/</filename></title>
			 <para>
				يستضيف المجلد <filename>/dev/</filename> تقليدياً ما يدعى بالملفات ”الخاصة“، التي تُمثّل ملحقات النظام (انظر الملاحظة الجانبية <xref linkend="sidebar.special-files" />). كان هذا المجلد، في سالف العصر والأوان، يحوي جميع الملفات الخاصة التي يحتمل أن تُستخدَم. كان لهذه الطريقة عدد من المساوئ منها أنها كانت تُقيّد عدد الأجهزة التي نستطيع استخدامها (نتيجة تثبيت قائمة الأسماء)، كما كانت معرفة أي الملفات الخاصة التي تفيد فعلاً مستحيلة.
			</para>
			 <para>
				أما اليوم، فإدارة هذه الملفات الخاصة ديناميكية بالكامل وتتناسب أكثر مع طبيعة الملحقات الحاسوبية التي تدعم التبديل الساخن (hot-swap). تنسّق النواة مع <emphasis>udev</emphasis> لإنشاء أو حذف هذه الملفات حسب الحاجة عند ظهور الجهاز الموافق أو اختفائه. لهذ السبب، لا يحتاج <filename>/dev/</filename> لأن يكون مستديماً (persistent)، بل هو نظام ملفات يقع في الذاكرة RAM يبدأ فارغاً ويحوي المدخلات المناسبة فقط.
			</para>
			 <para>
				تعطي النواة معلومات كثيرة عن أي جهاز يضاف حديثاً وتسلم زوجاً من الأرقام (major/minor) للتعرف عليه. تستطيع خدمة <command>udevd</command> باستخدام هذه المعلومات إنشاء ملف خاص بالاسم والصلاحيات التي تريدها. كما يمكنها أيضاً إنشاء أسماء مستعارة وتنفيذ إجراءات إضافية (مثل مهمات تهيئة أو تسجيل). يتحدد سلوك <command>udevd</command> بمجموعة كبيرة من القواعد (القابلة للتخصيص).
			</para>
			 <para>
				نتيجة استخدام الأسماء المعينة ديناميكياً، يمكنك الحفاظ على الاسم نفسه لجهاز معين بغض النظر عن الناقل المستخدم أو ترتيب التوصيل، وهذا مفيد خصوصاً عند استخدام ملحقات USB متنوعة. يمكن إعطاء القسم الأول من القرص الصلب الأول الاسم <filename>/dev/sda1</filename> للحفاظ على التوافقية العكسية، أو الاسم <filename>/dev/root-partition</filename> إذا أحببت، أو الاثنين معاً لأنه يمكن إعداد <command>udevd</command> بحيث تنشئ روابط رمزية تلقائياً.
			</para>
			 <para>
				في الأيام الغابرة، كانت بعض وحدات النواة تُحمّل عند محاولة الوصول لملف الجهاز الموفق لها. لكن هذا تغير الآن، فالملفات الخاصة الموافقة للملحقات لا تظهر قبل تحميل الوحدات؛ وهذه ليست قضية تذكر، لأن معظم الوحدات تُحمَّل عند الإقلاع بفضل الاستكشاف الآلي للعتاد. لكن هذا لا يعمل مع الملحقات التي لا تكتشف (مثل سواقات الأقراص القديمة جداً أو فأرات PS/2). تستطيع إضافة الوحدات <literal>floppy</literal> و <literal>psmouse</literal> و <literal>mousedev</literal> إلى <filename dir="ltr">/etc/modules</filename> حتى تجبر النواة على تحميلها عند الإقلاع.
			</para>
			 </sidebar> <indexterm>
				<primary>قرص صلب، تسمية</primary>
			</indexterm>
			 <indexterm>
				<primary>أسماء</primary>
				<secondary>الأقراص الصلبة</secondary>
			</indexterm>
			 <para>
				يجب أن تُميّز إعدادات محمّل الإقلاع الأقراص الصلبة وأقسامها المختلفة. تستخدم لينكس ملفات ”كتلية block“ خاصة لهذا الغرض، مُخزَّنة في المجلد <filename dir="ltr">/dev/</filename>. منذ دبيان <emphasis role="distribution">سكويز</emphasis>، وَحَّدَت النواة لينكس أسلوب التسمية، وأصبحت جميع سواقات الأقراص الصلبة (IDE/PATA،‏ SATA،‏ SCSI،‏ USB،‏ IEEE 1394) تُمثّل الآن بملفات <filename dir="ltr">/dev/sd*</filename>.
			</para>
			 <para>
				يمثّل كل قسم برقمه على القرص الذي يحويه: مثلاً، <filename dir="ltr">/dev/sda1</filename> هو القسم الأول من القرص الأول، و <filename dir="ltr">/dev/sdb3</filename> هو القسم الثالث على القرص الثاني.
			</para>
			 <indexterm>
				<primary>قسم</primary>
				<secondary>أولي</secondary>
			</indexterm>
			 <indexterm>
				<primary>قسم</primary>
				<secondary>ممتد</secondary>
			</indexterm>
			 <indexterm>
				<primary>قسم</primary>
				<secondary>ثانوي</secondary>
			</indexterm>
			 <indexterm>
				<primary>جدول تقسيم</primary>
				<secondary>صيغة MS-DOS</secondary>
			</indexterm>
			 <para>
				كانت معمارية الحواسيب الشخصية PC (أو ”i386“ وقريبتها الفتية ”amd64“ أيضاً) مقيّدة لفترة طويلة باستخدام صيغة ”MS-DOS“ لجداول التقسيم، التي لا تسمح بأكثر من أربع أقسام ”أولية primary“ لكل قرص. لتجاوز هذا القيد عند استخدام صيغة التقسيم هذه، يجب إنشاء أحد هذه الأقسام الأربعة كقسم ”ممتد extended“، وعندها يمكن أن يحوي هذا القسم أقساماً ”ثانوية secondary“ إضافية. يبدأ ترقيم هذه الأقسام الثانوية من الرقم 5. أي أن القسم الثانوي الأول قد يكون <filename dir="ltr">/dev/sda5</filename>، يتبعه <filename dir="ltr">/dev/sda6</filename>، الخ.
			</para>
			 <para>
				من القيود الأخرى التي تعاني منها جداول تقسيم MS-DOS هي أنها لا تسمح بسعات أقراص تتجاوز 2 تيبي بايت، وهذه باتت مشكلة حقيقية مع الأقراص الحديثة.
			</para>
			 <indexterm>
				<primary>GPT</primary>
				<secondary>صيغة جدول تقسيم</secondary>
			</indexterm>
			 <indexterm>
				<primary>جدول تقسيم</primary>
				<secondary>صيغة GPT</secondary>
			</indexterm>
			 <para>
				ظهرت صيغة تقسيم جديدة تدعى GPT تخفف القيود على عدد الأقسام (حيث تسمح بتقسيم القرص إلى 128 قسم عند استخدام الإعدادات الافتراضية) وعلى مساحة الأقراص (تسمح بالوصول إلى 8 زيتي-بايت، وهذا يزيد عن 8 مليار تيرابايت). إذا كنت تنوي إنشاء أقسام فيزيائية عديدة على القرص نفسه، عليك التأكد من إنشاء جدول التقسيم بصيغة GPT عند تقسيم القرص.
			</para>
			 <para>
				ليس سهلاً دائماً أن تتذكر أي قرص يتصل بأي متحكم SATA، أو أي قرص هو الثالث في سلسلة SCSI، خصوصاً وأن تسمية الأقراص الصلبة التي تدعم التوصيل الساخن (وهذا يشمل معظم أقراص SATA والأقراص الخارجية وغيرها) قد تتغير بعد إعادة الإقلاع. لحسن الحظ، ينشئ <command>udev</command> روابطاً رمزية أسماؤها ثابتة بالإضافة إلى <filename dir="ltr">/dev/sd*</filename>، يمكنك استخدامها إذا كنت تريد تعريف القرص الصلب بطريقة غير غامضة. تُخزَّن هذه الروابط الرمزية في <filename dir="ltr">/dev/disk/by-id</filename>. يمكن أن تجد التالي مثلاً على جهاز فيه قرصين فيزيائيين.
			</para>
			 
<screen><computeroutput>mirexpress:/dev/disk/by-id# </computeroutput><userinput>ls -l
</userinput><computeroutput>total 0
lrwxrwxrwx 1 root root  9 23 jul. 08:58 ata-STM3500418AS_9VM3L3KP -&gt; ../../sda
lrwxrwxrwx 1 root root 10 23 jul. 08:58 ata-STM3500418AS_9VM3L3KP-part1 -&gt; ../../sda1
lrwxrwxrwx 1 root root 10 23 jul. 08:58 ata-STM3500418AS_9VM3L3KP-part2 -&gt; ../../sda2
[...]
lrwxrwxrwx 1 root root  9 23 jul. 08:58 ata-WDC_WD5001AALS-00L3B2_WD-WCAT00241697 -&gt; ../../sdb
lrwxrwxrwx 1 root root 10 23 jul. 08:58 ata-WDC_WD5001AALS-00L3B2_WD-WCAT00241697-part1 -&gt; ../../sdb1
lrwxrwxrwx 1 root root 10 23 jul. 08:58 ata-WDC_WD5001AALS-00L3B2_WD-WCAT00241697-part2 -&gt; ../../sdb2
[...]
lrwxrwxrwx 1 root root  9 23 jul. 08:58 scsi-SATA_STM3500418AS_9VM3L3KP -&gt; ../../sda
lrwxrwxrwx 1 root root 10 23 jul. 08:58 scsi-SATA_STM3500418AS_9VM3L3KP-part1 -&gt; ../../sda1
lrwxrwxrwx 1 root root 10 23 jul. 08:58 scsi-SATA_STM3500418AS_9VM3L3KP-part2 -&gt; ../../sda2
[...]
lrwxrwxrwx 1 root root  9 23 jul. 08:58 scsi-SATA_WDC_WD5001AALS-_WD-WCAT00241697 -&gt; ../../sdb
lrwxrwxrwx 1 root root 10 23 jul. 08:58 scsi-SATA_WDC_WD5001AALS-_WD-WCAT00241697-part1 -&gt; ../../sdb1
lrwxrwxrwx 1 root root 10 23 jul. 08:58 scsi-SATA_WDC_WD5001AALS-_WD-WCAT00241697-part2 -&gt; ../../sdb2
[...]
lrwxrwxrwx 1 root root  9 23 jul. 16:48 usb-LaCie_iamaKey_3ed00e26ccc11a-0:0 -&gt; ../../sdc
lrwxrwxrwx 1 root root 10 23 jul. 16:48 usb-LaCie_iamaKey_3ed00e26ccc11a-0:0-part1 -&gt; ../../sdc1
lrwxrwxrwx 1 root root 10 23 jul. 16:48 usb-LaCie_iamaKey_3ed00e26ccc11a-0:0-part2 -&gt; ../../sdc2
[...]
lrwxrwxrwx 1 root root  9 23 jul. 08:58 wwn-0x5000c50015c4842f -&gt; ../../sda
lrwxrwxrwx 1 root root 10 23 jul. 08:58 wwn-0x5000c50015c4842f-part1 -&gt; ../../sda1
[...]
mirexpress:/dev/disk/by-id# </computeroutput></screen>
			 <para>
				لاحظ أن بعض الأقراص قد ذكرت عدة مرات (لأنها تتصرف كأقراص ATA و SCSI في آن معاً)، لكن المعلومات المهمة هي موديل القرص ورقمه التسلسلي أساساً، التي تتيح لك التعرف على ملف الجهاز الملحق.
			</para>
			 <para>
				تعتمد ملفات الضبط المعطاة في الأمثلة في الأقسام التالية على هذا الإعداد نفسه: قرص SATA وحيد، حيث يحوي القسم الأول نسخة ويندوز سابقة والثاني يحوي دبيان غنو/لينكس.
			</para>

		</section>
		 <section id="sect.config-lilo">
			<title>ضبط LILO</title>
			 <indexterm>
				<primary>LILO</primary>
			</indexterm>
			 <indexterm>
				<primary>Linux Loader</primary>
			</indexterm>
			 <para>
				<emphasis>LILO</emphasis>‏ (Linux Bootloader، أو مُحمِّل لينكس) هو أقدم محمّل إقلاع — صلب لكنه صدئ. يعتمد LILO على كتابة العنوان الفيزيائي للنواة التي ستقلع في MBR، ولهذا يجب أن تتبع كل تحديث لها (أو لملف إعدادات LILO) بالأمر <command>lilo</command>. إذا نسيت عمل ذلك سيعجز النظام عن الإقلاع إذا أزيلت النواة القديمة أو استبدلت لأن النواة الجديدة لن تكن في الموقع نفسه على القرص.
			</para>
			 <para>
				ملف إعدادات LILO هو <filename dir="ltr">/etc/lilo.conf</filename>؛ المثال التالي يبين ملفاً بسيطاً يحوي إعدادات قياسية.
			</para>
			 <example id="example.lilo.conf">
				<title>ملف إعداد LILO</title>
				 
<programlisting>
# The disk on which LILO should be installed.
# By indicating the disk and not a partition.
# you order LILO to be installed on the MBR.
boot=/dev/sda
# the partition that contains Debian
root=/dev/sda2
# the item to be loaded by default
default=Linux

# the most recent kernel image
image=/vmlinuz
  label=Linux
  initrd=/initrd.img
  read-only

# Old kernel (if the newly installed kernel doesn't boot)
image=/vmlinuz.old
  label=LinuxOLD
  initrd=/initrd.img.old
  read-only
  optional

# only for Linux/Windows dual boot
other=/dev/sda1
  label=Windows
</programlisting>

			</example>

		</section>
		 <section id="sect.config-grub">
			<title>ضبط GRUB 2</title>
			 <indexterm>
				<primary>GRUB</primary>
			</indexterm>
			 <indexterm>
				<primary>GRUB 2</primary>
			</indexterm>
			 <para>
				<emphasis>GRUB</emphasis>‏ (Grand Unified Bootloader ، أو مُحمِّل الإقلاع الموحد الكبير) هو محمّل إقلاع أحدث. لا يشترط استدعاؤه بعد كل تحديث للنواة؛ إذ أن <emphasis>GRUB</emphasis> يعرف كيف يقرأ نظم الملفات ويعثر على القسم الذي يحوي النواة على القرص وحده. لتثبيت <emphasis>GRUB</emphasis> على MBR القرص الأول، فقط اطبع <command>grub-install /dev/sda</command>. <indexterm><primary><command>grub-install</command></primary></indexterm>
			</para>
			 <sidebar> <title><emphasis>ملاحظة</emphasis> أسماء الأقراص من وجهة نظر GRUB</title>
			 <para>
				يستطيع GRUB التعرف على الأقراص الصلبة اعتماداً على المعلومات التي يوفرها BIOS فقط. يوافق <literal>(hd0)</literal> القرص الأول حسب ترتيب الاكتشاف، و <literal>(hd1)</literal> يوافق القرص الثاني، الخ. في معظم الحالات، يتفق هذا الترتيب تماماً مع ترتيب الأقراص المعتاد في لينكس، لكن قد تحدث مشاكل إذا جمعت أقراص IDE مع أقراص SCSI. يُخزِّن GRUB العلاقات التي يكتشفها في الملف <filename dir="ltr">/boot/grub/device.map</filename>. إذا وجدت أخطاءً هناك (لأنك تعرف أن BIOS يكتشف الأقراص بترتيب مختلف)، صححها يدوياً واستدع <command>grub-install</command> ثانية. يمكن أن يساعدك <command>grub-mkdevicemap</command> على إنشاء ملف <filename>device.map</filename> أولي للبدء منه.
			</para>
			 <para>
				للأقسام أيضاً أسماء خاصة في GRUB. عند استخدام الأقسام ”الكلاسيكية“ بصيغة MS-DOS، يدعى القسم الأول بالاسم <literal>(hd0,msdos1)</literal>، والثاني <literal>(hd0,msdos2)</literal>، الخ.
			</para>
			 </sidebar> <para>
				GRUB 2 configuration is stored in <filename>/boot/grub/grub.cfg</filename>, but this file (in Debian) is generated from others. Be careful not to modify it by hand, since such local modifications will be lost the next time <command>update-grub</command> is run (which may occur upon update of various packages). The most common modifications of the <filename>/boot/grub/grub.cfg</filename> file (to add command line parameters to the kernel or change the duration that the menu is displayed, for example) are made through the variables in <filename>/etc/default/grub</filename>. To add entries to the menu, you can either create a <filename>/boot/grub/custom.cfg</filename> file or modify the <filename>/etc/grub.d/40_custom</filename> file. For more complex configurations, you can modify other files in <filename>/etc/grub.d</filename>, or add to them; these scripts should return configuration snippets, possibly by making use of external programs. These scripts are the ones that will update the list of kernels to boot: <filename>10_linux</filename> takes into consideration the installed Linux kernels; <filename>20_linux_xen</filename> takes into account Xen virtual systems, and <filename>30_os-prober</filename> lists other operating systems (Windows, OS X, Hurd).
			</para>

		</section>
		 <section id="sect.config-yaboot">
			<title>خاص بحواسيب ماكنتوش (PowerPC): ضبط Yaboot</title>
			 <indexterm>
				<primary><command>yaboot</command></primary>
			</indexterm>
			 <para>
				Yaboot هو محمل الإقلاع الذي تستخدمه حواسيب ماكنتوش القديمة التي تستخدم معالجات PowerPC. لا تقلع هذه الحواسيب كالحواسيب الشخصية PC، بل تعتمد على قسم إقلاع (‎“bootstrap” partition)، يُنفّذ منه BIOS (أو OpenFirmware) محمل الإقلاع، ويثبت البرنامج <command>ybin</command> المحمل <command>yaboot</command> وملف إعداداته على ذلك القسم. تحتاج إعادة تشغيل هذا الأمر فقط في حال تعديل <filename dir="ltr">/etc/yaboot.conf</filename> (الذي يُنسَخ على قسم الإقلاع، ويَعرِفُ <command>yaboot</command> طريقة العثور على مواقع النَوَى على الأقراص).
			</para>
			 <para>
				يجب أن تملك ملف <filename dir="ltr">/etc/yaboot.conf</filename> سليم قبل استدعاء <command>ybin</command>. فيما يلي مثالاً عن إعدادات أصغرية. <indexterm><primary><command>ybin</command></primary></indexterm>
			</para>
			 <example id="example.yaboot.conf">
				<title>ملف إعداد Yaboot</title>
				 
<programlisting>
# bootstrap partition
boot=/dev/sda2
# the disk
device=hd:
# the Linux partition
partition=3
root=/dev/sda3
# boot after 3 seconds of inactivity
# (timeout is in tenths of seconds)
timeout=30

install=/usr/lib/yaboot/yaboot
magicboot=/usr/lib/yaboot/ofboot
enablecdboot

# last kernel installed
image=/vmlinux
        label=linux
        initrd=/initrd.img
        read-only

# old kernel
image=/vmlinux.old
        label=old
        initrd=/initrd.img.old
        read-only

# only for Linux/Mac OSX dual-boot
macosx=/dev/sda5

# bsd=/dev/sdaX and macos=/dev/sdaX
# are also possible
</programlisting>

			</example>

		</section>

	</section>
	 <section id="sect.config-misc">
		<title>الإعدادات الأخرى: مزامنة الوقت، السجلات، مشاركة الوصول…</title>
		 <para>
			تفيدك معرفة العناصر العديدة المذكورة في هذا القسم إذا كنت تريد إتقان جميع نواحي ضبط نظم غنو/لينكس. لكننا سنشرحها باختصار على أي حال، وسوف نشير غالباً للوثائق المناسبة.
		</para>
		 <section id="sect.timezone">
			<title>المنطقة الزمنية</title>
			 <indexterm>
				<primary>منطقة زمنية</primary>
			</indexterm>
			 <sidebar id="sidebar.symbolic-link"> <title><emphasis>أساسيات</emphasis> الروابط الرمزية</title>
			 <indexterm>
				<primary>رابط</primary>
				<secondary>رمزي</secondary>
			</indexterm>
			 <indexterm>
				<primary>رابط رمزي</primary>
			</indexterm>
			 <indexterm>
				<primary><command>ln</command></primary>
			</indexterm>
			 <para>
				الرابط الرمزي (symbolic link) هو مؤشر لملف آخر. عندما تفتحه، سوف يفتح الملف الذي يشير إليه. لا تسبب إزالة الرابط حذف الملف الذي يشير له. كما أن الرابط لا يملك مجموعة صلاحيات خاصة به، بل يحتفظ بصلاحيات الهدف بدلاً من ذلك. أخيراً، يستطيع الرابط الرمزي الإشارة لأي نوع من الملفات: الملفات الخاصة (المقابس الشبكية، الأنابيب المسمّاة، ملفات الأجهزة، الخ)، أو المجلدات، أو حتى الروابط الرمزية الأخرى.
			</para>
			 <para>
				ينشئ الأمر <command>ln -s <replaceable>target</replaceable> <replaceable>link-name</replaceable></command> رابطاً رمزياً، اسمه <replaceable>link-name</replaceable>، يشير إلى <replaceable>target</replaceable>.
			</para>
			 <para>
				إذا لم يكن الهدف موجوداً، عندها يكون الرابط ”معطوباً broken“ وسينتج عن محاولة فتحه خطأ يبيّن أن الملف الهدف غير موجود. إذا أشار الرابط إلى رابط آخر، ستحصل على ”سلسلة“ من الروابط التي تتحول إلى ”حلقة cycle“ إذا كان أحد الأهداف يشير إلى أحد أسلافه في السلسلة. في هذه الحالة، سينتج عن فتح أحد الروابط في الحلقة خطأ خاص (”مستويات الروابط الرمزية كثيرة جداً“)؛ هذا يعني استسلام النواة بعد عدة دورات في الحلقة.
			</para>
			 </sidebar> <para>
				المنطقة الزمنية، التي تضبط أثناء التثبيت الأولي، هي أحد إعدادات الحزمة <emphasis role="pkg">tzdata</emphasis>. لتعديلها، استخدم الأمر <command>dpkg-reconfigure tzdata</command>، الذي يسمح لك باختيار المنطقة الزمنية التي تريد استخدامها بطريقة تفاعلية. تُخزَّن الإعدادات في الملف <filename dir="ltr">/etc/timezone</filename>. بالإضافة لذلك، ينسخ الملف الموافق للمنطقة المختارة من المجلد <filename dir="ltr">/usr/share/zoneinfo</filename> إلى <filename dir="ltr">/etc/localtime</filename>؛ يحوي هذا الملف القواعد التي تحكم التواريخ التي يعتمد فيها التوقيت الصيفي، في الدول التي تستخدم هذا التوقيت.
			</para>
			 <indexterm>
				<primary><filename>timezone</filename></primary>
			</indexterm>
			 <indexterm>
				<primary><filename>/etc/timezone</filename></primary>
			</indexterm>
			 <indexterm>
				<primary><filename>zoneinfo</filename></primary>
			</indexterm>
			 <indexterm>
				<primary><filename>/usr/share/zoneinfo/</filename></primary>
			</indexterm>
			 <indexterm>
				<primary>DST</primary>
			</indexterm>
			 <indexterm>
				<primary>التوقيت الصيفي</primary>
			</indexterm>
			 <para>
				عندما تحتاج تعديل المنطقة الزمنية مؤقتاً، استخدم متغير البيئة <varname>TZ</varname>، فأولوية هذا المتغير أعلى من القيمة الافتراضية المعطاة للنظام.
			</para>
			 <indexterm>
				<primary><varname>TZ</varname></primary>
			</indexterm>
			 
<screen id="screen.tz">
<computeroutput>$ </computeroutput><userinput>date</userinput>
<computeroutput>Thu Feb 19 11:25:18 CET 2015</computeroutput>
<computeroutput>$ </computeroutput><userinput>TZ="Pacific/Honolulu" date</userinput>
<computeroutput>Thu Feb 19 00:25:21 HST 2015</computeroutput></screen>
			 <sidebar> <title><emphasis>ملاحظة</emphasis> ساعة النظام، ساعة العتاد</title>
			 <para>
				هناك مصدرين للوقت في الحاسوب. تحوي اللوحة الأم في الحاسوب ساعة عتادية، تدعى ”ساعة CMOS“. هذه الساعة غير دقيقة تماماً، وقراءة قيمتها بطيئة نوعاً ما. تحوي نواة النظام ساعة برمجية خاصة بها، التي تحافظ النواة على قيمتها الصحيحة بأساليب خاصة (قد تستعين بمخدمات زمنية مثلاً، انظر <xref linkend="sect.time-synchronization" />). ساعة النظام هذه أدق عموماً، خاصةً أنها لا تحتاج الولوج إلى متغيرات عتادية. لكن بما أنها تعيش فقط في الذاكرة الحية، فهي تصفر كلما أقلع الجهاز، بعكس ساعة CMOS، التي تزود ببطارية وبالتالي ”تنجو“ من عمليات إعادة الإقلاع أو إيقاف تشغيل الجهاز. بالتالي، تأخذ ساعة النظام قيمتها من ساعة CMOS أثناء الإقلاع، وتُحدَّث قيمة ساعة CMOS عند إيقاف التشغيل (لتسجيل أي تغييرات أو تصحيحات إذا كانت قيمتها السابقة غير مضبوطة بشكل صحيح).
			</para>
			 <para>
				عملياً، هناك مشكلة، لأن ساعة COS ليست إلا عداداً لا يملك أي معلومات عن المنطقة الزمنية. هناك مجال للاختيار بخصوص تفسير قيمة هذا العداد: إما أن يعتبر النظامُ أن العداد يعطي قيمة التوقيت العالم (UTC، سابقاً GMT)، أو التوقيت المحلي. قد يكون هذا الخيار مجرد إزاحة بسيطة، لكن الأمور أعقد من ذلك حقيقة: فهذه الإزاحة ليست ثابتة. نتيجة استخدام التوقيت الصيفي. بالتالي، لا يملك النظام طريقة يحدد فيها صحة هذه الإزاحة، خصوصاً في الأيام القريبة من فترة تغيير التوقيت. بما أن حساب التوقيت المحلي ممكن دوماً عند معرفة التوقيت العالمي ومعلومات المنطقة الزمنية، فنحن ننصح بشدة ضبط ساعة CMOS على التوقيت العالمي.
			</para>
			 <para>
				لسوء الحظ، تتجاهل نظم ويندوز في إعداداتها الافتراضية هذه التوصية، وتضبط ساعة CMOS على التوقيت المحلي، وتُغيّر التوقيت عند إقلاع الحاسوب عبر محاولة أن تخمن هل طُبِّقت التغييرات على التوقيت فعلاً أم لا في أوقات تغيير التوقيت الصيفي. يعمل هذا الأسلوب بشكل جيد نسبياً، طالما أن الجهاز يعمل بنظام ويندوز فقط. لكن عندما يحوي الحاسوب عدة أنظمة (سواء عبر إعداد ”إقلاع مزدوج“ أو تشغيل نظم أخرى باستخدام حواسيب ظاهرية)، تحدث فوضى، ولا تبقى هناك وسيلة لمعرفة صحة الوقت. إذا كنت مضطراً لإبقاء ويندوز على الحاسوب، عليك أن تضبطه بحيث يترك ساعة CMOS على توقيت UTC (عبر ضبط قيمة مفتاح الريجستري <literal>HKLM\SYSTEM\CurrentControlSet\Control\TimeZoneInformation\RealTimeIsUniversal</literal> إلى ”1“ كقيمة DWORD)، أو أن تستخدم <command>hwclock --localtime --set</command> على نظام دبيان لضبط الساعة العتادية ووضع علامة تتبع التوقيت المحلي عليها (وتأكد من فحص الساعة يدوياً في الربيع والخريف).
			</para>
			 </sidebar>
		</section>
		 <section id="sect.time-synchronization">
			<title>مزامنة التوقيت</title>
			 <indexterm>
				<primary>مزامنة التوقيت</primary>
			</indexterm>
			 <indexterm>
				<primary>ساعة</primary>
				<secondary>مزامنة</secondary>
			</indexterm>
			 <para>
				مزامنة التوقيت، التي يبدو استخدامها على حاسوب واحد إسرافاً، مهمة جداً في الشبكات. بما أن المستخدمين لا يستطيعون تعديل التاريخ والوقت، فمن المهم الحفاظ على دقة هذه المعلومات لمنع الارتباك. بالإضافة لذلك، تسمح مزامنة جميع الحواسيب على الشبكة بمقاطعة معلومات السجلات من عدة أجهزة. وبالتالي، إذا حدث هجوم، يسهل إعادة بناء التسلسل الزمني للأحداث التي جرت على الأجهزة المختلفة التي شملها الاختراق. كما أن البيانات التي تجمعها من عدة أجهزة للأغراض الإحصائية لن تفيد كثيراً إذا لم تكن متزامنة.
			</para>
			 <sidebar> <title><emphasis>أساسيات</emphasis> NTP</title>
			 <indexterm>
				<primary>NTP</primary>
			</indexterm>
			 <indexterm>
				<primary>شبكة</primary>
				<secondary>بروتوكول التوقيت</secondary>
			</indexterm>
			 <para>
				يسمح NTP‏ (Network Time Protocol، أو بروتوكول توقيت الشبكات) للأجهزة بالمزامنة مع غيرها بدقة مقبولة، مع اعتبار التأخيرات الناتجة عن نقل المعلومات عبر الشبكة وغيرها من الانزياحات المحتملة.
			</para>
			 <para>
				رغم أن هناك مخدمات NTP عديدة على الإنترنت، إلا أن أشهر هذه المخدمات قد تكون محمّلة بشكل زائد، لذلك ننصح باستخدام المخدم <emphasis>pool.ntp.org</emphasis> وهو في الحقيقة مجموعة من الأجهزة التي اتفقت لتعمل كمخدمات NTP عامة. بل يمكنك أيضاً تحديد الاستخدام بمجموعة فرعية خاصة بدولة ما، باستخدام <emphasis>us.pool.ntp.org</emphasis> للولايات المتحدة مثلاً، أو <emphasis>ca.pool.ntp.org</emphasis> بالنسبة لكندا، الخ.
			</para>
			 <para>
				لكن إذا كنت تدير شبكة كبيرة، فمن الأفضل تثبيت مخدم NTP خاص، الذي سيتزامن مع المخدمات العامة. في هذه الحالة، تستطيع جميع الأجهزة الأخرى على شبكتك استخدام مخدم NTP الداخلي الخاص بك بدلاً من زيادة الحمل على المخدمات العامة. كما أنك ستزيد من تجانس الساعات، لأن جميع الأجهزة ستتزامن مع مصدر واحد، قريب منها جداً من ناحية أزمنة نقل المعلومات عبر الشبكة.
			</para>
			 </sidebar> <section id="sect.ntp-on-workstations">
				<title>لمحطات العمل</title>
				 <para>
					بما أن محطات العمل يعاد تشغيلها باستمرار (حتى لو كان ذلك لتوفير الطاقة فقط)، تكفي مزامنتها مع NTP عند الإقلاع. لعمل ذلك، فقط ثبّت الحزمة <emphasis role="pkg">ntpdate</emphasis>. يمكنك تغيير مخدم NTP المستعمل إذا احتجت ذلك عبر تعديل الملف <filename dir="ltr">/etc/default/ntpdate</filename>.
				</para>
				 <indexterm>
					<primary><filename>ntpdate</filename></primary>
				</indexterm>
				 <indexterm>
					<primary><filename>/etc/default/ntpdate</filename></primary>
				</indexterm>

			</section>
			 <section id="sect.ntp-on-servers">
				<title>للمخدمات</title>
				 <para>
					لا يعاد تشغيل المخدمات إلا نادراً، ومن المهم جداً أن تكون ساعة النظام فيها صحيحة. للحفاظ على الوقت دقيقاً دوماً عليك تثبيت مخدم NTP محلي، وهذه الخدمة توفرها الحزمة <emphasis role="pkg">ntp</emphasis>. حسب الإعدادات الافتراضية، سوف يتزامن المخدم مع <emphasis>pool.ntp.org</emphasis> وسيعطي الوقت رداً على الطلبات التي ترد من الشبكة المحلية. يمكنك ضبطه من خلال تعديل الملف <filename dir="ltr">/etc/ntp.conf</filename>، أكثر التعديلات أهمية هي مخدم NTP الذي يشير إليه. إذا كانت الشبكة تحوي مخدمات كثيرة، فقد يفيدك تجهيز مخدم NTP محلي واحد يتزامن مع المخدمات العامة واستخدامه كمصدر لضبط الوقت على المخدمات الأخرى في الشبكة.
				</para>
				 <indexterm>
					<primary><emphasis role="pkg">ntp</emphasis></primary>
				</indexterm>
				 <indexterm>
					<primary>مخدم</primary>
					<secondary>NTP</secondary>
				</indexterm>
				 <indexterm>
					<primary>NTP</primary>
					<secondary>مخدم</secondary>
				</indexterm>
				 <sidebar> <title><emphasis>التعمق أكثر</emphasis> وحدات GPS ومصادر التوقيت الأخرى</title>
				 <indexterm>
					<primary>GPS</primary>
				</indexterm>
				 <indexterm>
					<primary>DCF-77</primary>
				</indexterm>
				 <para>
					إذا كانت مزامنة الوقت حاسمة جداً لشبكتك، فيمكنك تزود أحد المخدمات بوحدة GPS (التي سوف تحصل على قيمة الوقت من أقمار GPS الصناعية) أو وحدة DCF-77 (التي ستزامن التوقيت مع ساعة ذرية تقع قرب فرانكفورت بألمانيا). في هذه الحالة، سيكون إعداد مخدم NTP أعقد قليلاً، وعليك حتماً التحقق من الوثائق قبل أن تبدأ.
				</para>
				 </sidebar>
			</section>

		</section>
		 <section id="sect.rotation-logs">
			<title>تدوير سجلات الملفات</title>
			 <indexterm>
				<primary>ملفات</primary>
				<secondary>سجلات، تدوير</secondary>
			</indexterm>
			 <indexterm>
				<primary>سجلات</primary>
				<secondary>ملفات، تدوير</secondary>
			</indexterm>
			 <indexterm>
				<primary>تدوير ملفات السجلات</primary>
			</indexterm>
			 <indexterm>
				<primary><command>logrotate</command></primary>
			</indexterm>
			 <para>
				قد تكبر ملفات السجلات، سريعاً، ومن الضروري أرشفتها. أكثر الأساليب شيوعاً هو الأرشيف الدوّار: حيث تؤرشف ملفات السجلات بصورة منتظمة، ويحتفظ فقط بآخر <replaceable>X</replaceable> من الأرشيفات. يتبع <command>logrotate</command>، وهو البرنامج المسؤول عن هذا التدوير، التعليمات التوجيهية المعطاة في الملف <filename dir="ltr">/etc/logrotate.conf</filename> وجميع الملفات في المجلد <filename>/etc/logrotate.d/</filename>. يستطيع مدير النظام تعديل هذه الملفات، إذا أراد تخصيص سياسة تدوير السجلات التي تعتمدها دبيان. تشرح صفحة الدليل <citerefentry><refentrytitle>logrotate</refentrytitle>
				 <manvolnum>1</manvolnum></citerefentry>‎ جميع الخيارات المتاحة في ملفات الإعداد هذه. قد تريد زيادة عدد الملفات التي يحتفظ بها في دورة السجلات، أو نقل ملفات السجلات إلى مجلد معين خاص بأرشفة السجلات بدلاً من حذفها. يمكنك أيضاً إرسالها بالبريد الإلكتروني لأرشفتها في مكان آخر.
			</para>
			 <para>
				يُنفِّذ برنامج الجدولة <command>cron</command> (المشروح في <xref linkend="sect.task-scheduling-cron-atd" />) برنامج <command>logrotate</command> يومياً.
			</para>

		</section>
		 <section id="sect.sharing-admin-rights">
			<title>تشارك صلاحيات الإدارة</title>
			 <indexterm>
				<primary>حساب</primary>
				<secondary>حساب المدير</secondary>
			</indexterm>
			 <indexterm>
				<primary>جذر</primary>
			</indexterm>
			 <indexterm>
				<primary><command>sudo</command></primary>
			</indexterm>
			 <para>
				في كثير من الأحيان، يعمل عدة مديري نظم على الشبكة نفسها. تشارك كلمة سر الجذر ليس حلاً أنيقاً، كما يفتح باب إساءة استخدام الصلاحيات نتيجة ضياع شخصية أصحاب التعديلات في هذا النوع من التشارك. يكمن حل هذه المشكلة في البرنامج <command>sudo</command>، الذي يسمح لمستخدمين محددين تنفيذ أوامر محددة بصلاحيات خاصة. في أكثر الحالات شيوعاً، يسمح <command>sudo</command> لمستخدم ثقة بتنفيذ أي أمر بصلاحية الجذر. لعمل ذلك، يستدعي المستخدم الأمر <command>sudo <replaceable>command</replaceable></command> ويوثق شخصيته باستخدام كلمة سره الخاصة.
			</para>
			 <para>
				عند تثبيت الحزمة <emphasis role="pkg">sudo</emphasis>، سوف تعطي صلاحيات الجذر الكاملة لأعضاء المجموعة <literal>sudo</literal>. لتوكيل صلاحيات أخرى، يجب أن يستخدم مدير النظام الأمر <command>visudo</command>، الذي يسمح له بتعديل ملف الضبط <filename dir="ltr">/etc/sudoers</filename> (هنا أيضاً، سوف يستدعى المحرر <command>vi</command> أو أي محرر آخر يحدده متغير البيئة <varname>EDITOR</varname>). تسمح إضافة سطر يحوي <literal><replaceable>username</replaceable> ALL=(ALL) ALL</literal> للمستخدم المذكور بتنفيذ أي أمر بصلاحية الجذر.
			</para>
			 <indexterm>
				<primary><command>visudo</command></primary>
			</indexterm>
			 <indexterm>
				<primary><filename>sudoers</filename></primary>
			</indexterm>
			 <indexterm>
				<primary><filename>/etc/sudoers</filename></primary>
			</indexterm>
			 <para>
				تسمح الإعدادات الأعقد من هذه بالسماح بتنفيذ أوامر محددة لمستخدمين معينين. جميع تفاصيل الاحتمالات الممكنة معطاة في صفحة الدليل <citerefentry><refentrytitle>sudoers</refentrytitle>
				 <manvolnum>5</manvolnum></citerefentry>‎.
			</para>

		</section>
		 <section id="sect.fstab-mount-points">
			<title>قائمة نقاط الربط</title>
			 <indexterm>
				<primary>ربط، نقطة</primary>
			</indexterm>
			 <indexterm>
				<primary>نقطة ربط</primary>
			</indexterm>
			 <sidebar> <title><emphasis>أساسيات</emphasis> الربط وفك الربط</title>
			 <para>
				في نظم يونكس مثل دبيان، تُنظّم الملفات في هرمية مجلدات وحيدة كشكل شجرة. يدعى المجلد <filename>/</filename> ”بالمجلد الجذر“؛ كل المجلدات الإضافية هي مجلدات فرعية من هذا الجذر. ”الربط“ (mounting) هو تضمين محتويات جهاز ملحق (قرص صلب غالباً) في شجرة الملفات العامة الخاصة بالنظام. نتيجة لذلك، إذا كنت تستخدم قرصاً صلباً منفصلاً لتخزين بيانات المستخدمين الشخصية، يجب ”ربط“ هذا القرص مع المجلد <filename>/home/</filename>. تربط النواة نظام الملفات الجذر دائماً عند الإقلاع؛ أما الأجهزة الأخرى فتربط غالباً في وقت لاحق من عملية بدء التشغيل أو يدوياً باستخدام الأمر <command>mount</command>.
			</para>
			 <indexterm>
				<primary><command>mount</command></primary>
			</indexterm>
			 <para>
				Some removable devices are automatically mounted when connected, especially when using the GNOME, Plasma or other graphical desktop environments. Others have to be mounted manually by the user. Likewise, they must be unmounted (removed from the file tree). Normal users do not usually have permission to execute the <command>mount</command> and <command>umount</command> commands. The administrator can, however, authorize these operations (independently for each mount point) by including the <literal>user</literal> option in the <filename>/etc/fstab</filename> file.
			</para>
			 <para>
				يمكن استخدام الأمر <command>mount</command> دون متغيرات (عندها سيسرد جميع نظم الملفات المربوطة). أما البارمترات التالية فهي خاصة بعملية ربط أو فك ربط جهاز ما. للحصول على قائمة كاملة بهذه الخيارات، فضلاً ارجع إلى صفحتي الدليل المناسبتين، <citerefentry><refentrytitle>mount</refentrytitle>
				 <manvolnum>8</manvolnum></citerefentry> ‎و <citerefentry><refentrytitle>umount</refentrytitle>
				 <manvolnum>8</manvolnum></citerefentry>. ‎في الحالات البسيطة، تكون الصيغة بسيطة أيضاً: مثلاً، لربط القسم <filename dir="ltr">/dev/sdc1</filename>، الذي يحوي نظام الملفات ext3، مع المجلد <filename>/mnt/tmp/</filename>، يكفيك أن تُنفِّذ الأمر <command dir="ltr">mount -t ext3 /dev/sdc1 /mnt/tmp/</command> ببساطة.
			</para>
			 </sidebar> <para>
				يحوي الملف <filename dir="ltr">/etc/fstab</filename> قائمة بجميع عمليات الربط التي تحدث إما آلياً عند الإقلاع أو يدوياً بالنسبة للأجهزة القابلة للإزالة. كل نقطة ربط توصف بسطر فيه عدة حقول تفصلها مسافات: <indexterm><primary><filename>fstab</filename></primary></indexterm> <indexterm><primary><filename>/etc/fstab</filename></primary></indexterm>
			</para>
			 <itemizedlist>
				<listitem>
					<para>
						file system: this indicates where the filesystem to be mounted can be found, it can be a local device (hard drive partition, CD-ROM) or a remote filesystem (such as NFS).
					</para>
					 <para>
						يستبدل هذ الحقل في أحيان كثيرة برقم التعريف الفريد لنظام الملفات (الذي يمكنك معرفته باستخدام <command>blkid <userinput>device</userinput></command>) تسبقه <literal dir="ltr">UUID=</literal>. هذا يحمي من تغيّرات اسم الجهاز في حال إضافة أو إزالة الأقراص، أو إذا اكتشفت الأقراص في ترتيب مختلف.
					</para>

				</listitem>
				 <listitem>
					<para>
						نقطة الربط: الموقع على نظام الملفات المحلي حيث سيربط الجهاز، أو نظام الملفات البعيد، أو القسم.
					</para>

				</listitem>
				 <listitem>
					<para>
						النوع: يحدد هذا الحقل نظام الملفات المستخدم على الجهاز البعيد. بعض الأمثلة تشمل <literal>ext4</literal>،‏ <literal>ext3</literal>،‏ <literal>vfat</literal>،‏ <literal>ntfs</literal>،‏ <literal>btrfs</literal>،‏ <literal>xfs</literal>.
					</para>
					 <sidebar> <title><emphasis>أساسيات</emphasis> NFS، نظام ملفات شبكي</title>
					 <para>
						NFS هو نظام ملفات شبكي؛ يسمح هذا النظام في بيئة لينكس بالوصول الشفاف إلى الملفات البعيدة عبر ضمّها إلى نظام الملفات المحلي.
					</para>
					 </sidebar> <para>
						هناك قائمة كاملة بنظم الملفات المعروفة في صفحة الدليل <citerefentry><refentrytitle>mount</refentrytitle>
						 <manvolnum>8</manvolnum></citerefentry>‎. القيمة الخاصة <literal>swap</literal> هي لأقسام التبديل (الذاكرة الظاهرية)؛ والقيمة الخاصة <literal>auto</literal> تطلب من البرنامج <command>mount</command> التعرف على نظام الملفات آلياً (وهذا مفيد خصوصاً مع قارئات الأقراص ومفاتيح USB، لأن كل منها قد يحوي نظام ملفات مختلف)؛
					</para>

				</listitem>
				 <listitem>
					<para>
						خيارات: هناك خيارات كثيرة، حسب نظام الملفات، وهي موثقة في صفحة الدليل <command>mount</command>. أكثر الخيارات شيوعاً هي
					</para>
					 <itemizedlist>
						<listitem>
							<para>
								<literal>rw</literal> أو <literal>ro</literal>، التي تعني أن الجهاز سيربط مع صلاحيات القراءة والكتابة أو صلاحيات القراءة فقط على الترتيب.
							</para>

						</listitem>
						 <listitem>
							<para>
								<literal>noauto</literal> يعطل الربط الآلي عند الإقلاع.
							</para>

						</listitem>
						 <listitem>
							<para>
								<literal>nofail</literal> يسمح بمتابعة الإقلاع حتى في حال عدم وجود الجهاز. تأكد من إضافة هذا الخيار للأجهزة الخارجية التي قد تكون مفصولة عند الإقلاع، لأن <command>systemd</command> لا يسمح لعملية الإقلاع بالاكتمال إلى نهايتها ما لم يضمن تماماً ربط جميع نقاط الربط التي يجب ربطها تلقائياً. لاحظ أنك تستطيع جمع هذا الخيار مع <literal>x-systemd.device-timeout=5s</literal> لإخبار <command>systemd</command> بعدم انتظار ظهور الجهاز لأكثر من 5 ثوان (انظر <citerefentry><refentrytitle>systemd.mount</refentrytitle>
								<manvolnum>5</manvolnum></citerefentry>‎).
							</para>

						</listitem>
						 <listitem>
							<para>
								<literal>user</literal> يسمح لكل المستخدمين بربط نظام الملفات هذا (بدون هذا الخيار لن يسمح إلا للمستخدم الجذر بإجراء هذه العملية).
							</para>

						</listitem>
						 <listitem>
							<para>
								<literal>defaults</literal> يعني مجموعة الخيارات الافتراضية: <literal>rw</literal>،‏ <literal>suid</literal>،‏ <literal>dev</literal>،‏ <literal>exec</literal>،‏ <literal>auto</literal>،‏ <literal>nouser</literal> و <literal>async</literal> ويمكن تعطي أي منها بعد خيار <literal>defaults</literal> عبر إضافة <literal>nosuid</literal>،‏ <literal>nodev</literal> وغيرها لتعطيل خياري <literal>suid</literal>،‏ <literal>dev</literal> الخ. إضافة الخيار <literal>user</literal> يعيد تفعيله، إذ أن <literal>defaults</literal> تتضمن خيار <literal>nouser</literal>.
							</para>

						</listitem>

					</itemizedlist>

				</listitem>
				 <listitem>
					<para>
						dump: this field is almost always set to <literal>0</literal>. When it is <literal>1</literal>, it tells the <command>dump</command> tool that the partition contains data that is to be backed up.
					</para>

				</listitem>
				 <listitem>
					<para>
						pass: this last field indicates whether the integrity of the filesystem should be checked on boot, and in which order this check should be executed. If it is <literal>0</literal>, no check is conducted. The root filesystem should have the value <literal>1</literal>, while other permanent filesystems get the value <literal>2</literal>.
					</para>

				</listitem>

			</itemizedlist>
			 <example id="example.fstab">
				<title>مثال عن الملف <filename dir="ltr">/etc/fstab</filename></title>
				 
<programlisting>
# /etc/fstab: static file system information.
#
# &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;
proc            /proc           proc    defaults        0       0
# / was on /dev/sda1 during installation
UUID=c964222e-6af1-4985-be04-19d7c764d0a7 / ext3 errors=remount-ro 0 1
# swap was on /dev/sda5 during installation
UUID=ee880013-0f63-4251-b5c6-b771f53bd90e none swap sw  0       0
/dev/scd0       /media/cdrom0   udf,iso9660 user,noauto 0       0
/dev/fd0        /media/floppy   auto    rw,user,noauto  0       0
arrakis:/shared /shared         nfs     defaults        0       0
</programlisting>

			</example>
			 <para>
				المدخلة الخيرة في هذا المثال تخص نظام ملفات شبكي (NFS): حيث رُبِطَ المجلد <filename>/shared/</filename> من المخدم <emphasis>arrakis</emphasis> مع المجلد <filename>/shared/</filename> على الجهاز المحلي. صيغة الملف <filename dir="ltr">/etc/fstab</filename> موثّقة في صفحة الدليل <citerefentry><refentrytitle>fstab</refentrytitle>
				<manvolnum>5</manvolnum></citerefentry>‎.
			</para>
			 <sidebar> <title><emphasis>التعمق أكثر</emphasis> الربط التلقائي</title>
			 <para>
				systemd is able to manage automount points: those are filesystems that are mounted on-demand when a user attempts to access their target mount points. It can also unmount these filesystems when no process is accessing them any longer.
			</para>
			 <para>
				Like most concepts in systemd, automount points are managed with dedicated units (using the <literal>.automount</literal> suffix). See <citerefentry><refentrytitle>systemd.automount</refentrytitle>
				<manvolnum>5</manvolnum></citerefentry> for their precise syntax.
			</para>
			 <indexterm>
				<primary><emphasis>am-utils</emphasis></primary>
			</indexterm>
			 <indexterm>
				<primary><command>amd</command></primary>
			</indexterm>
			 <indexterm>
				<primary><command>automount</command></primary>
			</indexterm>
			 <indexterm>
				<primary><emphasis>autofs</emphasis></primary>
			</indexterm>
			 <indexterm>
				<primary>automounter</primary>
			</indexterm>
			 <para>
				Other auto-mounting utilities exist, such as <command>automount</command> in the <emphasis role="pkg">autofs</emphasis> package or <command>amd</command> in the <emphasis role="pkg">am-utils</emphasis>.
			</para>
			 <para>
				Note also that GNOME, Plasma, and other graphical desktop environments work together with <emphasis>udisks</emphasis>, and can automatically mount removable media when they are connected.
			</para>
			 </sidebar>
		</section>
		 <section id="sect.locate-updatedb">
			<title><command>locate</command> و <command>updatedb</command></title>
			 <indexterm>
				<primary><command>locate</command></primary>
			</indexterm>
			 <indexterm>
				<primary><command>updatedb</command></primary>
			</indexterm>
			 <indexterm>
				<primary><command>mlocate</command></primary>
			</indexterm>
			 <para>
				يستطيع الأمر <command>locate</command> العثور على موقع ملف عندما تعرف جزءاً من اسمه فقط. يعطي هذا الأمر نتائج شبه آنية، لأنه يبحث في قاعدة بيانات تحوي جميع مواقع الملفات على النظام؛ تُحدَّث قاعدة البيانات هذه يومياً بالأمر <command>updatedb</command>. هناك تنويعات عديدة للأمر <command>locate</command> وقد اختارت دبيان <emphasis role="pkg">mlocate</emphasis> لنظامها القياسي.
			</para>
			 <para>
				<command>mlocate</command> ذكي بما يكفي ليعيد الملفات التي يُسمَح للمستخدم الذي يستدعيه بالوصول إليها فقط رغم أنه يعتمد على قاعدة بيانات تحوي معلومات عن جميع الملفات على النظام (حيث يعمل أمر <command>updatedb</command> المرتبط معه بصلاحيات الجذر). لزيادة الأمان، يستطيع مدير النظام استخدام <varname>PRUNEDPATHS</varname> في الملف <filename dir="ltr">/etc/updatedb.conf</filename> لاستثناء بعض المجلدات من عملية الفهرسة.
			</para>

		</section>

	</section>
	 <section id="sect.kernel-compilation">
		<title>ترجمة النواة</title>
		 <indexterm>
			<primary>ترجمة</primary>
			<secondary>النواة</secondary>
		</indexterm>
		 <indexterm>
			<primary>نواة</primary>
			<secondary>ترجمة</secondary>
		</indexterm>
		 <para>
			تتضمن النواة التي توفرها دبيان أكبر كمية ممكنة من الميزات، بالإضافة إلى أكبر كمية من تعريفات الأجهزة، في سبيل تغطية أوسع طيف من تجميعات العتاد الموجودة. لهذا تجد بعض المستخدمين الذين يفضلون إعادة ترجمة النواة حتى تتضمن ما يحتاجونه بشكل خاص فقط. هناك دافعين رئيسيين وراء ذلك. أولاً، قد يُحسن هذا من استهلاك الذاكرة، لأن كود النواة سيحجز الذاكرة دون سبب، حتى لو تكن هناك حاجة له (كما أنه لا ”ينزل“ إلى مساحة التبديل أبداً، لذلك فهو يستهلك الذاكرة RAM الفعلية)، وهذا قد يخفض الأداء الكلي للنظام. كما أن النواة المترجمة محلياً قد تحدّ من خطر المشاكل الأمنية لأن كود النواة المترجم والمستعمل يشكل جزءاً فقط من الكود الكلي.
		</para>
		 <sidebar> <title><emphasis>ملاحظة</emphasis> التحديثات الأمنية</title>
		 <para>
			إذا اخترت ترجمة نواة خاصة بك، فعليك أن ترضى بالعواقب: لا تستطيع دبيان توفير تحديثات أمنية لنواتك المخصصة. أما باحتفاظك بالنواة التي توفرها دبيان، سوف تستفيد من التحديثات التي يُحضّرها فريق الحماية في مشروع دبيان.
		</para>
		 </sidebar> <para>
			إعادة ترجمة النواة ضرورية أيضاً إذا كنت تريد استخدام ميزات معينة متاحة بشكل رقع (patches) فقط (وليست مضمنة في نسخ النواة القياسية).
		</para>
		 <sidebar> <title><emphasis>التعمق أكثر</emphasis> دفتر نواة دبيان</title>
		 <indexterm>
			<primary><emphasis role="pkg">debian-kernel-handbook</emphasis></primary>
		</indexterm>
		 <para>
			The Debian kernel teams maintains the “Debian Kernel Handbook” (also available in the <emphasis role="pkg">debian-kernel-handbook</emphasis> package) with comprehensive documentation about most kernel related tasks and about how official Debian kernel packages are handled. This is the first place you should look into if you need more information than what is provided in this section. <ulink type="block" url="https://kernel-team.pages.debian.net/kernel-handbook/" />
		</para>
		 </sidebar> <section id="sect.kernel-compilation-prerequisites">
			<title>المتطلبات الأولية ومقدمة</title>
			 <para>
				ليس غريباً أن تدير دبيان النواة بشكل حزمة، ولم تكن هذه الطريقة هي المتبعة في ترجمة وتثبيت النوى تقليدياً. بما أن النواة تبقى تحت سيطرة نظام الحزم، فيمكن عندها إزالتها بشكل نظيف، أو تنصيبها على عدة أجهزة. بالإضافة لذلك، تؤتمت السكربتات المرتبطة بهذه الحزم التفاعلات مع محمل الإقلاع ومولد initrd.
			</para>
			 <para>
				تحوي أكواد لينكس المنبعية (upstream) كل ما تحتاجه لبناء حزمة دبيان للنواة. لكنك تحتاج مع ذلك تثبيت <emphasis role="pkg">build-essential</emphasis> لضمان أنك تملك الأدوات اللازمة لبناء حزمة دبيان. بالإضافة لذلك، تحتاج خطوة ضبط النواة للحزمة <emphasis role="pkg">libncurses5-dev</emphasis>. أخيراً، تسمح الحزمة <emphasis role="pkg">fakeroot</emphasis> بإنشاء حزمة دبيان دون استخدام الصلاحيات الإدارية.
			</para>
			 <sidebar> <title><emphasis>ثقافة</emphasis> <emphasis role="pkg">kernel-package</emphasis> وأيامها الجميلة الخالية</title>
			 <indexterm>
				<primary><emphasis role="pkg">kernel-package</emphasis></primary>
			</indexterm>
			 <para>
				قبل أن يملك نظام بناء لينكس القدرة على بناء حزم دبيان صحيحة، كانت الطريقة المفضلة لبناء هذه الحزم هي استخدام <command>make-kpkg</command> من الحزمة <emphasis role="pkg">kernel-package</emphasis>.
			</para>
			 </sidebar>
		</section>
		 <section id="sect.kernel-sources">
			<title>الحصول على الشفرة المصدرية</title>
			 <indexterm>
				<primary>أكواد النواة لينكس</primary>
			</indexterm>
			 <indexterm>
				<primary>نواة</primary>
				<secondary>شفرة مصدرية</secondary>
			</indexterm>
			 <indexterm>
				<primary>مصدر</primary>
				<secondary>النواة لينكس</secondary>
			</indexterm>
			 <para>
				Like anything that can be useful on a Debian system, the Linux kernel sources are available in a package. To retrieve them, just install the <emphasis role="pkg">linux-source-<replaceable>version</replaceable></emphasis> package. The <command>apt search ^linux-source</command> command lists the various kernel versions packaged by Debian. The latest version is available in the <emphasis role="distribution">Unstable</emphasis> distribution: you can retrieve them without much risk (especially if your APT is configured according to the instructions of <xref linkend="sect.apt-mix-distros" />). Note that the source code contained in these packages does not correspond precisely with that published by Linus Torvalds and the kernel developers; like all distributions, Debian applies a number of patches, which might (or might not) find their way into the upstream version of Linux. These modifications include backports of fixes/features/drivers from newer kernel versions, new features not yet (entirely) merged in the upstream Linux tree, and sometimes even Debian specific changes.
			</para>
			 <para>
				The remainder of this section focuses on the 4.9 version of the Linux kernel, but the examples can, of course, be adapted to the particular version of the kernel that you want.
			</para>
			 <para>
				We assume the <emphasis role="pkg">linux-source-4.9</emphasis> package has been installed. It contains <filename>/usr/src/linux-source-4.9.tar.xz</filename>, a compressed archive of the kernel sources. You must extract these files in a new directory (not directly under <filename>/usr/src/</filename>, since there is no need for special permissions to compile a Linux kernel): <filename>~/kernel/</filename> is appropriate.
			</para>
			 
<screen>
<computeroutput>$ </computeroutput><userinput>mkdir ~/kernel; cd ~/kernel</userinput>
<computeroutput>$ </computeroutput><userinput>tar -xaf /usr/src/linux-source-4.9.tar.xz</userinput></screen>
			 <sidebar> <title><emphasis>ثقافة</emphasis> موقع أكواد النواة</title>
			 <para>
				تقليدياً، كانت أكواد النواة توضع في <filename>/usr/src/linux/</filename> بالتالي كانت تحتاج صلاحيات الجذر للترجمة. لكن يجب تفادي العمل بصلاحيات الجذر عندما لا تكون ضرورية. هناك مجموعة <literal>src</literal> تسمح لأعضائها بالعمل في هذا المجلد، لكن يجب تفادي العمل في <filename>/usr/src/</filename> على أي حال. عندما تضع أكواد النواة في مجلد شخصي، سوف تزيد الأمان على كل الأصعدة: فلا تضاف ملفات في <filename>/usr/</filename> لا يعرفها نظام الحزم، ولا تخشى أي برامج مضللة تقرأ <filename>/usr/src/linux/</filename> لتحاول جمع معلومات عن النواة المستخدمة.
			</para>
			 </sidebar>
		</section>
		 <section id="sect.config-kernel">
			<title>ضبط النواة</title>
			 <indexterm>
				<primary>نواة</primary>
				<secondary>ضبط</secondary>
			</indexterm>
			 <indexterm>
				<primary>ضبط</primary>
				<secondary>النواة</secondary>
			</indexterm>
			 <indexterm>
				<primary><filename>.config</filename></primary>
			</indexterm>
			 <para>
				تتمثل الخطوة التالية في إعداد النواة حسب احتياجاتك. تعتمد الإجراءات الدقيقة على أهدافك.
			</para>
			 <para>
				عند إعادة ترجمة نسخة أحدث من النواة (تحوي رقع إضافية مثلا)، ستبقى الإعدادات أقرب ما يمكن إلى الإعدادات التي تقترحها دبيان على الأغلب. في هذه الحالة، يمكن بدلاً من إعادة ضبط كل شيء بدءاً من الصفر أن تنسخ الملف <filename dir="ltr">/boot/config-<replaceable>version</replaceable></filename> (يقصد بكلمة <replaceable>version</replaceable> نسخة النواة المستخدمة حالياً، التي يمكن معرفتها بالأمر <command>uname -r</command>) إلى ملف <filename dir="ltr">.config</filename> في المجلد الذي يحوي أكواد النواة.
			</para>
			 
<screen>
<computeroutput>$ </computeroutput><userinput>cp /boot/config-4.9.0-3-amd64 ~/kernel/linux-source-4.9/.config</userinput></screen>
			 <para>
				يمكنك أن تتوقف هنا وتقفز إلى <xref linkend="sect.kernel-build" />، ما لم تكن مضطراً لتغيير الإعدادات. لكن إذا كنت تحتاج تغيير الإعدادات، أو إذا قررت إعادة ضبط كل شيء من الصفر، عليك تخصيص وقت كاف لضبط النواة. هناك واجهات متنوعة مخصصة لهذا الغرض في مجلد أكواد النواة التي يمكن استخدامها عبر استدعاء الأمر <command>make <replaceable>target</replaceable></command>، حيث يأخذ <replaceable>target</replaceable> إحدى القيم المذكورة أدناه.
			</para>
			 <para>
				يترجم الأمر <command>make menuconfig</command> وينفّذ واجهة نصية (هنا تظهر الحاجة للحزمة <emphasis role="pkg">libncurses5-dev</emphasis>) التي تسمح بتصفح الخيارات المتاحة بشكل بنية شجرية. يمكن تغيير قيمة الخيار المحدد عبر ضغط مفتاح <keycap>Space</keycap>، أما <keycap>Enter</keycap> فيفعّل الزر المحدد أسفل الشاشة؛ زر <guibutton>Select</guibutton> يعود إلى القائمة الفرعية المحددة؛ و <guibutton>Exit</guibutton> يغلق الشاشة الحالية ويتحرك للأعلى في الشجرة؛ يعرض <guibutton>Help</guibutton> معلومات مفصلة أكثر عن دور الخيار المحدد. تسمح مفاتيح الأسهم بالتحرك ضمن قائمة الخيارات والأزرار. للخروج من برنامج الإعداد، اختر <guibutton>Exit</guibutton> من القائمة الرئيسية. عندها يعرض عليك البرنامج حفظ التعديلات التي أجريتها؛ وافق على ذلك إذا كنت راضياً عن اختياراتك.
			</para>
			 <para>
				للواجهات الأخرى ميزات مشابهة، لكنها تعمل ضمن واجهات رسومية أكثر تطوراً؛ مثل <command>make xconfig</command> التي تستخدم الواجهة الرسومية Qt، و <command>make gconfig</command> التي تستخدم +GTK. تحتاج الأولى حزمة <emphasis role="pkg">libqt4-dev</emphasis>، بينما تعتمد الثانية على <emphasis role="pkg">libglade2-dev</emphasis> و <emphasis role="pkg">libgtk2.0-dev</emphasis>.
			</para>
			 <para>
				عند استخدام إحدى واجهات الضبط هذه، يفضل دوماً البدء من إعدادات افتراضية مقبولة. توفر النواة إعدادات كهذه في <filename>arch/<replaceable>arch</replaceable>/configs/*_defconfig</filename> ويمكنك أن تضع الإعدادات التي اخترتها حيز التطبيق باستخدام <command>make x86_64_defconfig</command> (على حواسيب 64 بت) أو <command>make i386_defconfig</command> (على حواسيب 32 بت).
			</para>
			 <sidebar> <title><emphasis>تلميح</emphasis> التعامل مع ملفات <filename dir="ltr">.config</filename> القديمة</title>
			 <para>
				عندما تقدم ملف <filename dir="ltr">.config</filename> ولدته باستخدام نسخة نواة أخرى (أقدم عادة)، ستضطر لتحديثه. يمكنك عمل ذلك باستخدام <command>make oldconfig</command>، الذي سيطرح عليك الأسئلة المتعلقة بخيارات الضبط الجديدة تفاعلياً. إذا كنت تريد استخدام الإجابة الافتراضية لكل هذه الأسئلة يمكنك استخدام <command>make olddefconfig</command>. أما إذا استخدمت <command>make oldnoconfig</command>، فسوف يفترض أن تريد الإجابة بالنفي على جميع الأسئلة.
			</para>
			 </sidebar>
		</section>
		 <section id="sect.kernel-build">
			<title>ترجمة وبناء الحزمة</title>
			 <indexterm>
				<primary><command>make deb-pkg</command></primary>
			</indexterm>
			 <sidebar> <title><emphasis>ملاحظة</emphasis> التنظيف قبل إعادة البناء</title>
			 <para>
				إذا ترجمت النواة سابقاً وتنوي إعادة بناء كل شيء من الصفر ثانية في المجلد نفسه (مثلاً لأنك عدلت كثيراً في إعدادات النواة)، عليك استدعاء <command>make clean</command> لإزالة الملفات المترجمة. أما <command>make distclean</command> فيحذف كل الملفات المولّدة، بما فيها ملف <filename dir="ltr">.config</filename> أيضاً، لذلك تأكد من أخذ نسخة احتياطية عنه أولاً.
			</para>
			 </sidebar> <para>
				بعد تجهيز إعدادات النواة، سيولد الأمر البسيط <command>make deb-pkg</command>‏ 5 حزم دبيانية على الأكثر: <emphasis role="pkg">linux-image-<replaceable>version</replaceable></emphasis> التي تحوي صورة النواة والوحدات المرتبطة بها، و <emphasis role="pkg">linux-headers-<replaceable>version</replaceable></emphasis> التي تحوي ملفات الترويسات التي تلزم عند ترجمة وحدات خارجية، و <emphasis role="pkg">linux-firmware-image-<replaceable>version</replaceable></emphasis> التي تحوي ملفات فيرم وير (firmware) تحتاجها بعض التعريفات (قد تكون هذه الحزمة مفقودة عند البناء من الشفرات المصدرية التي توفرها دبيان)، و <emphasis role="pkg">linux-image-<replaceable>version</replaceable>-dbg</emphasis> التي تحوي رموز التنقيح (debugging symbols) لصورة النواة ووحداتها، و <emphasis role="pkg">linux-libc-dev</emphasis> التي تحوي الترويسات الخاصة ببعض مكتبات ساحة المستخدم مثل GNU glibc.
			</para>
			 <para>
				يتحدد <replaceable>version</replaceable> عبر دمج رقم النسخة المنبعية (الذي يتحدد بالمتغيرات <literal>VERSION</literal> و <literal>PATCHLEVEL</literal> و <literal>SUBLEVEL</literal> و <literal>EXTRAVERSION</literal> في ملف <filename>Makefile</filename>)، ومتغير الضبط <literal>LOCALVERSION</literal>، ومتغير البيئة <literal>LOCALVERSION</literal>. أما نسخة الحزمة فتستخدم السلسلة النصية نفسها مع إضافة رقم مراجعة يتزايد آلياً (ويُخزَّن في <filename dir="ltr">.version</filename>)، إلا إذا تجاوزته باستخدام متغير البيئة <literal>KDEB_PKGVERSION</literal>.
			</para>
			 
<screen><computeroutput>$ </computeroutput><userinput>make deb-pkg LOCALVERSION=-falcot KDEB_PKGVERSION=$(make kernelversion)-1
</userinput><computeroutput>[...]
$ </computeroutput><userinput>ls ../*.deb
</userinput><computeroutput>../linux-headers-4.9.30-ckt4-falcot_4.9.30-1_amd64.deb
../linux-image-4.9.30-ckt4-falcot_4.9.30-1_amd64.deb
../linux-image-4.9.30-ckt4-falcot-dbg_4.9.30-1_amd64.deb
../linux-libc-dev_4.9.30-1_amd64.deb
</computeroutput></screen>

		</section>
		 <section id="sect.modules-build">
			<title>ترجمة الوحدات الخارجية</title>
			 <indexterm>
				<primary>نواة</primary>
				<secondary>وحدات خارجية</secondary>
			</indexterm>
			 <indexterm>
				<primary>وحدات</primary>
				<secondary>وحدات النواة الخارجية</secondary>
			</indexterm>
			 <indexterm>
				<primary><command>dkms</command></primary>
			</indexterm>
			 <para>
				تُطوّر بعض الوحدات خارج نواة لينكس الرسمية. لاستخدام هذه الوحدات، يجب ترجمتها مع النواة التي ستستخدم معها. هناك عدد من الوحدات الخارجية الشهيرة التي توفرها دبيان في حزم خاصة، مثل <emphasis role="pkg">xtables-addons-source</emphasis> (وحدات iptables إضافية) أو <emphasis role="pkg">oss4-source</emphasis>‏ (Open Sound System، تعاريف بديلة للصوت).
			</para>
			 <para>
				هذه الوحدات الخارجية عديدة ومتنوعة ولا يمكننا ذكرها جميعاً هنا؛ قد يضيق الأمر <command dir="ltr">apt-cache search source$</command> مجال البحث. على أي حال، لن تفيد هذه القائمة كثيراً لعدم وجود سبب يدعو لترجمة الوحدات الخارجية إلا إذا كنت تعلم أنك تحتاجها. في هذه الحالات، سوف تذكر وثائق الجهاز نموذجياً الوحدات الخاصة التي تحتاجها حتى تعمل في لينكس.
			</para>
			 <para>
				مثلاً، لنلق نظرة على الحزمة <emphasis role="pkg">xtables-addons-source</emphasis>: بعد تثبيتها، نحصل على ملف <filename dir="ltr">.tar.bz2</filename> يحوي أكواد الوحدة في المجلد <filename>/usr/src/</filename>. ومع أننا نستطيع فك الضغط عن الأرشيف وترجمة الوحدة بأنفسنا، إلا أننا نفضل أتمتة هذه العملية بكاملها باستخدام DKMS. توفر معظم الوحدات تكاملات DKMS المطلوبة في حزمة ينتهي اسمها باللاحقة <literal dir="ltr">-dkms</literal>. في حالتنا، كل ما نحتاجه هو تثبيت الحزمة <emphasis role="pkg">xtables-addons-dkms</emphasis> لترجمة الوحدة للنواة المستخدمة حالياً شرط أن تكون حزمة <emphasis dir="ltr" role="pkg">linux-headers-*</emphasis> التي توافق نسخة النواة المثبتة موجودة على النظام. مثلاً، إذا استخدمت <emphasis role="pkg">linux-image-amd64</emphasis>، عليك أيضاً تثبيت <emphasis role="pkg">linux-headers-amd64</emphasis>.
			</para>
			 
<screen>
<computeroutput>$ </computeroutput><userinput>sudo apt install xtables-addons-dkms</userinput>
<computeroutput>
[...]
Setting up xtables-addons-dkms (2.12-0.1) ...
Loading new xtables-addons-2.12 DKMS files...
Building for 4.9.0-3-amd64
Building initial module for 4.9.0-3-amd64
Done.

xt_ACCOUNT:
Running module version sanity check.
 - Original module
   - No original module exists within this kernel
 - Installation
   - Installing to /lib/modules/4.9.0-3-amd64/updates/dkms/
[...]
DKMS: install completed.
$ </computeroutput><userinput>sudo dkms status</userinput>
<computeroutput>xtables-addons, 2.12, 4.9.0-3-amd64, x86_64: installed
$ </computeroutput><userinput>sudo modinfo xt_ACCOUNT</userinput>
<computeroutput>filename:       /lib/modules/4.9.0-3-amd64/updates/dkms/xt_ACCOUNT.ko
license:        GPL
alias:          ipt_ACCOUNT
author:         Intra2net AG &lt;opensource@intra2net.com&gt;
description:    Xtables: per-IP accounting for large prefixes
[...]
</computeroutput></screen>
			 <sidebar> <title><emphasis>بدائل</emphasis> module-assistant</title>
			 <indexterm>
				<primary><emphasis role="pkg">module-assistant</emphasis></primary>
			</indexterm>
			 <para>
				قبل DKMS، كان <emphasis role="pkg">module-assistant</emphasis> هو الحل الأبسط لبناء وتنصيب وحدات النواة. لا يزال استخدامه ممكناً، خصوصاً مع الحزم التي تفتقر لتكامل DKMS: فإذا استدعيت أمراً يشبه <command>module-assistant auto-install xtables-addons</command> ( أو <command>m-a a-i xtables-addons</command> اختصاراً)، سوف تترجم الوحدات للنواة الحالية، وتوضع في حزمة دبيان جديدة، وتُثبَّت تلك الحزمة مباشرة.
			</para>
			 </sidebar>
		</section>
		 <section id="sect.kernel-patch">
			<title>ترقيع النواة</title>
			 <indexterm>
				<primary>نواة</primary>
				<secondary>ترقيع</secondary>
			</indexterm>
			 <indexterm>
				<primary>ترقيع النواة</primary>
			</indexterm>
			 <para>
				لا تتضمن النواة القياسية بعض المزايا لأنها غير ناضجة أو نتيجة بعض الخلافات مع مشرفي النواة. يمكن توزيع هذه المزايا كرقع يستطيع أي أحد تطبيقها على أكواد النواة إذا أراد.
			</para>
			 <para>
				Debian sometimes provides some of these patches in <emphasis role="pkg">linux-patch-*</emphasis> packages but they often don't make it into stable releases (sometimes for the very same reasons that they are not merged into the official upstream kernel). These packages install files in the <filename>/usr/src/kernel-patches/</filename> directory.
			</para>
			 <para>
				إذا أردت تطبيق بعض من هذه الرقع، استخدم الأمر <command>patch</command> في مجلد الأكواد المصدرية ثم ابدأ ترجمة النواة كما شرحنا سابقاً.
			</para>
			 
<screen>
<computeroutput>$ </computeroutput><userinput>cd ~/kernel/linux-source-4.9</userinput>
<computeroutput>$ </computeroutput><userinput>make clean</userinput>
<computeroutput>$ </computeroutput><userinput>zcat /usr/src/kernel-patches/diffs/grsecurity2/grsecurity-3.1-4.9.11-201702181444.patch.gz | patch -p1</userinput></screen>
			 <para>
				لاحظ أنه لا يشترط أن تعمل أي رقعة مع جميع إصدارات النواة؛ قد يخفق الأمر <command>patch</command> عند تطبيق بعض الرقع على أكواد النواة. ستعرض رسالة خطأ تعطي بعض التفاصيل عن سبب الإخفاق؛ في هذه الحالة، راجع الوثائق المتوفرة في حزمة الرقعة (في المجلد <filename dir="ltr">/usr/share/doc/linux-patch-*/</filename>). في معظم الحالات، يذكر مشرف الحزمة إصدارات النواة التي أُعدَّت الرقعة لها.
			</para>

		</section>

	</section>
	 <section id="sect.kernel-installation">
		<title>تثبيت النواة</title>
		 <indexterm>
			<primary>تثبيت</primary>
			<secondary>نواة</secondary>
		</indexterm>
		 <indexterm>
			<primary>نواة</primary>
			<secondary>تثبيت</secondary>
		</indexterm>
		 <section id="sect.kernel-package">
			<title>مزايا حزمة النواة </title>
			 <indexterm>
				<primary><filename>vmlinuz</filename></primary>
			</indexterm>
			 <para>
				تُثبِّت حزمة النواة صورة النواة (<filename>vmlinuz-<replaceable>version</replaceable></filename>)، وإعداداتها (<filename>config-<replaceable>version</replaceable></filename>)، وجدول رموزها (<filename>System.map-<replaceable>version</replaceable></filename>) في <filename>/boot/</filename>. يساعد جدول الرموز المطورين على فهم معنى رسائل أخطاء النواة؛ وبدونه لن تشير ”oopses“ (في النواة، ”oops“ هو مرادف segmentation fault في برامج ساحة المستخدم، أي هي الرسائل التي تنتج عن قراءة قيمة مؤشر غير صحيحة) إلا إلى قيم رقمية تمثل عناوين الذاكرة، وهذه المعلومات لا فائدة لها دون جدول الرموز التي يقابل هذه العناوين مع رموز وأسماء دوال. تُثبَّت الوحدات في المجلد <filename>/lib/modules/<replaceable>version</replaceable>/</filename>.
			</para>
			 <para>
				تولد سكربتات إعداد الحزمة صورة initrd آلياً، وههو نظام مصغر مصمم حتى يحمّله محمل الإقلاع إلى الذاكرة (من هنا جاء اسمه، الذي يرمز للعبارة ”init ramdisk“ أي قرص التهيئة الذاكري)، وتستخدمه النواة لينكس فقط لتحميل الوحدات اللازمة للوصول إلى الأجهزة التي تحوي نظام دبيان الكامل (مثلاً، تعاريف أقراص SATA). أخيراً، تُحدّث سكربتات ما بعد التثبيت الروابط الرمزية <filename>/vmlinuz</filename> و <filename>/vmlinuz.old</filename> و <filename>/initrd.img</filename> و <filename>/initrd.img.old</filename> بحيث تشير إلى أحدث نواتين مثبتتين، بالإضافة إلى صورتي initrd الأخيرتين.
			</para>
			 <para>
				معظم هذه المهمات موكلة إلى سكربتات تعليق (hook scripts) في المجلدات <filename>/etc/kernel/*.d/</filename>. مثلاً، يعتمد التكامل مع <command>grub</command> على <filename>/etc/kernel/postinst.d/zz-update-grub</filename> و <filename>/etc/kernel/postrm.d/zz-update-grub</filename> لاستدعاء <command>update-grub</command> عند تثبيت أو إزالة النوى.
			</para>

		</section>
		 <section id="sect.kernel-installation-with-dpkg">
			<title>التثبيت باستخدام <command>dpkg</command></title>
			 <para>
				Using <command>apt</command> is so convenient that it makes it easy to forget about the lower-level tools, but the easiest way of installing a compiled kernel is to use a command such as <command>dpkg -i <replaceable>package</replaceable>.deb</command>, where <literal><replaceable>package</replaceable>.deb</literal> is the name of a <emphasis role="pkg">linux-image</emphasis> package such as <filename>linux-image-4.9.30-ckt4-falcot_1_amd64.deb</filename>.
			</para>
			 <para>
				لقد شرحنا في هذا الفصل خطوات الإعداد الأساسية التي تطبيقها على مخدم أو محطة عمل على حد سواء، كما يمكن إعادة تطبيقها على نطاق واسع باستخدام طرق نصف آلية. لكن هذه الإعدادات لا تكفي وحدها لإنتاج لتجهيز النظام بالكامل. لا يزال هناك بعض نواحي الضبط، وهي تبدأ من البرامج منخفضة المستوى التي تعرف باسم ”خدمات يونكس“.
			</para>

		</section>

	</section>
</chapter>

