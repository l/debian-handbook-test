<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">8.9. Outras Configurações: Sincronização de tempo, Logs, Compartilhando acesso…</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-pt-BR-1.0-1" /><meta
        name="keywords"
        content="Configuração, Localização, Localidades, Rede, Resolução de nomes, Usuários, Grupos, Contas, Interpretador de linha de comando, Shell, Impressão, Sistema de iniciação, Compilação de kernel" /><link
        rel="home"
        href="index.html"
        title="O Manual do Administrador Debian" /><link
        rel="up"
        href="basic-configuration.html"
        title="Capítulo 8. Configuração Básica: Rede, Contas, Impressão..." /><link
        rel="prev"
        href="sect.config-bootloader.html"
        title="8.8. Configurando o carregador de boot (bootloader)" /><link
        rel="next"
        href="sect.kernel-compilation.html"
        title="8.10. Compilando o núcleo" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/pt-BR/stable/sect.config-misc.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.config-bootloader.html"><strong>Anterior</strong></a></li><li
          class="home">O Manual do Administrador Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.kernel-compilation.html"><strong>Próxima</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.config-misc"></a>8.9. Outras Configurações: Sincronização de tempo, Logs, Compartilhando acesso…</h2></div></div></div><div
          class="para">
			Os muitos elementos listados nesta seção são importantes para quem quer dominar todos os aspectos de configuração de um sistema GNU/Linux. Eles são, contudo, tratados superficialmente e frequentemente vão te remeter à documentação.
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.timezone"></a>8.9.1. Região</h3></div></div></div><a
            id="id-1.11.13.3.2"
            class="indexterm"></a><div
            class="sidebar"><a
              xmlns=""
              id="sidebar.symbolic-link"></a><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>DE VOLTA AO BÁSICO</em></span> Links simbólicos</strong></p></div></div></div><a
              id="id-1.11.13.3.3.2"
              class="indexterm"></a><a
              id="id-1.11.13.3.3.3"
              class="indexterm"></a><a
              id="id-1.11.13.3.3.4"
              class="indexterm"></a><div
              class="para">
				Uma ligação simbólica é um ponteiro para outro arquivo. Quando você a acessa, o arquivo para o qual ela aponta é aberto. A remoção da ligação não irá causar o apagar do arquivo para o qual ela aponta. Da mesma forma, ela não tem sua própria configuração de permissões, mas mantém as permissões de seu alvo. Finalmente, ela pode apontar para qualquer tipo de arquivo: diretórios, arquivos especiais (sockets, named pipes, device files, etc.), e até mesmo outras ligações simbólicas.
			</div><div
              class="para">
				O comando <code
                class="command">ln -s <em
                  class="replaceable">alvo</em> <em
                  class="replaceable">nome-da-ligação</em></code> cria uma ligação simbólica, chamada <em
                class="replaceable">nome-da-ligação</em>, apontando para <em
                class="replaceable">alvo</em>.
			</div><div
              class="para">
				Se o alvo não existir, então a ligação estará “quebrada” e acessá-la irá resultar em um erro, indicando que o arquivo alvo não existe. Se a ligação aponta para outra ligação, você terá uma “corrente” de ligações que se tornará em um “ciclo” se um dos alvos apontar para um de seus antecessores. Neste caso, ao acessar uma das ligações do ciclo irá resultar em um erro específico (“muitos níveis de ligações simbólicas”); isso significa que o kernel desistiu após várias voltas pelo ciclo.
			</div></div><div
            class="para">
				O "timezone", configurado durante a instalação inicial, é um item da configuração do pacote <span
              class="pkg pkg">tzdata</span>. Para modificá-lo, use o comando <code
              class="command">dpkg-reconfigure tzdata</code>, o qual permite a você escolher o "timezone" a ser usado de maneira interativa. Sua configuração é armazenada no arquivo <code
              class="filename">/etc/timezone</code>. Adicionalmente, o arquivo correspondente no diretório <code
              class="filename">/usr/share/zoneinfo</code> é copiado para <code
              class="filename">/etc/localtime</code>; esse arquivo contém as regras que governam as datas aonde o horário de verão é ativado, para países que o usam.
			</div><a
            id="id-1.11.13.3.5"
            class="indexterm"></a><a
            id="id-1.11.13.3.6"
            class="indexterm"></a><a
            id="id-1.11.13.3.7"
            class="indexterm"></a><a
            id="id-1.11.13.3.8"
            class="indexterm"></a><a
            id="id-1.11.13.3.9"
            class="indexterm"></a><a
            id="id-1.11.13.3.10"
            class="indexterm"></a><div
            class="para">
				Quando você precisar alterar temporariamente o fuso-horário (timezone), use a variável de ambiente <code
              class="varname">TZ</code>, a qual tem prioridade sobre a configuração padrão do sistema:
			</div><a
            id="id-1.11.13.3.12"
            class="indexterm"></a><a
            xmlns=""
            id="screen.tz"></a><pre
            class="screen">
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>date</code></strong>
<code
              class="computeroutput">Thu Feb 19 11:25:18 CET 2015</code>
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>TZ="Pacific/Honolulu" date</code></strong>
<code
              class="computeroutput">Thu Feb 19 00:25:21 HST 2015</code></pre><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>NOTA</em></span> Relógio do sistema, relógio de hardware</strong></p></div></div></div><div
              class="para">
				Existem duas fontes de horário em um computador. A placa mãe do computador tem um relógio de "hardware", chamado “CMOS clock”. Esse relógio não é muito preciso, e provê tempos de acesso muito lento. O kernel do sistema operacional tem o seu próprio, o relógio de software, o qual mantém atualizado através de seus próprios meios (possivelmente com a ajuda de servidores de horário, veja <a
                class="xref"
                href="sect.config-misc.html#sect.time-synchronization">Seção 8.9.2, “Sincronização de Tempo”</a>). Esse relógio do sistema é geralmente mais acurado, especialmente porque ele não precisa acessar variáveis de hardware. Contudo, como ele apenas existe na memória viva, ele é zerado toda vez que a máquina é inicializada, ao contrário do "CMOS clock", o qual tem uma bateria e, sendo assim, "sobrevive" a reinicialização ou desligamento da máquina. O relógio do sistema é, assim, configurado a partir do "CMOS clock" durante a inicialização, e o "CMOS clock" é atualizado no desligamento (para ser informado de possíveis alterações ou correções se ele foi ajustado inapropriadamente).
			</div><div
              class="para">
				Na prática, existe um problema, já que o relógio CMOS nada mais é do que um contador e não contém informação referente a fuso horário. Existe uma escolha a fazer levando em consideração essa interpretação: ou o sistema considera que ele roda no horário universal (UTC, antigamente GMT), ou em horário local. Essa escolha poderia ser uma simples opção, mas as coisas são realmente mais complicadas: como resultado de um horário de verão, essa variação não é constante. O resultado é que o sistema não tem como determinar quando a variação é correta, especialmente perto dos períodos de mudança de horário. Como é sempre possível reconstruir o horário local a partir do horário universal e da informação de fuso horário, nós recomendamos fortemente o uso do relógio CMOS no horário universal.
			</div><div
              class="para">
				Infelizmente, o sistema Windows em sua configuração padrão, ignora essa recomendação; ele mantém o relógio CMOS em horário local, aplicando as mudanças de horário durante a inicialização do computador, tentando adivinhar, durante a alteração de horário, se a alteração já foi aplicada ou não. Isso funciona relativamente bem, contando que o sistema tenha apenas o Windows rodando nele. Mas quando o computador tem vários sistemas (seja uma configuração “dual-boot” ou rodando outros sistemas através de uma máquina virtual), o caos se instala, sem ter como determinar se o horário está correto. Se você tem que absolutamente manter o Windows em um computador, você deveria ou configurá-lo para manter o relógio CMOS em UTC (configurando a chave de registro <code
                class="literal">HKLM\SYSTEM\CurrentControlSet\Control\TimeZoneInformation\RealTimeIsUniversal</code> para “1” como DWORD), ou usar <code
                class="command">hwclock --localtime --set</code> no sistema Debian para configurar o relógio de hardware e marcá-lo para acompanhar o horário local (e garantir a checagem manual do seu relógio na primavera e outono).
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.time-synchronization"></a>8.9.2. Sincronização de Tempo</h3></div></div></div><a
            id="id-1.11.13.4.2"
            class="indexterm"></a><a
            id="id-1.11.13.4.3"
            class="indexterm"></a><div
            class="para">
				A sincronização de horário, o que pode parecer supérfluo em um computador, é muito importante em uma rede. Como os usuários não tem permissão de modificar a data e horário, é importante que essa informação seja precisa para prevenir confusão. Além do mais, ter todos os computadores em uma rede sincronizados permite melhor cruzamento de referencias de informação a partir dos logs de diferentes máquinas. Assim, em um eventual ataque, é mais fácil reconstruir a sequência cronológica das ações nas várias máquinas envolvidas no compromisso. Os dados coletados nas várias máquinas, para propósitos de estatística, não farão muito sentido se eles não estiverem sincronizados.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>DE VOLTA AO BÁSICO</em></span> NTP</strong></p></div></div></div><a
              id="id-1.11.13.4.5.2"
              class="indexterm"></a><a
              id="id-1.11.13.4.5.3"
              class="indexterm"></a><div
              class="para">
				O NTP (Network Time Protocol) permite que uma máquina sincronize com outras com razoável precisão, levando em consideração os atrasos induzidos pela transferência de informação pela rede e outros possíveis desvios.
			</div><div
              class="para">
				Apesar de existirem vários servidores NTP na internet, os mais populares provavelmente estão sobrecarregados. Por isso que nós recomendamos o uso do servidor NTP <span
                class="emphasis"><em>pool.ntp.org</em></span>, o qual é, na realidade, um grupo de máquinas que concordaram em servir como servidores NTP públicos. Você poderia até limitar o uso para um país específico, como um sub-grupo , como, por exemplo, <span
                class="emphasis"><em>us.pool.ntp.org</em></span> para os Estados Unidos, ou <span
                class="emphasis"><em>ca.pool.ntp.org</em></span> para o Canadá, etc.
			</div><div
              class="para">
				Contudo, se você gerencia uma grande rede, é recomendável que você instale seu próprio servidor NTP, o qual irá sincronizar com os servidores públicos. Neste caso, todas as outras máquinas de sua rede podem usar seu servidor NTP interno ao invés de aumentar a carga em servidores públicos. Você irá também aumentar a homogeneidade com seus relógios, já que todas as máquina serão sincronizadas pela mesma fonte, e essa fonte está bem próxima em termos de tempo de transferência de rede.
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.ntp-on-workstations"></a>8.9.2.1. Para Estações de Trabalho</h4></div></div></div><div
              class="para">
					Como as estações de trabalho são reinicializadas regularmente (ainda que apenas para economizar energia), sincronizá-las pelo NTP na inicialização é o suficiente. Para fazer isso, simplesmente instale o pacote <span
                class="pkg pkg">ntpdate</span>. Você pode alterar o servidor NTP usado, se necessário, modificando o arquivo <code
                class="filename">/etc/default/ntpdate</code>.
				</div><a
              id="id-1.11.13.4.6.3"
              class="indexterm"></a><a
              id="id-1.11.13.4.6.4"
              class="indexterm"></a></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.ntp-on-servers"></a>8.9.2.2. Para Servidores</h4></div></div></div><div
              class="para">
					Servidores são apenas raramente reinicializados, e é muito importante que o horário do sistema deles esteja correto. Para manter permanentemente o horário correto, você deveria instalar um servidor NTP local, um serviço oferecido pelo pacote <span
                class="pkg pkg">ntp</span>. Na sua configuração padrão, o servidor irá sincronizar com <span
                class="emphasis"><em>pool.ntp.org</em></span> e prover o horário em resposta as requisições vindas da rede local. Você pode configurá-lo editando o arquivo <code
                class="filename">/etc/ntp.conf</code>, sendo a mais significante alteração o servidor NTP ao qual ele se refere. Se a rede tem vários servidores, pode ser interessante ter um servidor local de horário o qual faz a sincronização com servidores públicos e é usado como fonte de horário para outros servidores na rede.
				</div><a
              id="id-1.11.13.4.7.3"
              class="indexterm"></a><a
              id="id-1.11.13.4.7.4"
              class="indexterm"></a><a
              id="id-1.11.13.4.7.5"
              class="indexterm"></a><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>APROFUNDANDO</em></span> Módulos GPS e outros recursos de tempo</strong></p></div></div></div><a
                id="id-1.11.13.4.7.6.2"
                class="indexterm"></a><a
                id="id-1.11.13.4.7.6.3"
                class="indexterm"></a><div
                class="para">
					Se a sincronização do horário for particularmente crucial para sua rede, é possível equipar um servidor com o módulo GPS (o qual irá usar o horário a partir de satélites GPS) ou o módulo DCF-77 (o qual irá sincronizar o horário com um relógio atômico perto de Frankfurt, Alemanha). Neste caso, a configuração do servidor NTP é um pouco mais complicada e uma consulta prévia à documentação é absolutamente necessária.
				</div></div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.rotation-logs"></a>8.9.3. Rotação de Arquivos de Log</h3></div></div></div><a
            id="id-1.11.13.5.2"
            class="indexterm"></a><a
            id="id-1.11.13.5.3"
            class="indexterm"></a><a
            id="id-1.11.13.5.4"
            class="indexterm"></a><a
            id="id-1.11.13.5.5"
            class="indexterm"></a><div
            class="para">
				Arquivos de log podem crescer rapidamente e é necessário arquivá-los. O esquema mais comum é a rotação dos arquivos: o arquivo de log é arquivado regularmente, e apenas os últimos <em
              class="replaceable">X</em> arquivos são mantidos. <code
              class="command">logrotate</code>, o programa responsável por estas rotações, segue as diretivas especificadas no arquivo <code
              class="filename">/etc/logrotate.conf</code> e em todos os arquivos dentro do diretório <code
              class="filename">/etc/logrotate.d/</code>. O administrador pode modificar esses arquivos, se ele quiser adaptar a política de rotação dos logs definidas pelo Debian. A página de manual do <span
              class="citerefentry"><span
                class="refentrytitle">logrotate</span>(1)</span> descreve todas as opções disponíveis nesses arquivos de configuração. Você pode querer aumentar o número de arquivos retidos na rotação dos arquivos de log, ou mover os arquivos de log para um diretório específico, dedicado a arquivá-los ao invés de apagá-los. Você pode também enviá-los, por email, para arquivá-los em outro lugar qualquer.
			</div><div
            class="para">
				O programa <code
              class="command">logrotate</code> é executado diariamente pelo agendador de comandos <code
              class="command">cron</code> (descrito em <a
              class="xref"
              href="sect.task-scheduling-cron-atd.html">Seção 9.7, “Agendando Tarefas com <code
                class="command">cron</code> e <code
                class="command">atd</code>”</a>).
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.sharing-admin-rights"></a>8.9.4. Compartilhando Direitos Administrativos</h3></div></div></div><a
            id="id-1.11.13.6.2"
            class="indexterm"></a><a
            id="id-1.11.13.6.3"
            class="indexterm"></a><a
            id="id-1.11.13.6.4"
            class="indexterm"></a><div
            class="para">
				Frequentemente, vários administradores trabalham na mesma rede. O compartilhamento da senha do root não é muito elegante, e abre brecha para abusos devido ao anonimato que tal prática cria. A solução para esse problema é o programa <code
              class="command">sudo</code>, o qual permite que certos usuários executem certos comandos com direitos especiais. Em seu caso mais comum de uso, o <code
              class="command">sudo</code> permite que um usuário confiável execute qualquer comando como se fosse o root. Para fazer isso, o usuário simplesmente executa <code
              class="command">sudo <em
                class="replaceable">command</em></code> e se autentica usando sua senha pessoal.
			</div><div
            class="para">
				Quando instalado, o pacote <span
              class="pkg pkg">sudo</span> dá todos os direitos de root para os membros do grupo Unix <code
              class="literal">sudo</code>. Para delegar outros direitos, o administrador tem que usar o comando <code
              class="command">visudo</code>, o qual permite a ele modificar o arquivo de configuração <code
              class="filename">/etc/sudoers</code> (mais uma vez, isso irá invocar o editor <code
              class="command">vi</code>, ou qualquer outro editor indicado na variável de ambiente <code
              class="varname">EDITOR</code>). Adicionando uma linha com <code
              class="literal"><em
                class="replaceable">usuário</em> ALL=(ALL) ALL</code> permite que o usuário em questão executar qualquer comando como root.
			</div><a
            id="id-1.11.13.6.7"
            class="indexterm"></a><a
            id="id-1.11.13.6.8"
            class="indexterm"></a><a
            id="id-1.11.13.6.9"
            class="indexterm"></a><div
            class="para">
				Configurações mais sofisticadas permitem autorizar apenas comandos específicos para usuários específicos. Todos os detalhes das variadas possibilidades são dados pela página de manual <span
              class="citerefentry"><span
                class="refentrytitle">sudoers</span>(5)</span>.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.fstab-mount-points"></a>8.9.5. Lista de Pontos de Montagem</h3></div></div></div><a
            id="id-1.11.13.7.2"
            class="indexterm"></a><a
            id="id-1.11.13.7.3"
            class="indexterm"></a><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>DE VOLTA AO BÁSICO</em></span> Montando e desmontando</strong></p></div></div></div><div
              class="para">
				Em sistemas Unix-like como o Debian, os arquivos são organizados em uma hierarquia no formato árvore de diretórios. O diretório <code
                class="filename">/</code> é chamado de “diretório raiz”; todos os diretório adicionais são subdiretórios dentro dessa raiz. "Montagem” é a ação de incluir o conteúdo de um dispositivo periférico (geralmente um disco rígido) em um arquivo comum da árvore do sistema. Como consequência, se você usa um disco rígido separado para armazenar dados pessoais de usuários, esse disco terá que ser “montado” no diretório <code
                class="filename">/home/</code>. O sistema de arquivos raiz é sempre montado na inicialização, pelo kernel; outros dispositivos são geralmente montados mais tarde, durante a sequência de inicialização ou manualmente com o comando <code
                class="command">mount</code> command.
			</div><a
              id="id-1.11.13.7.4.3"
              class="indexterm"></a><div
              class="para">
				Alguns dispositivos removíveis são montados automaticamente quando conectados, especialmente quando se está usando GNOME, KDE ou outro ambiente gráfico de trabalho. Outros tem que ser montados manualmente pelo usuário. Sendo assim, eles tem que ser desmontados (removidos da árvore de arquivos). Usuários comuns geralmente não tem permissões para executar os comandos <code
                class="command">mount</code> e <code
                class="command">umount</code>. O administrador pode, entretanto, autorizar essas operações (de maneira independente para cada ponto de montagem) incluindo a opção <code
                class="literal">user</code> no arquivo <code
                class="filename">/etc/fstab</code>.
			</div><div
              class="para">
				O comando <code
                class="command">mount</code> pode ser usado sem argumentos (ele irá então listas todos os sistemas de arquivos montados). Os seguintes parâmetros são necessários para montar ou desmontar um dispositivo. Para uma lista completa, por favor veja as páginas de manual correspondentes, <span
                class="citerefentry"><span
                  class="refentrytitle">mount</span>(8)</span> e <span
                class="citerefentry"><span
                  class="refentrytitle">umount</span>(8)</span>. Para casos simples, a sintaxe também é simples: por exemplo, para montar a partição <code
                class="filename">/dev/sdc1</code>, a qual tem um sistema de arquivos ext3, no diretório <code
                class="filename">/mnt/tmp/</code>, você simplesmente rodaria <code
                class="command">mount -t ext3 /dev/sdc1 /mnt/tmp/</code>.
			</div></div><div
            class="para">
				O arquivo <code
              class="filename">/etc/fstab</code> dá uma lista de todas as possíveis montagens que acontecem tanto automaticamente na inicialização quanto manualmente para dispositivos de armazenamento removíveis. Cada ponto de montagem é descrito em uma linha com vários campos separados por espaço: <a
              id="id-1.11.13.7.5.2"
              class="indexterm"></a> <a
              id="id-1.11.13.7.5.3"
              class="indexterm"></a>
			</div><div
            xmlns:d="http://docbook.org/ns/docbook"
            class="itemizedlist"><ul><li
                class="listitem"><div
                  class="para">
						dispositivo a ser montado: isso pode ser uma partição local (disco rígido, CD-ROM) ou um sistema de arquivos remoto (como o NFS).
					</div><div
                  class="para">
						Esse campo é frequentemente substituído pela ID única do sistema de arquivos (a qual você pode determinar com <code
                    class="command">blkid <strong
                      class="userinput"><code>dispositivo</code></strong></code>) prefixada com <code
                    class="literal">UUID=</code>. Isso protege contra mudanças no nome do dispositivo no evento de adição ou remoção de discos, ou se os discos forem detectados de maneira diferente.
					</div></li><li
                class="listitem"><div
                  class="para">
						ponto de montagem: esse é a localização no sistema de arquivos local aonde o dispositivo, sistema remoto, ou partição será montada.
					</div></li><li
                class="listitem"><div
                  class="para">
						tipo: esse campo define o sistema de arquivos usado no dispositivo montado. <code
                    class="literal">ext4</code>, <code
                    class="literal">ext3</code>, <code
                    class="literal">vfat</code>, <code
                    class="literal">ntfs</code>, <code
                    class="literal">btrfs</code>, <code
                    class="literal">xfs</code> são alguns exemplos.
					</div><div
                  class="sidebar"><div
                    class="titlepage"><div><div><p
                          class="title"><strong><span
                              class="emphasis"><em>DE VOLTA AO BÁSICO</em></span> NFS, um sistema de arquivos de rede</strong></p></div></div></div><div
                    class="para">
						NFS é um sistema de arquivos de rede; no Linux, ele permite acesso transparente a arquivos remotos os incluindo no sistema de arquivo local.
					</div></div><div
                  class="para">
						Uma lista completa dos conhecidos sistemas de arquivo está disponível na página de manual <span
                    class="citerefentry"><span
                      class="refentrytitle">mount</span>(8)</span>. O valor especial <code
                    class="literal">swap</code> é para partições swap; o valor especial <code
                    class="literal">auto</code> diz ao programa <code
                    class="command">mount</code> para detectar automaticamente o sistema de arquivos (o que é especialmente útil para leitores de disco e chaves USB, já que cada um pode ter um sistema de arquivos diferente);
					</div></li><li
                class="listitem"><div
                  class="para">
						opções: existem muitas delas, dependendo do sistema de arquivos, e elas estão documentadas na página de manual do <code
                    class="command">mount</code>. As mais comuns são
					</div><div
                  class="itemizedlist"><ul><li
                      class="listitem"><div
                        class="para">
								<code
                          class="literal">rw</code> ou <code
                          class="literal">ro</code>, significam, respectivamente, que o dispositivo será montado com permissão de leitura/escrita ou apenas leitura.
							</div></li><li
                      class="listitem"><div
                        class="para">
								<code
                          class="literal">noauto</code> desativa a montagem automática na inicialização.
							</div></li><li
                      class="listitem"><div
                        class="para">
								<code
                          class="literal">nofail</code> permite que a inicialização prossiga mesmo quando o dispositivo não esteja presente. Tenha a certeza de colocar essa opção para drives externos que podem estar desconectados quando você inicializar, porquê o <code
                          class="command">systemd</code> realmente garante que todos os pontos de montagem que tem que ser montados automaticamente estejam realmente montados antes de deixar o processo de inicialização continuar até o seu final. Note que você pode combinar isso com <code
                          class="literal">x-systemd.device-timeout=5s</code> para informar o <code
                          class="command">systemd</code> para não esperar mais do que 5 segundos para o dispositivo aparecer (veja <span
                          class="citerefentry"><span
                            class="refentrytitle">systemd.mount</span>(5)</span>).
							</div></li><li
                      class="listitem"><div
                        class="para">
								<code
                          class="literal">user</code> autoriza todos os usuários a montar esse sistema de arquivo (uma operação que, de outra forma, seria restrita ao usuário root).
							</div></li><li
                      class="listitem"><div
                        class="para">
								<code
                          class="literal">defaults</code> significa o grupo de opções padrão: <code
                          class="literal">rw</code>, <code
                          class="literal">suid</code>, <code
                          class="literal">dev</code>, <code
                          class="literal">exec</code>, <code
                          class="literal">auto</code>, <code
                          class="literal">nouser</code> e <code
                          class="literal">async</code>, sendo que cada uma pode ser individualmente desabilitada após <code
                          class="literal">defaults</code> bastando adicionar <code
                          class="literal">nosuid</code>, <code
                          class="literal">nodev</code> e assim por diante, para bloquear <code
                          class="literal">suid</code>, <code
                          class="literal">dev</code> e assim por diante. Adicionando a opção <code
                          class="literal">user</code> reativa-a, já que <code
                          class="literal">defaults</code> inclue <code
                          class="literal">nouser</code>.
							</div></li></ul></div></li><li
                class="listitem"><div
                  class="para">
						backup: esse campo é quase sempre configurado com <code
                    class="literal">0</code>. Quando ele é <code
                    class="literal">1</code>, ele diz a ferramenta <code
                    class="command">dump</code> que a partição contém dados que devem ser copiados para outro dispositivo para poderem ser recuperados, caso seja necessário (backup).
					</div></li><li
                class="listitem"><div
                  class="para">
						check order: esse último campo indica quando a integridade do sistema de arquivos deve ser checada na inicialização, e em que ordem essa checagem deveria ser executada. Se ele é <code
                    class="literal">0</code>, nenhuma checagem é conduzida. O sistema de arquivos raiz deve ter valor <code
                    class="literal">1</code>, enquanto outros sistemas de arquivos permanentes recebem valor <code
                    class="literal">2</code>.
					</div></li></ul></div><div
            class="example"><a
              xmlns=""
              id="example.fstab"></a><p
              class="title"><strong>Exemplo 8.5. Exemplo do arquivo <code
                  class="filename">/etc/fstab</code></strong></p><div
              class="example-contents"><pre
                class="programlisting">
# /etc/fstab: static file system information.
#
# &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;
proc            /proc           proc    defaults        0       0
# / was on /dev/sda1 during installation
UUID=c964222e-6af1-4985-be04-19d7c764d0a7 / ext3 errors=remount-ro 0 1
# swap was on /dev/sda5 during installation
UUID=ee880013-0f63-4251-b5c6-b771f53bd90e none swap sw  0       0
/dev/scd0       /media/cdrom0   udf,iso9660 user,noauto 0       0
/dev/fd0        /media/floppy   auto    rw,user,noauto  0       0
arrakis:/shared /shared         nfs     defaults        0       0</pre></div></div><div
            class="para">
				A última entrada neste exemplo corresponde ao sistema de arquivos de rede (NFS): o diretório <code
              class="filename">/shared/</code> no servidor <span
              class="emphasis"><em>arrakis</em></span> é montado em <code
              class="filename">/shared/</code> na máquina local. O formato do arquivo <code
              class="filename">/etc/fstab</code> está documentado na página de manual <span
              class="citerefentry"><span
                class="refentrytitle">fstab</span>(5)</span>.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>APROFUNDANDO</em></span> Montagem automática</strong></p></div></div></div><div
              class="para">
				O pacote <span
                class="emphasis"><em>am-utils</em></span> provê o utilitário de auto montagem <code
                class="command">amd</code>, capaz de montar mídias removíveis por demanda, quando um usuário tenta acessar seus pontos de montagem usuais. Ele irá desmontar esses dispositivos quando nenhum processo estiver mais acessando eles.
			</div><a
              id="id-1.11.13.7.9.3"
              class="indexterm"></a><a
              id="id-1.11.13.7.9.4"
              class="indexterm"></a><a
              id="id-1.11.13.7.9.5"
              class="indexterm"></a><a
              id="id-1.11.13.7.9.6"
              class="indexterm"></a><a
              id="id-1.11.13.7.9.7"
              class="indexterm"></a><div
              class="para">
				Outros utilitários de auto montagem existem, como o <code
                class="command">automount</code> do pacote <span
                class="emphasis"><em>autofs</em></span> package.
			</div><div
              class="para">
				Note também que o GNOME, KDE, e outros ambientes gráficos de trabalho, trabalham em conjunto com o <span
                class="emphasis"><em>udisks</em></span>, e podem montar automaticamente mídia removível quando elas forem conectadas.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.locate-updatedb"></a>8.9.6. <code
                    class="command">locate</code> e <code
                    class="command">updatedb</code></h3></div></div></div><a
            id="id-1.11.13.8.2"
            class="indexterm"></a><a
            id="id-1.11.13.8.3"
            class="indexterm"></a><a
            id="id-1.11.13.8.4"
            class="indexterm"></a><div
            class="para">
				O comando <code
              class="command">locate</code> pode encontrar a localização de um arquivo quando você sabe apenas parte do nome. Ele envia o resultado quase que instantaneamente, já que ele consulta uma base de dados que armazena a localização de todos os arquivos no sistema; essa base de dados é atualizada diariamente pelo comando <code
              class="command">updatedb</code>. Existem multiplas implementações do comando <code
              class="command">locate</code> e o Debian escolheu o <span
              class="pkg pkg">mlocate</span> para seu sistema padrão.
			</div><div
            class="para">
				O <code
              class="command">mlocate</code> é suficientemente esperto para retornar apenas os arquivos os quais são acessíveis ao usuário que está executando o comando, mesmo que ele use uma base de dados que sabe sobre todos os arquivos no sistema (já que a sua implementação <code
              class="command">updatedb</code> roda com privilégio de root). Para uma segurança extra, o administrador pode usar <code
              class="varname">PRUNEDPATHS</code> no <code
              class="filename">/etc/updatedb.conf</code> para excluir alguns diretórios de serem indexados.
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.config-bootloader.html"><strong>Anterior</strong>8.8. Configurando o carregador de boot (bootloade...</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Acima</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Principal</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.kernel-compilation.html"><strong>Próxima</strong>8.10. Compilando o núcleo</a></li></ul></body></html>
