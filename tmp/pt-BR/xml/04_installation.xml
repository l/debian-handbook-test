<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
]>
<chapter id="installation" lang="pt-BR">
	<chapterinfo>
		 <keywordset>
			<keyword>Instalação</keyword>
			 <keyword>Particionamento</keyword>
			 <keyword>Formatando</keyword>
			 <keyword>Sistema de Arquivos</keyword>
			 <keyword>Setor de Inicialização</keyword>
			 <keyword>Detecção de Hardware</keyword>

		</keywordset>

	</chapterinfo>
	 <title>Instalação</title>
	 <highlights> <para>
		Para utilizar o Debian, você precisa instalá-lo em um computador; esta tarefa é feita pelo programa <emphasis>debian-installer</emphasis>. Uma instalação correta envolve muitas operações. Este capítulo revisa as mesmas em ordem cronológica.
	</para>
	 </highlights> <indexterm>
		<primary>instalação</primary>
		<secondary>do sistema</secondary>
	</indexterm>
	 <sidebar> <title><emphasis>DE VOLTA AO BÁSICO</emphasis> Um curso rápido no apêndice</title>
	 <para>
		Instalar um computador é sempre mais simples quando você está familiarizado com seu funcionamento. Se você não está, faça um desvio rápido para <xref linkend="short-remedial-course" /> antes de ler este capítulo.
	</para>
	 </sidebar> <para>
		O instalador para <emphasis role="distribution">Jessie</emphasis> é baseado no <command>debian-installer</command>. Seu projeto modular permite que o mesmo trabalhe em diversos cenários e evolua e se adapte a mudanças. Apesar das limitações implícitas devido a necessidade de suportar um grande número de arquiteturas, este instalador é muito acessível aos iniciantes, já que o mesmo ajuda o usuário em cada estágio do processo. Detecção automática de hardware, particionamento guiado, e interfaces gráficas resolveram a maioria dos problemas que os novatos enfrentam durante os primeiros anos no Debian.
	</para>
	 <indexterm>
		<primary>instalador</primary>
	</indexterm>
	 <indexterm>
		<primary><command>debian-installer</command></primary>
	</indexterm>
	 <para>
		A instalação precisa de 80 MB de RAM (Memória de Acesso Randômico) e pelo menos 700 MB de espaço no disco rígido. Todos os computadores da Falcot cumprem esses critérios. Note, entretanto, que esse cenário se aplica a uma instalação muito limitada do sistema sem nenhuma interface gráfica. Um mínimo de 512 MB de RAM e 5GB de espaço no disco rígido são recomendados para uma estação de trabalho.
	</para>
	 <sidebar> <title><emphasis>ATENÇÃO</emphasis> Atualizando a partir do Wheezy</title>
	 <para>
		Se você já tem o Debian Wheezy instalado em seu computador, este capítulo não é para você! Ao contrário de outras distribuições, o Debian permite atualizar o sistema de uma versão para a próxima sem precisar reinstalar o sistema. Reinstalar, além de ser desnecessária, pode ser perigosa, já que pode remover programas já instalados.
	</para>
	 <para>
		O processo de atualização será descrito em <xref linkend="sect.dist-upgrade" />.
	</para>
	 </sidebar> <section id="sect.installation-methods">
		<title>Métodos de Instalação</title>
		 <para>
			Um sistema Debian pode ser instalado a partir de diversos tipos de mídia, desde que a BIOS da máquina permita. Você pode exemplo inicializar com um CD-ROM, um pendrive, ou até mesmo pela rede.
		</para>
		 <sidebar> <title><emphasis>DE VOLTA AO BÁSICO</emphasis> BIOS, a interface do hardware/programa</title>
		 <indexterm>
			<primary>BIOS</primary>
		</indexterm>
		 <indexterm>
			<primary>Sistema Básico de Entrada/Saída (BIOS)</primary>
		</indexterm>
		 <para>
			BIOS (sigla de Basic Input/Output System) é um software que é incluído na placa mãe (A placa eletrônica que conecta todos os periféricos) e é executado quando o computador liga, para carregar um sistema operacional (via um gerenciador de boot adaptado). Ele roda nos bastidores para fornecer uma interface entre o hardware e o software (no nosso caso, o núcleo do Linux).
		</para>
		 </sidebar> <section id="sect.install-cd">
			<title>Instalando a partir do CD-ROM/DVD-ROM</title>
			 <para>
				O método mais amplamente usado para a instalação é a partir do CD-ROM (ou DVD-ROM, que se comporta exatamente igual): o computador é inicializado a partir desta mídia e o programa de instalação toma o controle.
			</para>
			 <para>
				Diferentes famílias de CD-ROMs tem propósitos diferentes: <emphasis>netinst</emphasis> (network installation - instalação pela rede) contém o instalador e o sistema Debian básico; todos os outros programas são baixados. Sua “imagem”, ou seja, o sistema de arquivos ISO-9660 que contém o conteúdo exato do disco, usa somente entre 150 e 280 MB (dependendo da arquitetura). Por outro lado, o conjunto completo oferece todos os pacotes e permite uma instalação em um computador que não tem acesso à Internet; ele requer em torno de 84 CD-ROMs (ou 12 DVD-ROMs, ou dois discos Blu-ray). Mas os programas são divididos entre os discos de acordo com sua popularidade e importância; os primeiros três discos são suficientes para a maioria das instalações, já que neles tem os softwares mais usados.
			</para>
			 <para>
				Existe um último tipo de imagem, conhecido como <filename>mini.iso</filename>, que está disponível apenas como um "subproduto" do instalador. A imagem apenas contém o mínimo necessário para configurar a rede e todo o resto é baixado (incluindo as partes do próprio instalador, o que explica o porque dessas imagens tenderem a falhar quando uma nova versão do instalador é lançada). essas imagens podem ser encontradas nos espelhos normais do Debian sob o diretório <filename>dists/<replaceable>lançamento</replaceable>/main/installer-<replaceable>arch</replaceable>/current/images/netboot/</filename>.
			</para>
			 <indexterm>
				<primary><filename>mini.iso</filename></primary>
			</indexterm>
			 <sidebar> <title><emphasis>DICA</emphasis> Discos multi-arquiteturas</title>
			 <para>
				A maioria dos CD- e DVD-ROMs trabalham somente com uma arquitetura específica. Se você deseja baixar a imagens completas, você deve se preocupar em escolher aquelas que funcionam com o hardware do computador no qual você pretende instalá-las.
			</para>
			 <para>
				Agumas imagens de CD/DVD-ROM podem funcionar em várias arquiteturas. Temos uma imagem de CD-ROM combinando a imagem <emphasis>netinst</emphasis> das arquiteturas <emphasis>i386</emphasis> e <emphasis>amd64</emphasis>. Também existe uma imagem de DVD-ROM que contém o instalador e uma seleção de pacotes binários para <emphasis>i386</emphasis> e <emphasis>amd64</emphasis>, assim como os pacotes fonte correspondentes.
			</para>
			 </sidebar> <indexterm>
				<primary>CD-ROM</primary>
				<secondary>CD-ROM de instalação</secondary>
			</indexterm>
			 <indexterm>
				<primary>CD-ROM</primary>
				<secondary><emphasis>netinst CD-ROM</emphasis></secondary>
			</indexterm>
			 <indexterm>
				<primary>DVD-ROM</primary>
				<secondary>DVD-ROM de instalação</secondary>
			</indexterm>
			 <indexterm>
				<primary>DVD-ROM</primary>
				<secondary><emphasis>netinst DVD-ROM</emphasis></secondary>
			</indexterm>
			 <para>
				Para obter as imagens de CD-ROM do Debian, você precisa claramente baixá-las e queimar a mesma em um disco. Você poderia também comprá-la, e, assim, prover um pouco de suporte financeiro ao projeto. Verifique o site para ver a lista de imagens de CD-ROM e os sites de para baixá-las. <ulink type="block" url="http://www.debian.org/CD/index.html" />
			</para>

		</section>
		 <section id="sect.install-usb">
			<title>Iniciando a partir de um pendrive</title>
			 <indexterm>
				<primary>Pendrive</primary>
			</indexterm>
			 <para>
				Como a maioria dos computadores são capazes de inicializar a partir de dispositivos USB, você pode também instalar o Debian a partir de um pendrive USB (isso nada mais é do que um pequeno disco de memória flash).
			</para>
			 <para>
				O manual de instalação explica como criar um dispositivo USB que contenha o <command>debian-installer</command> (instalador debian). O procedimento é bastante simples porque imagens ISO para as arquiteturas i386 e amd64 agora são imagens híbridas que podem inicializar a partir de um CD-ROM ou de um dispositivo USB.
			</para>
			 <para>
				Você deve primeiro identificar o nome do dispositivo da "USB key" (ex: <literal>/dev/sdb</literal>); o jeito mais simples de fazer isto é verificar as mensagens enviadas pelo núcleo ("kernel") usando o comando <command>dmesg</command>. Então você deve copiar a imagem ISO previamente baixada (por exemplo debian-8.0.0-amd64-i386-netinst.iso) com o comando <command>cat debian-8.0.0-amd64-i386-netinst.iso &gt;/dev/sdb; sync</command>. este comando requer direito de administrador, já que acessa o "USB key" diretamente e apaga o seu conteúdo sem conferir.
			</para>
			 <para>
				Uma explicação mais detalhada está disponível no manual de instalação. Entre outras coisas, ele descreve um método alternativo de preparar uma "USB key" que é mais complexo, mas que permite personalizar as opções padrão do instalador (aquelas configuradas na linha de comando do kernel). <ulink type="block" url="http://www.debian.org/releases/stable/amd64/ch04s03.html" />
			</para>

		</section>
		 <section id="sect.install-net">
			<title>Instalando via inicialização pela rede</title>
			 <indexterm>
				<primary>instalação</primary>
				<secondary><emphasis>instalação via "netboot"</emphasis></secondary>
			</indexterm>
			 <indexterm>
				<primary>instalação</primary>
				<secondary><emphasis>instalação via PXE</emphasis></secondary>
			</indexterm>
			 <indexterm>
				<primary>instalação</primary>
				<secondary><emphasis>instalação via TFTP</emphasis></secondary>
			</indexterm>
			 <para>
				Muitas BIOS permitem iniciar diretamente da rede baixando um kernel e uma imagem de sistema de arquivos mínima. Este método (que tem muitos nomes, tal como inicialização <acronym>PXE</acronym> ou <acronym>TFTP</acronym>) pode ser um salva-vidas se o computador não tem um leitor de CD-ROM, ou se a BIOS não pode iniciar por outros meios.
			</para>
			 <para>
				Este método de instalação funciona em dois passos. Primeiro, quando iniciando o computador, a BIOS (ou a placa de rede) envia um pedido BOOTP/DHCP para automaticamente adquirir um endereço IP. Quando um servidor BOOTP ou DHCP retorna uma resposta, ele inclui um nome de arquivo, assim como configurações de rede. Depois da rede configurada, o computador cliente envia um pedido TFTP (Trivial File Transfer Protocol) para um arquivo cujo nome foi previamente indicado. Quando o arquivo é recebido, ele é executado como se estivesse num carregador de inicialização ("bootloader"). Ele então lança o instalador Debian, que é executado como se estivesse num disco, CD-ROM ou "USB key".
			</para>
			 <para>
				Todos os detalhes deste método estão disponíveis no guia de instalação (seção “Preparando os arquivos para Inicialização em Rede com TFTP”). <ulink type="block" url="http://www.debian.org/releases/stable/amd64/ch05s01.html#boot-tftp" /> <ulink type="block" url="http://www.debian.org/releases/stable/amd64/ch04s05.html" />
			</para>

		</section>
		 <section id="sect.install-auto">
			<title>Outros métodos de instalação</title>
			 <para>
				Quando temos que instalar de forma personalizada um grande número de computadores, geralmente escolhemos um método automatizado ao invés de um manual. Dependendo da situação e da complexidade das instalações a serem feitas, podemos usar um FAI (Fully Automatic Installer, ou Instalador Totalmente Automático, descrito em <xref linkend="sect.fai" />), ou mesmo um CD de instalação personalizado com "preseeding" (veja <xref linkend="sect.d-i-preseeding" />).
			</para>

		</section>

	</section>
	 <section id="sect.installation-steps">
		<title>Instalando, Passo a Passo</title>
		 <section id="sect.install-boot">
			<title>Ligando e iniciando o Instalador</title>
			 <para>
				Uma vez que a BIOS começou a iniciar do CD- ou DVD-ROM, o menu do carregador de boot Isolinux aparecerá. Neste ponto, o kernel do Linux ainda não está carregado; este menu permite escolher o kernel para iniciar e passar parâmetros possíveis para serem transferidos a ele no processo.
			</para>
			 <para>
				Para uma instalação padrão, você pode escolher “Install” ou “Graphical install” (com as setas), então pressionar a tecla <keycap>Enter</keycap> para iniciar o restante do processo de instalação. Se o DVD-ROM é um disco “Multi-arch”, e a máquina tem um processador Intel ou AMD 64 bit , as opções de menu “64 bit install” e “64 bit graphical install” habilitam a instalação da variante 64 bit (<emphasis>amd64</emphasis>) no lugar da variante 32 bit padrão (<emphasis>i386</emphasis>). Na prática, a versão de 64 bits quase sempre pode ser utilizada: a maioria dos processadores recentes são processadores de 64 bits e a versão 64 bit funciona melhor com a grande quantidade de RAM que os novos computadores tendem a ter.
			</para>
			 <sidebar> <title><emphasis>SE APROFUNDANDO</emphasis> 32 ou 64 bits?</title>
			 <indexterm>
				<primary>PAE</primary>
			</indexterm>
			 <indexterm>
				<primary>Physical Address Extension (Extensão de Endereço Físico)</primary>
			</indexterm>
			 <indexterm>
				<primary>32/64 bits, escolha</primary>
			</indexterm>
			 <para>
				A diferença fundamental entre sistemas de 32 e 64 bits é o tamanho dos endereços de memória. Teoricamente, um sistema de 32 bits não pode trabalhar com mais de 4 GB de RAM (2<superscript>32</superscript> bytes). Na prática, é possível contornar essa limitação usando a variante do núcleo chamada <literal>686-pae</literal>, se o processador entende a funcionalidade PAE (Physical Address Extension). Entretando, usar este recurso traz um grande impacto no desempenho do sistema. É por isso que é útil para usar o modo de 64 bits num servidor com uma grande quantidade de RAM.
			</para>
			 <para>
				Para um computador de escritório (onde uns poucos porcentos de diferença na performance é despresível), você deve ter em mente que alguns programas proprietários não estão disponíveis em versões de 64 bits (como o Skype, por exemplo). É tecnicamente possível fazê-los funcionar em sistemas de 64 bits, mas você terá que instalar as versões de 32 bits com todas bibliotecas necessárias (veja <xref linkend="sect.multi-arch" />), e às vezes usar <command>setarch</command> ou <command>linux32</command> (no pacote <emphasis role="pkg">util-linux</emphasis>) para enganar as aplicações quanto à netureza do sistema. <indexterm><primary><command>setarch</command></primary></indexterm> <indexterm><primary><command>linux32</command></primary></indexterm>
			</para>
			 </sidebar> <sidebar> <title><emphasis>NA PRÁTICA</emphasis> Instalação lado a lado com um sistema Windows</title>
			 <indexterm>
				<primary>duplo boot</primary>
			</indexterm>
			 <para>
				Se o computador já roda Windows, não precisa removê-lo para instalar o Debian. Você pode ter ambos os sistemas juntos, cada um instalado num disco ou partição separados, e escolher qual iniciar quando der boot no computador. Este configuração é conhecida como duplo boot (“dual boot”), e o sistema de instalação do Debian pode configurar isto. Isto é feito durante o estágio de particionamento do disco rígido e durante a configuração do carregador de boot (veja as barras laterais <xref linkend="sidebar.shrinking-partition" /> and <xref linkend="sidebar.bootloader-dual-boot" /> ).
			</para>
			 <para>
				Se você já tem um sistema Windows em funcionamento, você pode evitar gastar um CD-ROM; O Debian oferece um programa Windows que irá baixar um instalador leve do Debian e configurá-lo no disco rígido. Você somente precisará então reiniciar o computador e escolher entre inicializar normalmente o Windows ou inicializar o programa de instalação. Você também pode encontrá-lo em uma página web dedicada que tem um nome bem intuitivo... <ulink type="block" url="http://ftp.debian.org/debian/tools/win32-loader/stable/" /> <ulink type="block" url="http://www.goodbye-microsoft.com/" />
			</para>
			 </sidebar> <sidebar> <title><emphasis>DE VOLTA AO BÁSICO</emphasis> Carregador de inicialização</title>
			 <indexterm>
				<primary>carregador</primary>
				<secondary>carregador de inicialização</secondary>
			</indexterm>
			 <indexterm>
				<primary>carregador de inicialização</primary>
			</indexterm>
			 <indexterm>
				<primary>carregador</primary>
				<secondary>inicialização</secondary>
			</indexterm>
			 <para>
				O carregador de inicialização é um programa de baixo nível que é responsável por inicializar o kernel Linux logo após a BIOS passar para ele o controle. Para realizar esta tarefa, ele deve ser capaz de localizar o kernel Linux para inicializar no disco. Nas arquiteturas i386 e amd64, os dois programas mais utilizados para realizar esta tarefa são o LILO, o mais velho dos dois, e o GRUB, seu substituto moderno. Isolinux e Syslinux são alternativas frequentemente utilizadas para inicializar de mídias removíveis.
			</para>
			 </sidebar> <para>
				Cada opção do menu esconde uma linha de comando de inicialização específica, que pode ser configurada conforme a necessidade ao pressionar a tecla <keycap>TAB</keycap> antes de validar a opção e inicializar. A opção "Ajuda" do menu mostra a antiga interface de linha de comando, onde as teclas <keycap>F1</keycap> a <keycap>F10</keycap> exibem diferentes telas de ajuda detalhando as várias opções disponíveis no terminal. Você raramente irá utilizar esta opção, exceto em casos muito específicos.
			</para>
			 <para>
				O modo "avançado" (acessível no menu "Opções avançadas") detalha todas as opções possíveis no processo de instalação, e possibilita a navegação entre os vários passos sem que eles aconteçam automaticamente em sequência. Seja cuidadoso, este modo muito detalhado pode ser confuso devido as muitas opções de configuração que ele oferece.
			</para>
			 <figure>
				<title>Tela de inicialização</title>
				 <mediaobject>
					<imageobject>
						<imagedata fileref="images/inst-boot.png" format="PNG" scalefit="1" width="65%" />
					</imageobject>

				</mediaobject>

			</figure>
			 <para>
				Uma vez inicializado, o programa de instalação guia você passo a passo pelo processo. Esta seção apresenta cada um desses passos em detalhe. Aqui seguimos o processo de instalação de um DVD-ROM Multi-Arquitetura (mais especificamente, a versão beta4 do instalador para Jessie); instalações <emphasis>netinst</emphasis>, bem como a versão final do instalador, podem ser ligeiramente diferentes. Também falaremos da instalação no modo gráfico, mas a única diferença da "clássica" (modo texto) está na aparência visual.
			</para>

		</section>
		 <section id="sect.install-lang">
			<title>Selecionando o idioma</title>
			 <indexterm>
				<primary>escolha</primary>
				<secondary>do idioma</secondary>
			</indexterm>
			 <para>
				O programa de instalação começa em inglês, mas o primeiro passo permite ao usuário escolher o idioma que será usado no resto do processo. Escolher o português do Brasil, por exemplo, fornecerá uma instalação totalmente traduzida para o português do Brasil (e um sistema configurado em português como resultado). Esta escolha também é usada para definir opções de padrão mais relevantes nas fases subsequentes (principalmente o layout de teclado).
			</para>
			 <sidebar> <title><emphasis>DE VOLTA AO BÁSICO</emphasis> Navegando com o teclado</title>
			 <para>
				Alguns passos no processo de instalação requerem que você entre com informações. Estas telas tem muitas áreas que podem "ter foco" (áreas de entrada de texto, caixas de seleção, lista de escolhas, botões OK e Cancelar), e a tecla <keycap>TAB</keycap> permite que você mova de uma para outra.
			</para>
			 <para>
				No modo gráfico, você pode usar o mouse como usaria normalmente em um instalador gráfico de desktop.
			</para>
			 </sidebar> <figure role="flow.inline">
				<title>Selecionando o idioma</title>
				 <mediaobject>
					<imageobject>
						<imagedata fileref="images/inst-lang.png" format="PNG" scalefit="1" width="50%" />
					</imageobject>

				</mediaobject>
				 <mediaobject>
					<imageobject>
						<imagedata fileref="images/inst-lang-txt.png" format="PNG" scalefit="1" width="50%" />
					</imageobject>

				</mediaobject>

			</figure>

		</section>
		 <section id="sect.install-country">
			<title>Selecionando o país</title>
			 <indexterm>
				<primary>escolha</primary>
				<secondary>do país</secondary>
			</indexterm>
			 <para>
				O segundo passo consiste em escolher seu país. Combinado com o idioma, esta informação possibilita ao programa oferecer o padrão de teclado mais apropriado. Isto também influencia a configuração do fuso horário. Nos Estados Unidos, o padrão de teclado QWERTY é sugerido, e uma opção com os fuso horários adequados é oferecida.
			</para>
			 <figure role="flow.inline">
				<title>Selecionando o país</title>
				 <mediaobject>
					<imageobject>
						<imagedata fileref="images/inst-country.png" format="PNG" scalefit="1" width="50%" />
					</imageobject>

				</mediaobject>
				 <mediaobject>
					<imageobject>
						<imagedata fileref="images/inst-country-txt.png" format="PNG" scalefit="1" width="50%" />
					</imageobject>

				</mediaobject>

			</figure>

		</section>
		 <section id="sect.install-keyboard">
			<title>Selecionando o padrão do teclado</title>
			 <indexterm>
				<primary>disposição do teclado</primary>
			</indexterm>
			 <indexterm>
				<primary>leiaute, teclado</primary>
			</indexterm>
			 <para>
				O teclado "Inglês Americano" corresponde ao padrão QWERTY usual.
			</para>
			 <figure role="flow.inline">
				<title>Escolha do teclado</title>
				 <mediaobject>
					<imageobject>
						<imagedata fileref="images/inst-keyboard.png" format="PNG" scalefit="1" width="50%" />
					</imageobject>

				</mediaobject>
				 <mediaobject>
					<imageobject>
						<imagedata fileref="images/inst-keyboard-txt.png" format="PNG" scalefit="1" width="50%" />
					</imageobject>

				</mediaobject>

			</figure>

		</section>
		 <section id="sect.install-detect-hardware">
			<title>Detectando o Hardware</title>
			 <para>
				Este passo é completamente automático na vasta maioria dos casos. O instalador detecta seu hardware e tenta identificar o dispositivo de CD-ROM utilizado para acessar seu conteúdo. Ele carrega os módulos correspondentes aos vários componentes de hardware detectados e então "monta" o CD-ROM para lê-lo. Os passos anteriores estavam completamente contidos na imagem de inicialização incluída no CD, um arquivo de tamanho limitado e carregado na memória pela BIOS ao inicializar do CD.
			</para>
			 <para>
				O instalador pode trabalhar com a vasta maioria dos dispositivos, especialmente periféricos ATAPI (algumas vezes chamados IDE e EIDE). Entretanto, se a detecção do leitor de CD-ROM falha, o instalador oferece a escolha de carregar um módulo do núcleo (por exemplo de um dispositivo USB) correspondendo ao driver de CD-ROM.
			</para>

		</section>
		 <section id="sect.install-load-components">
			<title>Carregando componentes</title>
			 <para>
				Com os conteúdos do CD agora disponíveis, o instalador carrega todos os arquivos necessários para continuar seu trabalho. Isso inclui drivers adicionais para os dispositivos restantes (especialmente a placa de rede), assim como todos os componentes do programa de instalação.
			</para>

		</section>
		 <section id="sect.install-detect-network">
			<title>Detectando Dispositivos de Rede</title>
			 <para>
				Este passo automático tenta identificar a placa de rede e carregar o módulo correspondente. Se a detecção automática falha, você pode selecionar manualmente o módulo a carregar. Se nenhum módulo funciona, é possível carregar um módulo específico de um dispositivo removível. Esta última solução geralmente só é necessária se o driver apropriado não está incluído no kernel Linux padrão, mas disponível em outro lugar, como a página web do fabricante.
			</para>
			 <para>
				Este passo deve definitivamente obter sucesso para as instalações <emphasis>netinst</emphasis>, já que os pacotes Debian devem ser carregados da rede.
			</para>

		</section>
		 <section id="sect.install-network-config">
			<title>Configurando a Rede</title>
			 <indexterm>
				<primary>configuração</primary>
				<secondary>de rede</secondary>
				<tertiary>estática</tertiary>
			</indexterm>
			 <indexterm>
				<primary>configuração</primary>
				<secondary>de rede</secondary>
				<tertiary>DHCP</tertiary>
			</indexterm>
			 <para>
				Para automatizar o processo tanto quanto possível, o instalador tenta configurar uma configuração automática de rede por descoberta de rede DHCP (para IPv4) e por IPv6. Se isso falhar, ele oferece mais opções: tentar de novo com uma configuração DHCP normal, tentando uma configuração DHCP declarando o nome da máquina, ou definir uma configuração de rede estática.
			</para>
			 <para>
				Esta última opção requer um endereço IP, uma máscara de sub-rede, um endereço IP para um possível gateway, um nome de máquina, e um nome de domínio.
			</para>
			 <sidebar> <title><emphasis>DICA</emphasis> Configuração sem DHCP</title>
			 <para>
				Se a rede local é equipada com um servidor DHCP que você não deseja utilizar porque você prefere definir um endereço IP estático para a máquina durante a instalação, você pode adicionar a opção <userinput>netcfg/use_dhcp=false</userinput> ao inicializar de um CD-ROM. Você somente precisa ir para a opção desejada do menu pressionando a tecla <keycap>TAB</keycap> e adicionar a opção desejada antes de pressionar a tecla <keycap>Enter</keycap>.
			</para>
			 </sidebar> <sidebar> <title><emphasis>ATENÇÃO</emphasis> Não improvise</title>
			 <para>
				Muitas redes locais são baseadas em uma suposição implícita que todas as máquinas são confiáveis, e configurações inadequadas de um único computador irão frequentemente perturbar toda a rede. Como resultado, não conecte sua máquina em uma rede sem primeiramente consultar o administrador sobre as configurações apropriadas (por exemplo, o endereço IP, máscara de rede e endereços de broadcast).
			</para>
			 </sidebar>
		</section>
		 <section>
			<title>Senha do administrador</title>
			 <indexterm>
				<primary>conta</primary>
				<secondary>conta do administrador</secondary>
			</indexterm>
			 <para>
				A conta do superusuário root, reservada para o administrador da máquina, é automaticamente criada durante a instalação. É por isto que uma senha é pedida.O instalador também pede por uma confirmação da senha para prevenir qualquer erro de digitação que poderia ser difícil de corrigir posteriormente.
			</para>
			 <figure>
				<title>Senha do administrador</title>
				 <mediaobject>
					<imageobject>
						<imagedata fileref="images/inst-rootpw.png" format="PNG" scalefit="1" width="65%" />
					</imageobject>

				</mediaobject>

			</figure>
			 <sidebar> <title><emphasis>SEGURANÇA</emphasis> Senha do administrador</title>
			 <para>
				A senha do usuário root deve ser longa (8 caracteres ou mais) e impossível de adivinhar. De fato, qualquer computador (e com mais razão qualquer servidor) conectado a internet é regularmente alvo de tentativas de conexões automatizadas com as senhas mais óbvias. Algumas vezes ele ainda pode ser alvo de ataques de dicionário, em que várias combinações de palavras e números são testadas como senhas. Evite usar nomes de filhos ou pais, datas de nascimento, etc.: muitos de seus colegas de trabalho podem conhecê-lo e você raramente quer dar a eles livre acesso ao computador em questão.
			</para>
			 <para>
				Estas observações são igualmente aplicáveis para senhas de outros usuários, mas as consequências de uma conta comprometida são menos drásticas para usuários sem privilégios administrativos.
			</para>
			 <para>
				Se estiver faltando inspiração, não hesite em usar geradores de senha, como o <command>pwgen</command> (no pacote de mesmo nome).
			</para>
			 </sidebar>
		</section>
		 <section>
			<title>Criando o Primeiro Usuário</title>
			 <para>
				O Debian também impõe a criação de uma conta de usuário padrão para que o administrador não adquira o mau hábito de trabalhar como root. O princípio da precaução, essencialmente, significa que cada tarefa é executada com os privilégios mínimos necessários, a fim de limitar os danos causados por erro humano. Por isso, o instalador vai pedir o nome completo do usuário primeiro, seu nome de usuário e sua senha (duas vezes, para evitar o risco de entrada errada).
			</para>
			 <figure>
				<title>Nome do primeiro usuário</title>
				 <mediaobject>
					<imageobject>
						<imagedata fileref="images/inst-username.png" format="PNG" scalefit="1" width="65%" />
					</imageobject>

				</mediaobject>

			</figure>

		</section>
		 <section id="sect.install-clock-config">
			<title>Configurando o relógio</title>
			 <para>
				Se a rede estiver disponível, o relógio interno do sistema é atualizado (uma única vez) a partir de um servidor NTP. Desse modo, os registros de tempo nos relatórios estarão corretos desde a primeira inicialização. Para que eles permaneçam consistentemente precisos ao longo do tempo, um serviço (daemon) NTP precisa ser configurado após a instalação inicial (veja <xref linkend="sect.time-synchronization" />).
			</para>

		</section>
		 <section id="sect.install-detect-disks">
			<title>Detectando Discos e Outros Dispositivos</title>
			 <para>
				Este passo automaticamente detecta os discos rígidos nos quais o Debian pode ser instalado. Eles serão apresentados no próximo passo: particionamento.
			</para>

		</section>
		 <section id="sect.install-partman">
			<title>Iniciando a Ferramenta de Partição</title>
			 <indexterm>
				<primary>particionando</primary>
			</indexterm>
			 <sidebar> <title><emphasis>CULTURA</emphasis> Usos do particionamento</title>
			 <para>
				O particionamento, um passo indispensável na instalação, consiste em dividir o espaço disponível nos discos rígidos (cada subdivisão sendo chamada de "partição") de acordo com os dados armazenados neles e a utilização para a qual se pretende utilizar o computador. Este passo também inclui escolher os sistemas de arquivos a serem utilizados. Todas estas decisões terão influência na performance, segurança de dados e na administração do servidor.
			</para>
			 </sidebar> <para>
				O passo de particionamento é tradicionalmente difícil para novos usuários. É necessário definir as várias porções dos discos (ou "partições") em que os sistemas de arquivos do Linux e a memória virtual (área de troca) serão armazenados. Esta tarefa é complicada se outro sistema operacional que você queira manter já está na máquina. De fato, você terá que ter certeza de não alterar as partições dele (ou que você redimensione elas sem causar danos).
			</para>
			 <para>
				Felizmente, o programa de particionamento tem um modo "guiado" que recomenda partições para o usuário fazer - na maioria dos casos, você pode simplesmente validar as sugestões do programa.
			</para>
			 <figure>
				<title>Escolha do modo de particionamento</title>
				 <mediaobject>
					<imageobject>
						<imagedata fileref="images/inst-partman.png" format="PNG" scalefit="1" width="65%" />
					</imageobject>

				</mediaobject>

			</figure>
			 <para>
				A primeira tela na ferramenta de particionamento oferece a opção de usar todo o disco rígido para criar várias partições. Para um computador (novo) que irá utilizar somente Linux, esta opção é claramente a mais simples, e você pode escolher a opção "Assistido - utilizar todo o disco". Se o computador tem dois discos rígidos para dois sistemas operacionais, selecione um disco para cada também é uma solução que pode facilitar o particionamento. Em ambos os casos, a próxima tela oferece a escolha do disco onde o Linux será instalado ao selecionar a opção correspondente (por exemplo, “SCSI3 (0,0,0) (sda) - 12.9 GB ATA VBOX HARDDISK”). Você então inicia o particionamento assistido.
			</para>
			 <figure>
				<title>Disco a utilizar para particionamento guiado</title>
				 <mediaobject>
					<imageobject>
						<imagedata fileref="images/inst-partman-disk.png" format="PNG" scalefit="1" width="65%" />
					</imageobject>

				</mediaobject>

			</figure>
			 <para>
				Assistente de particionamento também pode criar volumes lógicos LVM em vez de partições (veja abaixo). Uma vez que o restante da operação é o mesmo, não vamos passar por cima da opção "Guiado - usar o disco inteiro e configurar LVM" (criptografado ou não).
			</para>
			 <para>
				Em outros casos, quando o Linux deve trabalhar ao lado de outras partições já existentes, você precisa escolher o particionamento manual.
			</para>
			 <section id="sect.install-autopartman-mode">
				<title>Particionamento assistido</title>
				 <indexterm>
					<primary>particionando</primary>
					<secondary>particionamento guiado</secondary>
				</indexterm>
				 <para>
					A ferramenta de particionamento guiada oferece três métodos de particionamento, que correspondem a diferentes usos.
				</para>
				 <figure>
					<title>Particionamento assistido</title>
					 <mediaobject>
						<imageobject>
							<imagedata fileref="images/inst-autopartman-mode.png" format="PNG" scalefit="1" width="65%" />
						</imageobject>

					</mediaobject>

				</figure>
				 <para>
					O primeiro método é chamado de "Todos os arquivos em uma partição". Toda a árvore do sistema Linux são armazenados em um único sistema de arquivos, o que corresponde ao diretório raiz <filename>/</filename>. Este particionamento simples e robusto se encaixa perfeitamente para sistemas pessoais ou de um único usuário. Na verdade, serão criadas duas partições: a primeira vai abrigar o sistema completo, a segunda a memória virtual (swap).
				</para>
				 <para>
					O segundo método, “Partição <filename>/home/</filename> separada”, é similar, mas divide a hierarquia de diretórios em dois: uma partição contém o sistema Linux (<filename>/</filename>), e a segunda contém os “diretórios de usuário” (ou seja, os dados dos usuários, arquivos e subdiretórios disponíveis em <filename>/home/</filename>).
				</para>
				 <para>
					O último método de particionamento, chamado “partições <filename>/home</filename>, <filename>/var</filename> e <filename>/tmp</filename> separadas”, é apropriado para servidores e sistemas multi-usuário. Ele divide a árvore de diretórios em várias partições: Além das partições raiz (<filename>/</filename>) e de contas de usuários (<filename>/home/</filename>), também tem partições para dados de software servidor (<filename>/var/</filename>) e arquivos temporários (<filename>/tmp/</filename>). Estas divisões têm várias vantagens. Os usuários não podem travar o servidor consumindo todo o espaço disponível no disco rígido (eles só podem lotar o <filename>/tmp/</filename> e o <filename>/home/</filename>). Os dados dos daemons (especialmente os logs) já não podem paralisar o resto do sistema.
				</para>
				 <sidebar> <title><emphasis>DE VOLTA AO BÁSICO</emphasis> Escolhendo um sistema de arquivos</title>
				 <indexterm>
					<primary>sistema</primary>
					<secondary>sistema de arquivos</secondary>
				</indexterm>
				 <indexterm>
					<primary>arquivo</primary>
					<secondary>sistema</secondary>
				</indexterm>
				 <para>
					Um sistema de arquivos define a forma na qual os dados são organizados no disco rígido. Cada sistema de arquivos existente tem seus méritos e limitações. Alguns são mais robustos, outros mais efetivos: se você conhece bem suas necessidades, é possível escolher o sistema de arquivos mais apropriado. Várias comparações já foram feitas; parece que ReiserFS é particularmente eficiente para ler muitos arquivos pequenos; <emphasis>XFS</emphasis>, por sua vez, é mais rápido com arquivos grandes. <emphasis>Ext4</emphasis>, o sistema de arquivos padrão do Debian, é uma boa combinação, baseado nas três versões anteriores do sistemas de arquivos historicamente usados no Linux (<emphasis>ext</emphasis>, <emphasis>ext2</emphasis>) e <emphasis>ext3</emphasis>). <emphasis>Ext4</emphasis> resolve certas limitações do <emphasis>ext3</emphasis> e é particularmente apropriado para discos rígidos com capacidades muito grandes. Outra opção seria experimentar o muito promissor <emphasis>btrfs</emphasis>, que inclui muitas funcionalidades que requerem, atualmente, o uso de LVM e/ou RAID.
				</para>
				 <para>
					Os sistemas de arquivos com recurso de journaling "diário" (como <emphasis>ext3</emphasis>, <emphasis>ext4</emphasis>, <emphasis>btrfs</emphasis>, <emphasis>reiserfs</emphasis> ou <emphasis>xfs</emphasis>) tomam medidas especiais para ser possível retornar a um estado consistente após uma interrupção abrupta, sem analisar completamente o disco inteiro (como era o caso com o <emphasis>ext2</emphasis>). Isto é possível através do preenchimento de um "journal" que descreve as operações para realizar antes de realmente executá-las. Se uma operação for interrompida, irá ser possível "repetir" a partir do "journal". Por outro lado, se ocorrer uma interrupção durante uma atualização do "journal", a última alteração solicitada é simplesmente ignorada; os dados a serem escritos podem ser perdidos, mas uma vez que os dados sobre o disco não mudaram, eles permaneceram coerentes. Isso não é nada além de um mecanismo transacional aplicada ao sistema de arquivos.
				</para>
				 </sidebar> <para>
					Depois de escolher o tipo de partição, o software calcula uma sugestão, e a descreve na tela; o usuário pode, então, modificá-la, se necessário. Você pode, em particular, escolher um outro sistema de arquivos se a escolha padrão (<emphasis>ext4</emphasis>) não é apropriada. Na maioria dos casos, no entanto, o particionamento proposto é razoável e pode ser aceito selecionando a opção "Finalizar o particionamento e escrever as mudanças no disco".
				</para>
				 <figure>
					<title>Validando o particionamento</title>
					 <mediaobject>
						<imageobject>
							<imagedata fileref="images/inst-partman-validation.png" format="PNG" scalefit="1" width="65%" />
						</imageobject>

					</mediaobject>

				</figure>

			</section>
			 <section id="sect.manual-partitioning">
				<title>Particionamento manual</title>
				 <indexterm>
					<primary>particonando</primary>
					<secondary>particionamento manual</secondary>
				</indexterm>
				 <para>
					Particionamento manual permite uma maior flexibilidade, permitindo que o usuário escolha a finalidade e o tamanho de cada partição. Além disso, este modo é inevitável, se você quiser usar o software RAID.
				</para>
				 <sidebar id="sidebar.shrinking-partition"> <title><emphasis>NA PRÁTICA</emphasis> diminuindo uma partição do Windows</title>
				 <indexterm>
					<primary>redimensionar uma partição</primary>
				</indexterm>
				 <indexterm>
					<primary>diminuir uma partição</primary>
				</indexterm>
				 <para>
					Para instalar o Debian ao lado de um sistema operacional existente (Windows ou outro), você deve ter algum espaço disponível no disco rígido que não está sendo usado por outro sistema, a fim de ser capaz de criar as partições dedicadas ao Debian. Na maioria dos casos, isso significa diminuir uma partição do Windows e reutilizando o espaço liberado.
				</para>
				 <para>
					O instalador do Debian permite esta operação quando utilizar o modo manual para o particionamento. Você só precisa escolher a partição do Windows e digite seu novo tamanho (isso funciona da mesma forma em partições FAT ou NTFS).
				</para>
				 </sidebar> <para>
					A primeira tela exibe os discos disponíveis, suas partições e qualquer espaço livre possível que ainda não foi particionado. Você pode selecionar qualquer elemento exibido; e se pressionar a tecla <keycap>Enter</keycap> depois vai ter uma lista de possíveis ações.
				</para>
				 <para>
					Você pode apagar todas as partições em um disco, selecionando-o.
				</para>
				 <para>
					Ao selecionar espaço livre em um disco, você pode criar manualmente uma nova partição. Você também pode fazer isso com o assistente de particionamento, que é uma solução interessante para um disco que já contenha outro sistema operacional, mas onde você deseja particionar para o Linux de uma forma padrão. Veja <xref linkend="sect.install-autopartman-mode" /> for more details on guided partitioning.
				</para>
				 <sidebar> <title><emphasis>DE VOLTA AO BÁSICO</emphasis> Ponto de montagem</title>
				 <indexterm>
					<primary>ponto de montagem</primary>
				</indexterm>
				 <indexterm>
					<primary>ponto, ponto de montagem</primary>
				</indexterm>
				 <para>
					O ponto de montagem é a árvore de diretório que vai abrigar o conteúdo do sistema de arquivos na partição seleccionada. Assim, uma partição montada em <filename>/home/</filename> é tradicionalmente destinada a conter dados do usuário.
				</para>
				 <para>
					Quando esse diretório é chamado de "<filename>/</filename>", ele é conhecido como a <emphasis>raiz</emphasis> do sistema de arquivos e, portanto, a raiz da partição que vai realmente hospedar o sistema Debian.
				</para>
				 </sidebar> <sidebar> <title><emphasis>DE VOLTA AO BÁSICO</emphasis> Memória virtual, swap</title>
				 <indexterm>
					<primary>memória virtual</primary>
				</indexterm>
				 <indexterm>
					<primary>swap</primary>
				</indexterm>
				 <indexterm>
					<primary>partição</primary>
					<secondary>partição de swap</secondary>
				</indexterm>
				 <indexterm>
					<primary>partição de swap</primary>
				</indexterm>
				 <para>
					A memória virtual permite que o kernel do Linux, quando falta memória suficiente (RAM), libere um pouco de armazenamento, realocando na partição swap do disco rígido as partes da memória RAM inativas por algum tempo.
				</para>
				 <para>
					Para simular a memória adicional, o Windows usa um arquivo de swap que está diretamente contido em um sistema de arquivos. Por outro lado, o Linux usa uma partição dedicada a este propósito, daí o termo "partição swap".
				</para>
				 </sidebar> <para>
					Ao escolher uma partição, você pode indicar a forma como que você vai utilizá-la:
				</para>
				 <itemizedlist>
					<listitem>
						<para>
							formatá-la e incluí-la no sistema de arquivos escolhendo um ponto de montagem;
						</para>

					</listitem>
					 <listitem>
						<para>
							usá-la como uma partição swap;
						</para>

					</listitem>
					 <listitem>
						<para>
							transformá-la em um "volume físico para encriptação" (para proteger a confidencialidade dos dados em determinadas partições, veja abaixo);
						</para>

					</listitem>
					 <listitem>
						<para>
							torná-lo um "volume físico para LVM" ("physical volume for LVM") (este conceito será discutido em detalhes ainda neste capítulo);
						</para>

					</listitem>
					 <listitem>
						<para>
							use ele como um dispositivo RAID (veja mais a frente neste capítulo);
						</para>

					</listitem>
					 <listitem>
						<para>
							você pode também escolher não usá-lo, e portanto deixá-lo inalterado.
						</para>

					</listitem>

				</itemizedlist>

			</section>
			 <section id="sect.install-software-raid">
				<title>Configurando dispositivos Multidisco (RAID em software)</title>
				 <indexterm>
					<primary>RAID</primary>
					<secondary>RAID de Software</secondary>
				</indexterm>
				 <indexterm>
					<primary>RAID via programa</primary>
				</indexterm>
				 <indexterm>
					<primary>dispositivo</primary>
					<secondary>dispositivo multi disco</secondary>
				</indexterm>
				 <para>
					Alguns tipos de RAID permitem a duplicação de informações armazenadas em discos rígidos para evitar perda de dados no caso de um problema de hardware afetando um dos discos. RAID nível 1 mantém uma cópia idêntica e simples (espelho) de um disco rígido em outro, enquanto RAID nível 5 espalha dados redundantes por vários discos, permitindo assim a completa reconstrução de um dispositivo que falhe.
				</para>
				 <para>
					Vamos apenas descrever RAID nível 1, que é o mais simples de implementar. O primeiro passo envolve a criação de duas partições de mesmo tamanho localizadas em dois discos rígidos diferentes, e a rotulação delas como "volume físico para RAID" ("physical volume for RAID").
				</para>
				 <para>
					Você deve então escolher "Configurar RAID via software" na ferramenta de particionamento para combinar essas duas partições em um novo disco virtual e selecione "Criar dispositivo MD" na tela de configuração. Em seguida, você precisa responder a uma série de perguntas sobre este novo dispositivo. A primeira pergunta é sobre o nível de RAID para usar, que no nosso caso será "RAID1". A segunda pergunta é sobre o número de dispositivos ativos - dois, no nosso caso, que é o número de partições que precisa ser incluído neste dispositivo MD. A terceira pergunta é sobre o número de dispositivos disponíveis - 0; não planejamos qualquer disco adicional para assumir um possível disco defeituoso. A última pergunta requer que você escolha as partições para o RAID - estes seriam os dois que temos reservado para esta finalidade (certifique-se apenas de selecionar as partições que mencionam explicitamente "raid").
				</para>
				 <para>
					Voltar ao menu principal, aparece um novo disco virtual "RAID". Este disco é apresentado com uma única partição que não pode ser excluído, mas cujo uso, podemos escolher (assim como em qualquer outra partição).
				</para>
				 <para>
					Para mais detalhes sobre as funções RAID, consulte <xref linkend="sect.raid-soft" />.
				</para>

			</section>
			 <section id="sect.install-lvm">
				<title>Configurando o Gerenciador de Volume Lógico (Logical Volume Manager - LVM)</title>
				 <indexterm>
					<primary>LVM</primary>
					<secondary>durante a instalação</secondary>
				</indexterm>
				 <indexterm>
					<primary>Logical Volume Manager</primary>
					<secondary>durante a instalação</secondary>
				</indexterm>
				 <para>
					LVM permite criar partições "virtuais" que se estendem ao longo de vários discos. Os benefícios são dois: o tamanho das partições não estão limitados pelos discos individuais, mas pelo seu volume cumulativo, e você pode redimensionar as partições existentes a qualquer momento possivelmente depois de adicionarum disco adicional quando necessário.
				</para>
				 <para>
					LVM usa uma terminologia particular: uma partição em particular é um "volume lógico" ("logical volume"), que é parte de um "grupo de volumes" ("volume group"), ou uma associação de vários "volumes físicos" (physical volumes"). Cada um destes termos na verdade correspondem a uma partição "real" (ou um dispositivo de RAID em software).
				</para>
				 <indexterm>
					<primary>volume</primary>
					<secondary>volume lógico</secondary>
				</indexterm>
				 <indexterm>
					<primary>volume</primary>
					<secondary>volume físico</secondary>
				</indexterm>
				 <indexterm>
					<primary>grupo</primary>
					<secondary>de volumes</secondary>
				</indexterm>
				 <indexterm>
					<primary>volume</primary>
					<secondary>grupo</secondary>
				</indexterm>
				 <para>
					Esta técnica funciona de uma forma simples: cada volume, físico ou lógico, é dividido em blocos de mesmo tamanho, que "are made to correspond" pelo LVM. A adição de um novo disco causará a criação de um novo volume físico, e estes novos blocos podem ser associados a qualquer grupo de volumes. Todas as partições no grupo de volumes que é então expandido terão espaço adicional no qual elas poderão se extender.
				</para>
				 <para>
					A ferramenta de particionamento configura o LVM em vários passos. Primeiro você deve criar nos discos existentes as partições que serão "volumes físicos para o LVM". Para ativar o LVM, você precisa escolher "Configurar o Logical Volume Manager (LVM)", então na mesma tela de configuração "Criar um grupo de volumes", para o qual você irá associar os volumes físicos existentes. Finalmente, você pode criar volumes lógicos dentro do grupo de volume. Note que o sistema de particionamento automático pode realizar todos estes passos automaticamente.
				</para>
				 <para>
					No menu de particionamento, cada volume lógico vai aparecer como um disco com uma única partição que não pode ser apagada, mas que você pode usar da forma que desejar.
				</para>
				 <para>
					O uso de LVM é descrito em mais detalhes em <xref linkend="sect.lvm" />.
				</para>

			</section>
			 <section>
				<title>Configurando Partições Criptografadas</title>
				 <indexterm>
					<primary>LUKS</primary>
				</indexterm>
				 <indexterm>
					<primary>dm-crypt</primary>
				</indexterm>
				 <indexterm>
					<primary>partição</primary>
					<secondary>criptografada</secondary>
				</indexterm>
				 <indexterm>
					<primary>partição criptografada</primary>
				</indexterm>
				 <indexterm>
					<primary>confidencialidade</primary>
					<secondary>arquivos</secondary>
				</indexterm>
				 <indexterm>
					<primary>arquivos</primary>
					<secondary>confidencialidade</secondary>
				</indexterm>
				 <para>
					Para garantir a confidencialidade dos seus dados, por exemplo no caso de uma perda ou roubo de seu computador ou disco rígido, é possível criptografar os dados de algumas partições. Esta funcionalidade pode ser inserida em qualquer sistema de arquivos já que, assim como no LVM, o Linux (e mais particularmente o driver dm-crypt) usa o "Device Mapper" para criar uma partição virtual (com o conteúdo protegido) baseado em uma partição num nível abaixo que armazena os dados de forma criptografada (graças ao LUKS, Linux Unified Key Setup, um formato padronizado que habilita o armazenamento de dados cripgrafados assim como de meta-informações que indicam os algoritmos de criptografia usados).
				</para>
				 <sidebar id="sidebar.encrypted-swap-partition"> <title><emphasis>SEGURANÇA</emphasis> Partição de troca ("swap") criptografada</title>
				 <para>
					Quando uma partição criptografada é usada, a chave de criptografia é armazenada em memória (RAM). Como a recuperação desta chave permite a descriptografia dos dados, é de extrema importância evitar deixar uma cópia desta chave que possa ser acessível a um possível ladrão do computador ou disco rígido, ou a um técnico de manutenção. Isto entretanto é algo que possa acontecer facilmente com um laptop, já que na hibernação o conteúdo da RAM é armazenado na partição de troca. Se esta partição não estiver criptografada, o ladrão pode acessar a chave e usá-la para descriptografar os dados de uma partição criptografada. É por isto que, quando você usa partições criptografadas, é imperativo também criptografar a partição de troca!
				</para>
				 <para>
					O instalador Debian vai avisar o usuário se ele tentar fazer uma partição criptografada mas deixar a partição de troca não criptografada.
				</para>
				 </sidebar> <para>
					Para criar uma partição criptografada, você deve primeiro atribuir uma partição disponível para este propósito. Para isto, selecione uma partição e indique que ela é para ser usada como um "volume físico para criptografia" ("physical volume for encryption"). Depois de particionar o disco contendo o volume físico a ser feito, escolha "configurar volumes criptografados". O software vai propor iniciar o volume físico com dados aleatórios (tornando a localização dos dados reais mais difícil). e vai pedir para você entrar uma "frase-chave criptográfica" ("encryption passphrase"), que você vai ter que digitar toda vez que iniciar o computador para ter acesso ao conteúdo da partição criptografada. Uma vez que este passo estiver completo, e você tiver retornado ao menu da ferramenta de particionamento, uma nova partição vai estar disponível num "volume criptografado", que você pode então configurar como outra partição qualquer. Na maioria dos casos, esta partição é usada como um volume físico para LVM para proteger várias partições (volumes lógicos de LVM) com a mesma chave de criptografia, inclusive a partição de troca (veja barra lateral <xref linkend="sidebar.encrypted-swap-partition" />).
				</para>

			</section>

		</section>
		 <section>
			<title>Instalando o Sistema Básico</title>
			 <indexterm>
				<primary>sistema</primary>
				<secondary>básico</secondary>
			</indexterm>
			 <para>
				Este passo, que não requer qualquer interação com o usuário, instala os pacotes do "sistema básico" do Debian. Isto inclui as ferramentas <command>dpkg</command> e <command>apt</command>, que gerenciam os pacotes Debian, assim como os utilitários necessários para iniciar o sistema e começar a usá-lo.
			</para>
			 <figure>
				<title>Instalação do sistema básico</title>
				 <mediaobject>
					<imageobject>
						<imagedata fileref="images/inst-basesystem.png" format="PNG" scalefit="1" width="65%" />
					</imageobject>

				</mediaobject>

			</figure>

		</section>
		 <section>
			<title>Configurando o Gerenciador de Pacote (<command>apt</command>)</title>
			 <indexterm>
				<primary>configuração</primary>
				<secondary>configuração inicial do APT</secondary>
			</indexterm>
			 <indexterm>
				<primary>APT</primary>
				<secondary>configuração inicial</secondary>
			</indexterm>
			 <para>
				Para poder instalar software adicional, o APT precisa ser configurado e ensinado aonde encontrar pacotes Debian. Este passo é o mais automatizado possível. Ele começa com uma pergunta sobre se ele deve usar fontes de pacotes na rede, ou se deve procurar apenas nos CD-ROMs.
			</para>
			 <sidebar> <title><emphasis>NOTA</emphasis> CD-ROM do Debian no dispositivo</title>
			 <para>
				Se o instalador detecta um disco de instalação do Debian no leitor de CD/DVD, não é necessário configurar o APT para procurar por pacotes na rede: o APT é configurado automaticamente para ler os pacotes do dispositivo de mídia removível. Se o disco é parte de um conjunto, o software vai se oferecer para "explorar" outros discos para guardar uma referância de todos os pacotes guardados neles.
			</para>
			 </sidebar> <para>
				Se for preciso obter pacotes da rede, as próximas duas perguntas servem para escolher um servidor do qual irá baixar estes pacotes, escolhendo primeiro um país, então um espelho disponível no país (um espelho é um servidor público hospedando cópias de todos os arquivos de um servidor de arquivos primário do Debian).
			</para>
			 <figure>
				<title>Selecionando um espelho Debian</title>
				 <mediaobject>
					<imageobject>
						<imagedata fileref="images/inst-mirror.png" format="PNG" scalefit="1" width="65%" />
					</imageobject>

				</mediaobject>

			</figure>
			 <para>
				Finalmente, o programa propõe usar um proxy HTTP. Se não houver proxy, o acesso à internet será direto. se você digitar <literal>http://proxy.falcot.com:3128</literal>, o APT vai usar o <foreignphrase>proxy/cache</foreignphrase> da Falcot, um "Squid". Você pode encontrar estas configurações verificando as configurações de um navegador web em outra máquina já conectada nesta mesma rede.
			</para>
			 <para>
				Os arquivos <filename>Packages.gz</filename> e <filename>Sources.gz</filename> são então automaticamente baixados para atualizar a lista dos pacotes reconhecidos pelo APT.
			</para>
			 <sidebar> <title><emphasis>DE VOLTA AO BÁSICO</emphasis> Proxy HTTP</title>
			 <indexterm>
				<primary>proxy</primary>
			</indexterm>
			 <indexterm>
				<primary>proxy cache</primary>
			</indexterm>
			 <indexterm>
				<primary>cache, proxy</primary>
			</indexterm>
			 <indexterm>
				<primary>Squid</primary>
			</indexterm>
			 <para>
				Um proxy HTTP é um servidor que encaminha requisições HTTP para os usuários da rede. Ele em geral ajuda a deixar os downloads mais rápidos mantendo uma cópia dos arquivos que foram transferidos através dele (e neste caso falamos de proxy/cache). Em alguns casos, passar por um proxy é a única forma de acessar um servidor externo; nestes casos é essencial responder a pergunta correspondente durante a instalação para o programa conseguir baixar pacotes Debian através dele.
			</para>
			 <para>
				Squid é o nome do programa servidor usado pela Falcot Corp para oferecer este serviço.
			</para>
			 </sidebar>
		</section>
		 <section>
			<title>Concurso de Popularidade de Pacotes Debian</title>
			 <para>
				O sistema Debian contém um pacote chamado <emphasis role="pkg">popularity-contest</emphasis> ("concurso de popularidade"), cuja função é compilar estatísticas de uso de pacotes. Semanalmente, este programa coleta informações sobre os pacotes instalados e aqueles usados recentemente, e envia anonimamente esta informação para os servidores do projeto Debian. O projeto pode então usar esta informação para determinar a importância relativa de cada pacote, o que influencia a prioridade dada a ele. Em particular, os pacotes mais "populares" serão incluídos no CD-ROM de instalação, o que vai facilitar o acesso por usuários que não desejam baixá-los ou comprar um conjunto completo de CDs.
			</para>
			 <para>
				Este pacote é ativado apenas sob-demand, para respeitar a confidencialidade de uso dos usuários.
			</para>

		</section>
		 <section>
			<title>Selecionando Pacotes para a Instalação</title>
			 <para>
				Os seguintes passos permitem que você escolha a função da máquina em um sentido bem amplo; as dez tarefas sugeridas correspondem a listas de pacotes para instalação. A lista de pacotes que vão realmente ser instalados pode receber um ajuste-fino ou ser completada depois. mas isto fornece um bom ponto de partida de forma simples.
			</para>
			 <para>
				Alguns pacotes são instalados automaticamente de acordo com o hardware detectado (graças ao programa <command>discover-pkginstall</command> do pacote <emphasis role="pkg">discover</emphasis>). Por exemplo, se uma máquina virtual VirtualBox é detectada, o programa vai instalar o pacote <emphasis role="pkg">virtualbox-guest-dkms</emphasis>, propiciando uma melhor integração da máquina virtual com o sistema hospedeiro.
			</para>
			 <figure>
				<title>Escolhas de tarefas</title>
				 <mediaobject>
					<imageobject>
						<imagedata fileref="images/inst-tasksel.png" format="PNG" scalefit="1" width="65%" />
					</imageobject>

				</mediaobject>

			</figure>

		</section>
		 <section id="sect.installing-grub">
			<title>Instalando o carregador de boot GRUB</title>
			 <indexterm>
				<primary>carregador</primary>
				<secondary>carregador de inicialização</secondary>
			</indexterm>
			 <indexterm>
				<primary>carregador de inicialização</primary>
			</indexterm>
			 <indexterm>
				<primary>GRUB</primary>
			</indexterm>
			 <para>
				O carregador de boot é o primeiro programa a ser iniciado pela BIOS. Este programa carrega o núcleo Linux na memória e então o executa. geralmente ele oferece um menu para o usuário escolher o núcleo que será carregado e/ou o sistema operacional para iniciar.
			</para>
			 <sidebar id="sidebar.bootloader-dual-boot"> <title><emphasis>ATENÇÃO</emphasis> Carregador de boot e dual boot</title>
			 <indexterm>
				<primary>duplo boot</primary>
			</indexterm>
			 <para>
				Esta fase no processo de instalação do Debian detecta os sistemas operacionais que já estão instalados no computador, e adiciona as entradas correspondentes automaticamente no menu de boot, mas nem todos os programas de instalação fazem isto.
			</para>
			 <para>
				Em particular, se você instala (ou reinstala) o Windows depois, o carregador de boot será apagado. O Debian ainda vai estar no seu disco rígido, mas vai ficar inacessível a partir do menu de boot. Você então terá que iniciar o sistema de instalação Debian em modo de <userinput>recuperação</userinput> para configurar um carregador de boot menos exclusivista. Esta operação é descrita em detalhes no manual de instalação. <ulink type="block" url="http://www.debian.org/releases/stable/amd64/ch08s07.html" />
			</para>
			 </sidebar> <para>
				Por padrão, o menu proposto pelo GRUB contém todos os núcleos Linux instalados, assim como todos os outros sistemas operacionais que foram detectados. É por isto que você deve aceitar a proposta de instalar o GRUB no seu "Master Boot Record". Como manter versões de núcleos antigas preserva a habilidade de iniciar o mesmo sistema se o núcleo recentemente instalado der defeito ou não se adaptar bem ao seu hardware, é melhor manter algumas versões antigas instaladas.
			</para>
			 <para>
				GRUB é o carregador de boot padrão instalado no Debian devido à sua superioridade técnica: funciona com a maioria dos sistemas de arquivos e portanto não necessita de uma atualização após cada instalação de novo núcleo, já que ele lê sua configuração durante o boot e acha a posição exata do novo núcleo. A Versão 1 do GRUB (conhecida agora como "Grub Legacy") não lida com todas as combinações de LVM e RAID em software; a versão 2, instalada por padrão, é mais completa. Podem haver ainda situações onde é mais recomendado instalar o LILO (outro carregador de boot); o instalador vai sugerir isto automaticamente.
			</para>
			 <para>
				Para mais informações sobre configuração do GRUB, leia <xref linkend="sect.config-grub" />.
			</para>
			 <sidebar> <title><emphasis>ATENÇÃO</emphasis> Carregadores de boot e arquiteturas</title>
			 <para>
				LILO e GRUB, que foram mencionados neste capítulo, são carregadores de boot para arquiteturas <emphasis>i386</emphasis> e <emphasis>amd64</emphasis>. Se você instalar Debian em outra arquitetura, vai precisar usar outro carregador de boot. Entre outros, podemos citar <command>yaboot</command> ou <command>quik</command> para <emphasis>powerpc</emphasis>, <command>silo</command> para <emphasis>sparc</emphasis>, <command>aboot</command> para <emphasis>alpha</emphasis>, <command>arcboot</command> para <emphasis>mips</emphasis>.
			</para>
			 </sidebar>
		</section>
		 <section>
			<title>Finalizando a instalação e reiniciando</title>
			 <para>
				A instalação agora está completa, o programa pede para você remover o CD-ROM do leitor e reiniciar o computador.
			</para>

		</section>

	</section>
	 <section id="sect.after-first-boot">
		<title>Depois do primeiro Boot</title>
		 <para>
			Se você ativou a tarefa "Ambiente de área de trabalho Debian" ("Debian desktop environment") sem qualquer escolha de área de trabalho gráfico explícita (ou com a escolha "GNOME"), o computador vai exibir o gestor de login <command>gdm3</command>.
		</para>
		 <figure>
			<title>Primeiro boot</title>
			 <mediaobject>
				<imageobject>
					<imagedata fileref="images/inst-gdm.png" format="PNG" scalefit="1" width="65%" />
				</imageobject>

			</mediaobject>

		</figure>
		 <para>
			O usuário que já está criado pode autenticar e começar a trabalhar imediatamente.
		</para>
		 <section>
			<title>Instalando Software adicional</title>
			 <para>
				Os pacotes instalados correspondem aos perfis selecionados durante a instalação, mas não necessariamente ao uso que realmente vai ser feito da máquina. Desta forma, você pode querer usar uma ferramenta de gerenciamento de pacotes para refina a seleção dos pacotes instalados. As duas ferramentas mais frequentemente usadas (que estarão instaladas se o perfil "Ambiente de área de trabalho Debian" ("Debian desktop environment") tiver sido escolhido) são o <command>apt</command> (acessível pela linha de comando) e o <command>synaptic</command> ("Gestor de Pacotes Synaptic" nos menus).
			</para>
			 <para>
				Para facilitar a instalação de grupos coerentes de programas, o Debian cria "tarefas" que são dedicadas a usos específicos (servidor de e-mail, servidor de arquivos, etc.). Você já teve a oportunidade de selecioná-las durante a instalação, e pode acessá-las de novo graças a ferramentas de gestão de pacotes como o <command>aptitude</command> (as tarefas são listadas em uma seção distinta) e o <command>synaptic</command> (através do menu <menuchoice> <guimenu>Editar</guimenu> <guimenuitem>Marcar Pacotes por Tarefa…</guimenuitem> </menuchoice>).
			</para>
			 <para>
				O Aptitude é uma interface para o APT em modo texto e tela cheia. Com ele o usuário pode navegar na lista de pacotes disponíveis segundo várias categorias (pacotes instalados ou não-instalados, por tarefa, por seção, etc), e para ver toda a informação disponível em cada um deles (dependências, conflitos, descrição, etc.). Cada pacote pode ser marcado com "instalar" (para ser instalado, tecla <keycap>+</keycap>) ou “remover” (para ser removido, tecla <keycap>-</keycap> key). todas estas operações serão conduzidas simultaneamente uma vez que você tenha confirmado elas ao pressionar a tecla <keycap>g</keycap> ("g" de "go!", "vai" em inglês). Se você esqueceu alguns programas, sem problema; você pode rodar o <command>aptitude</command> novamente depois que terminar a instalação.
			</para>
			 <indexterm>
				<primary>aptitude</primary>
			</indexterm>
			 <sidebar> <title><emphasis>DICA</emphasis> o Debian leva em consideração quem não fala inglês</title>
			 <para>
				Várias tarefas são dedicadas à localização (ou nacionalização) do sistema para outros idiomas além do inglês. Elas incluem a documentação de pacotes, dicionários, e vários outros pacotes úteis para falantes de diferentes idiomas. A tarefa apropriada é automaticamente selecionada se um idioma diferente do inglês for escolhido durante a instalação.
			</para>
			 </sidebar> <sidebar> <title><emphasis>CULTURA</emphasis> <command>dselect</command>, a antiga interface de instalação de pacotes</title>
			 <para>
				Antes do <command>aptitude</command>, o programa padrão para selecionar pacotes para instalação era o <command>dselect</command>, a antiga interface gráfica associada ao <command>dpkg</command>. Sendo um programa difícil para iniciantes usarem, não é recomendado.
			</para>
			 <indexterm>
				<primary><command>dselect</command></primary>
			</indexterm>
			 </sidebar> <para>
				Obviamente, é possível não selecionar nenhuma tarefa para instalar. Neste caso, você pode instalar manualmente o software desejado com o comando <command>apt-get</command> ou <command>aptitude</command> (que são ambos acessíveis pela linha de comando).
			</para>
			 <sidebar> <title><emphasis>VOCABULÁRIO</emphasis> Dependências de pacotes, conflitos</title>
			 <para>
				No jargão dos pacotes Debian, uma "dependência" é outro pacote necessário para o correto funcionamento do pacote em questão. Por outro lado, um "conflito" é um pacote que não pode ser instalado junto com outro.
			</para>
			 <para>
				Estes conceitos são discutidos em muitos detalhes em <xref linkend="packaging-system" />.
			</para>
			 </sidebar>
		</section>
		 <section>
			<title>Atualizando o sistema</title>
			 <indexterm>
				<primary>safe-upgrade</primary>
			</indexterm>
			 <para>
				Um primeiro <command>aptitude safe-upgrade</command> (um comando usado para atualizar automaticamente os programas instalados) é geralmente necessário, especialmente devido a possíveis atualizações de segurança lançadas desde o lançamento da última versão estável do Debian. Estas atualizações podem envolver algumas questões adicionais via <command>debconf</command>, a ferramenta de configuração padrão do Debian. Para mais informações sobre estas atualizações conduzidas pelo <command>aptitude</command>, verifique em <xref linkend="sect.apt-upgrade" />.
			</para>

		</section>

	</section>
</chapter>

