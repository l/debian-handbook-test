<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">8.6. Environnement des interpréteurs de commandes</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-fr-FR-1.0-1" /><meta
        name="keywords"
        content="Configuration, Francisation, Locales, Réseau, Résolution de noms, Utilisateurs, Groupes, Création de compte, Interpréteur de commandes, Shell, Impression, Chargeur de démarrage, Compilation de noyau" /><link
        rel="home"
        href="index.html"
        title="Le cahier de l'administrateur Debian" /><link
        rel="up"
        href="basic-configuration.html"
        title="Chapitre 8. Configuration de base : réseau, comptes, impression..." /><link
        rel="prev"
        href="sect.creating-accounts.html"
        title="8.5. Création de compte" /><link
        rel="next"
        href="sect.config-printing.html"
        title="8.7. Configuration de l'impression" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/fr-FR/stable/sect.shell-environment.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.creating-accounts.html"><strong>Précédent</strong></a></li><li
          class="home">Le cahier de l'administrateur Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.config-printing.html"><strong>Suivant</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.shell-environment"></a>8.6. Environnement des interpréteurs de commandes</h2></div></div></div><div
          class="para">
			Les interpréteurs de commandes (ou shells), qui peuvent être le premier contact de l'utilisateur avec l'ordinateur, doivent être assez conviviaux. La plupart utilisent des scripts d'initialisation permettant de configurer leur comportement (complétion automatique, texte d'invite, etc.).
		</div><a
          id="id-1.11.10.3"
          class="indexterm"></a><a
          id="id-1.11.10.4"
          class="indexterm"></a><a
          id="id-1.11.10.5"
          class="indexterm"></a><a
          id="id-1.11.10.6"
          class="indexterm"></a><div
          class="para">
			<code
            class="command">bash</code>, l'interpréteur de commandes standard, emploie les scripts d'initialisation <code
            class="filename">/etc/bash.bashrc</code> (pour les shells « interactifs ») et <code
            class="filename">/etc/profile</code> (pour les shells « de connexion »).
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>B.A.-BA</em></span> Shell de connexion et shell (non) interactif</strong></p></div></div></div><div
            class="para">
			Pour simplifier, un shell de connexion est invoqué lors d'une connexion — sur la console, via <code
              class="command">ssh</code>, ou à travers la commande explicite <code
              class="command">bash --login</code>. Qu'il soit un shell de connexion ou non, un shell interactif est celui qui prend place dans un terminal de type <code
              class="command">xterm</code> ; un shell non interactif est celui qui permet d'exécuter un script.
		</div></div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>DÉCOUVERTE</em></span> Autres shells, autres scripts</strong></p></div></div></div><div
            class="para">
			Chaque interpréteur de commandes a une syntaxe spécifique et ses propres fichiers de configuration. Ainsi, <code
              class="command">zsh</code> emploie <code
              class="filename">/etc/zshrc</code> et <code
              class="filename">/etc/zshenv</code> ; <code
              class="command">csh</code> utilise <code
              class="filename">/etc/csh.cshrc</code>, <code
              class="filename">/etc/csh.login</code> et <code
              class="filename">/etc/csh.logout</code>... les pages de manuel de ces programmes documentent les fichiers employés.
		</div><a
            id="id-1.11.10.9.3"
            class="indexterm"></a><a
            id="id-1.11.10.9.4"
            class="indexterm"></a></div><div
          class="para">
			Pour <code
            class="command">bash</code>, il est intéressant d'activer la « complétion automatique » dans le fichier <code
            class="filename">/etc/bash.bashrc</code> (il suffit pour cela d'y décommenter quelques lignes).
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>B.A.-BA</em></span> Complétion automatique</strong></p></div></div></div><a
            id="id-1.11.10.11.2"
            class="indexterm"></a><div
            class="para">
			De nombreux interpréteurs de commandes en sont capables : il s'agit pour eux de compléter automatiquement un nom de commande ou d'argument (fichier ou répertoire) saisi partiellement. Pour cela, l'utilisateur enfoncera la touche de tabulation ; il peut ainsi travailler plus vite et avec moins de risques d'erreur.
		</div><div
            class="para">
			Cette fonctionnalité est très riche : il est possible de personnaliser son comportement en fonction de chaque commande. Ainsi, le premier argument suivant <code
              class="command">apt-get</code> sera proposé en fonction de la syntaxe de cette commande, même s'il ne correspond à aucun fichier (en l'occurrence, les choix possibles sont <code
              class="literal">install</code>, <code
              class="literal">remove</code>, <code
              class="literal">upgrade</code>, etc.).
		</div></div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>B.A.-BA</em></span> Le tilde, raccourci vers HOME</strong></p></div></div></div><a
            id="id-1.11.10.12.2"
            class="indexterm"></a><a
            id="id-1.11.10.12.3"
            class="indexterm"></a><div
            class="para">
			Le tilde est fréquemment employé pour désigner le répertoire pointé par la variable d'environnement <code
              class="varname">HOME</code> (à savoir le répertoire de connexion de l'utilisateur, par exemple <code
              class="filename">/home/rhertzog/</code>). Les interpréteurs de commandes font la substitution automatiquement : <code
              class="filename">~/hello.txt</code> devient <code
              class="filename">/home/rhertzog/hello.txt</code>.
		</div><div
            class="para">
			Le tilde permet également d'accéder au répertoire de connexion d'un autre utilisateur. Ainsi, <code
              class="filename">~rmas/bonjour.txt</code> est synonyme de <code
              class="filename">/home/rmas/bonjour.txt</code>.
		</div></div><div
          class="para">
			En plus de ces scripts communs à tous, chaque utilisateur peut se créer des fichiers <code
            class="filename">~/.bashrc</code> et <code
            class="filename">~/.bash_profile</code> pour personnaliser son shell. Les ajouts les plus courants sont la mise en place d'alias, mots automatiquement remplacés avant exécution de la commande, ce qui accélère la saisie. On pourra ainsi créer un alias <code
            class="literal">la</code> pour la commande <code
            class="command">ls -la | less</code> et se contenter de saisir <code
            class="command">la</code> pour inspecter en détail le contenu d'un répertoire.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>B.A.-BA</em></span> Variables d'environnement</strong></p></div></div></div><a
            id="id-1.11.10.14.2"
            class="indexterm"></a><a
            id="id-1.11.10.14.3"
            class="indexterm"></a><div
            class="para">
			Les variables d'environnement permettent de stocker des paramètres globaux à destination du shell ou des divers programmes appelés. Elles sont contextuelles (chaque processus a son propre ensemble de variables d'environnement) mais héritables. Cette dernière caractéristique offre la possibilité à un shell de connexion de déclarer des variables qui se retrouveront dans tous les programmes exécutés par son intermédiaire.
		</div></div><div
          class="para">
			Un élément important de configuration des shells est la mise en place de variables d'environnement par défaut. Si l'on néglige les variables spécifiques à un interpréteur de commandes, il est préférable de mettre celles-ci en place dans le fichier <code
            class="filename">/etc/environment</code>, utilisé par les différents programmes susceptibles d'initier une session shell. Parmi les variables susceptibles d'y être définies, citons <code
            class="varname">ORGANIZATION</code> qui contient habituellement le nom de l'entreprise ou organisation et <code
            class="varname">HTTP_PROXY</code> qui indique l'existence et l'emplacement d'un proxy (ou mandataire) HTTP.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>ASTUCE</em></span> Tous les shells configurés à l'identique</strong></p></div></div></div><div
            class="para">
			Les utilisateurs souhaitent souvent configurer de la même manière shells de connexion et interactifs. Pour cela, ils choisissent d'interpréter (ou « sourcer ») le contenu de <code
              class="filename">~/.bashrc</code> depuis le fichier <code
              class="filename">~/.bash_profile</code>. Il est possible de faire de même avec les fichiers communs à tous les utilisateurs (en appelant <code
              class="filename">/etc/bash.bashrc</code> depuis <code
              class="filename">/etc/profile</code>).
		</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.creating-accounts.html"><strong>Précédent</strong>8.5. Création de compte</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Niveau supérieur</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Sommaire</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.config-printing.html"><strong>Suivant</strong>8.7. Configuration de l'impression</a></li></ul></body></html>
