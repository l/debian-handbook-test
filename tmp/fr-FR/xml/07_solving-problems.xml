<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
]>
<chapter id="solving-problems" lang="fr-FR">
	<chapterinfo>
		 <keywordset>
			<keyword>Documentation</keyword>
			 <keyword>Résolution de problèmes</keyword>
			 <keyword>Fichiers logs</keyword>
			 <keyword>README.Debian</keyword>
			 <keyword>Manuel</keyword>
			 <keyword>info</keyword>

		</keywordset>

	</chapterinfo>
	 <title>Résolution de problèmes et sources d'informations</title>
	 <highlights> <para>
		Pour un administrateur, le plus important est d'être capable de faire face à toute situation, connue ou inconnue. Nous proposons dans ce chapitre un ensemble de méthodes qui vous permettront — nous l'espérons — d'isoler la cause des problèmes que vous ne manquerez pas de rencontrer, pour mieux les résoudre ensuite.
	</para>
	 </highlights> <section id="sect.documentation-sources">
		<title>Les sources de documentation</title>
		 <indexterm>
			<primary>documentation</primary>
		</indexterm>
		 <para>
			Avant de pouvoir comprendre ce qui se passe réellement en cas de problème, il faut connaître le rôle théorique de chaque programme impliqué. Pour cela, rien de tel que de consulter leurs documentations ; mais celles-ci étant multiples et dispersées, il convient de les connaître toutes.
		</para>
		 <section id="sect.manual-pages">
			<title>Les pages de manuel</title>
			 <indexterm>
				<primary><command>man</command></primary>
			</indexterm>
			 <indexterm>
				<primary><command>apropos</command></primary>
			</indexterm>
			 <indexterm>
				<primary>manuel, pages de</primary>
			</indexterm>
			 <sidebar> <title><emphasis>CULTURE</emphasis> <acronym>RTFM</acronym></title>
			 <indexterm>
				<primary><acronym>RTFM</acronym></primary>
			</indexterm>
			 <para>
				Ce sigle est l'abréviation de <foreignphrase>Read The F...ing Manual</foreignphrase> (« Lis le f**tu manuel »), mais on rencontre parfois une variante moins grossière avec <foreignphrase>Read The Fine Manual</foreignphrase> (« Lis le fameux manuel »). Des traductions alternatives comme « Relis Trois Fois le Manuel » existent aussi. Cette interjection sert parfois de réponse (laconique) à des questions en provenance de débutants ; elle est assez abrupte et laisse transparaître une certaine irritation par rapport à une question posée par quelqu'un qui n'a pas pris la peine de lire la documentation. D'autres personnes affirment que cette réponse classique vaut mieux qu'aucune réponse (puisqu'elle indique que la documentation contient l'information recherchée), voire qu'une réponse courroucée plus développée.
			</para>
			 <para>
				Dans tous les cas, lorsqu'on se voit répondre « RTFM », il est souvent judicieux de ne pas s'offusquer. Et cette réponse pouvant être perçue comme vexante, on s'efforcera de ne pas la susciter. Si l'information requise n'est pas dans le manuel, ce qui peut arriver, il conviendra au contraire de le préciser (de préférence dans la question initiale) ; on décrira également le cheminement suivi lors de la recherche d'informations effectuée personnellement avant de poser la question sur un forum. On pourra pour cela suivre quelques recommandations de bon sens, formalisées par Eric Raymond. <ulink type="block" url="http://www.gnurou.org/writing/smartquestionsfr" />
			</para>
			 </sidebar> <para>
				<indexterm><primary>pages de manuel</primary></indexterm>Les pages de manuel, relativement austères de prime abord, regroupent pourtant une foule d'informations indispensables. Présentons rapidement la commande qui permet de les consulter. Il s'agit de <command>man <replaceable>page-manuel</replaceable></command> où le nom de la page de manuel est le plus souvent celui de la commande à découvrir. Pour se renseigner sur les options possibles de la commande <command>cp</command>, on tapera donc la commande <command>man cp</command> à l'invite de l'interpréteur de commandes (voir encadré <xref linkend="sidebar.shell" />).
			</para>
			 <sidebar id="sidebar.shell"> <title><emphasis>B.A.-BA</emphasis> Interpréteur de commandes</title>
			 <indexterm>
				<primary>interpréteur de commandes</primary>
			</indexterm>
			 <indexterm>
				<primary>shell</primary>
			</indexterm>
			 <para>
				Un interpréteur de commandes — souvent désigné par shell en anglais — est un programme qui exécute les commandes saisies par l'utilisateur ou stockées dans un script. En mode interactif, il affiche une invite (finissant généralement par <literal>$</literal> pour un utilisateur normal, ou par <literal>#</literal> pour l'administrateur) indiquant qu'il est prêt à lire une nouvelle commande. L'<xref linkend="short-remedial-course" /> décrit les bases de l'utilisation de l'interpréteur de commandes.
			</para>
			 <para>
				L'interpréteur de commandes le plus usité est probablement <command>bash</command> <foreignphrase>(Bourne Again SHell)</foreignphrase> mais d'autres existent : <command>dash</command>, <command>csh</command>, <command>tcsh</command>, <command>zsh</command>, etc.
			</para>
			 <para>
				La plupart des shells offrent en outre des fonctionnalités d'assistance à la saisie, comme la complétion des noms de commandes ou de fichiers (qu'on active généralement par des tabulations successives), ou encore la gestion d'un historique des commandes déjà exécutées.
			</para>
			 </sidebar> <para>
				Les pages de manuel ne documentent pas uniquement les programmes accessibles en ligne de commande, mais aussi les fichiers de configuration, les appels système, les fonctions de la bibliothèque C, etc. Des collisions de noms surviennent donc. Ainsi, la commande <command>read</command> de l'interpréteur de commandes s'appelle comme l'appel système <function>read</function>. C'est pourquoi les pages de manuel sont classées dans des sections numérotées :
			</para>
			 <orderedlist>
				<listitem>
					<para>
						commandes exécutables depuis l'interpréteur ;
					</para>

				</listitem>
				 <listitem>
					<para>
						appels système (fonctions fournies par le noyau) ;
					</para>

				</listitem>
				 <listitem>
					<para>
						fonctions de bibliothèques (fournies par les bibliothèques système) ;
					</para>

				</listitem>
				 <listitem>
					<para>
						périphériques (sous les systèmes dérivés d'Unix, ce sont des fichiers spéciaux, habituellement placés sous <filename>/dev/</filename>) ;
					</para>

				</listitem>
				 <listitem>
					<para>
						fichiers de configuration (formats et conventions) ;
					</para>

				</listitem>
				 <listitem>
					<para>
						jeux ;
					</para>

				</listitem>
				 <listitem>
					<para>
						ensemble de macros et de standards ;
					</para>

				</listitem>
				 <listitem>
					<para>
						commandes d'administration système ;
					</para>

				</listitem>
				 <listitem>
					<para>
						routines du noyau.
					</para>

				</listitem>

			</orderedlist>
			 <para>
				Il est possible de préciser la section de la page de manuel recherchée : pour consulter la documentation de l'appel système <function>read</function>, on tapera donc <command>man 2 read</command>. En l'absence d'une section explicite, c'est la première section abritant une page du nom demandé qui sera utilisée. Ainsi, <command>man shadow</command> renvoie <citerefentry><refentrytitle>shadow</refentrytitle>
				<manvolnum>5</manvolnum></citerefentry> parce qu'il n'y a pas de pages de manuel <foreignphrase>shadow</foreignphrase> dans les sections 1 à 4.
			</para>
			 <sidebar> <title><emphasis>ASTUCE</emphasis> <command>whatis</command></title>
			 <indexterm>
				<primary><command>whatis</command></primary>
			</indexterm>
			 <para>
				Si vous ne voulez pas consulter la page de manuel complète mais obtenir uniquement une description courte de la commande pour confirmer qu'il s'agit bien de celle que vous cherchez, tapez simplement <command>whatis <replaceable>commande</replaceable></command>.
			</para>
			 
<screen>
<computeroutput>$ </computeroutput><userinput>whatis scp</userinput>
<computeroutput>scp (1)     - secure copy (remote file copy program)</computeroutput></screen>
			 <para>
				Cette description courte — présente dans toutes les pages de manuel — se retrouve dans la section <emphasis>NAME</emphasis> (ou <emphasis>NOM</emphasis>) qui les débute toutes.
			</para>
			 </sidebar> <para>
				Évidemment, si vous ne connaissez pas les noms des commandes, le manuel ne vous sera pas d'un grand secours. C'est l'objet de la commande <command>apropos</command>, qui permet de mener une recherche dans les pages de manuel, ou plus précisément dans leurs descriptions courtes : chaque page de manuel commence en effet par un résumé en une ligne des fonctions documentées plus en détail par la suite. <command>apropos</command> renvoie donc une liste des pages de manuel dont la description mentionne le ou les mots-clés demandés. En choisissant bien ceux-ci, on trouvera le nom de la commande recherchée.
			</para>
			 <example>
				<title>Retrouver <command>cp</command> avec <command>apropos</command></title>
				 
<screen>
<computeroutput>$ </computeroutput><userinput>apropos "copy file"</userinput>
<computeroutput>cp (1)               - copy files and directories
cpio (1)             - copy files to and from archives
gvfs-copy (1)        - Copy files
gvfs-move (1)        - Copy files
hcopy (1)            - copy files from or to an HFS volume
install (1)          - copy files and set attributes
ntfscp (8)           - copy file to an NTFS volume.
</computeroutput></screen>

			</example>
			 <sidebar> <title><emphasis>ASTUCE</emphasis> Naviguer de proche en proche</title>
			 <para>
				Beaucoup de pages de manuel disposent d'un paragraphe <foreignphrase>SEE ALSO</foreignphrase> ou VOIR AUSSI, généralement à la fin. Il renvoie vers d'autres pages de manuel portant sur des notions ou commandes proches de celle en cours d'examen, ou vers des documentations externes. Il est ainsi possible de retrouver la documentation pertinente même quand le premier choix n'est pas optimal.
			</para>
			 </sidebar> <para>
				La commande <command>man</command> n'est plus le seul moyen de consulter les pages de manuel, car les programmes <command>konqueror</command> (sous KDE) et <command>yelp</command> (sous GNOME) offrent également cette possibilité. On trouve encore une interface web, fournie par le paquet <command>man2html</command> : les pages de manuel sont alors consultables à l'aide d'un navigateur. Sur l'ordinateur contenant le paquet, utilisez cette URL : <ulink type="block" url="http://localhost/cgi-bin/man/man2html" />
			</para>
			 <para>
				Cet utilitaire a donc besoin d'un serveur web. C'est pourquoi vous choisirez d'installer ce paquet sur l'un de vos serveurs : tous les utilisateurs du réseau local bénéficieront du service (y compris les postes non Linux) et vous éviterez de devoir mettre en place un serveur HTTP sur chaque poste. Par ailleurs, si votre serveur est accessible depuis l'extérieur, il peut être souhaitable de restreindre l'accès à ce service aux seuls utilisateurs du réseau local.
			</para>
			 <indexterm>
				<primary><command>man2html</command></primary>
			</indexterm>
			 <sidebar> <title><emphasis>CHARTE DEBIAN</emphasis> Pages de manuel obligatoires</title>
			 <para>
				Debian impose à chaque programme d'être accompagné d'une page de manuel. Si l'auteur amont ne la fournit pas, le développeur Debian rédige en général une page minimaliste qui renverra au moins le lecteur à l'emplacement de la documentation originale.
			</para>
			 </sidebar>
		</section>
		 <section>
			<title>Documentation au format <emphasis>info</emphasis></title>
			 <indexterm>
				<primary><emphasis>info</emphasis></primary>
			</indexterm>
			 <indexterm>
				<primary>GNU</primary>
				<secondary>Info</secondary>
			</indexterm>
			 <para>
				Le projet GNU a rédigé les manuels de la plupart de ses programmes au format <emphasis>info</emphasis> ; c'est pourquoi de nombreuses pages de manuel renvoient vers la documentation <emphasis>info</emphasis> correspondante. Ce format offre quelques avantages mais le programme qui permet de consulter ces documentations est également un peu plus complexe. Il est recommandé d'utiliser <command>pinfo</command> à la place (dans le paquet <emphasis role="pkg">pinfo</emphasis>).
			</para>
			 <indexterm>
				<primary><command>pinfo</command></primary>
			</indexterm>
			 <para>
				La documentation <emphasis>info</emphasis> a une structure hiérarchique et <command>pinfo</command> invoqué sans paramètres affichera la liste des nœuds disponibles au premier niveau. Habituellement, un nœud porte le nom de la commande correspondante.
			</para>
			 <para>
				Dans <command>pinfo</command>, la navigation entre les nœuds se fait simplement avec les touches flèches. Alternativement, vous pouvez aussi employer un navigateur graphique, beaucoup plus convivial. À nouveau, <command>konqueror</command> et <command>yelp</command> conviennent ; le paquet <command>info2www</command> fournit également une interface web. <ulink type="block" url="http://localhost/cgi-bin/info2www" />
			</para>
			 <indexterm>
				<primary><command>info2www</command></primary>
			</indexterm>
			 <para>
				On notera que le système <emphasis>info</emphasis> ne permet pas de traduction, contrairement au système de pages <command>man</command>. Ses pages sont donc presque systématiquement en anglais. Cependant, lorsqu'on demande au programme <command>pinfo</command> d'afficher une page <emphasis>info</emphasis> inexistante, il se rabattra sur la page <emphasis>man</emphasis> du même nom, si celle-ci existe ; cette dernière pourra donc éventuellement exister en français.
			</para>

		</section>
		 <section>
			<title>La documentation spécifique</title>
			 <indexterm>
				<primary>documentation</primary>
			</indexterm>
			 <para>
				Chaque paquet intègre sa documentation spécifique : même les logiciels les moins bien documentés disposent en général au moins d'un fichier <filename>README</filename> (« lisez-moi ») contenant quelques informations intéressantes et/ou importantes. Cette documentation est installée dans le répertoire <filename>/usr/share/doc/<replaceable>paquet</replaceable>/</filename> (où <replaceable>paquet</replaceable> représente le nom du paquet). Si elle est très volumineuse, elle peut ne pas être intégrée au paquet du programme mais constituer son propre paquet, alors intitulé <literal><replaceable>paquet</replaceable>-doc</literal>. Le paquet du programme recommande en général le paquet de documentation pour le mettre en exergue.
			</para>
			 <indexterm>
				<primary><filename>README.Debian</filename></primary>
			</indexterm>
			 <indexterm>
				<primary><filename>changelog.Debian.gz</filename></primary>
			</indexterm>
			 <indexterm>
				<primary><filename>NEWS.Debian.gz</filename></primary>
			</indexterm>
			 <para>
				Dans le répertoire <filename>/usr/share/doc/<replaceable>paquet</replaceable>/</filename> se trouvent également quelques fichiers fournis par Debian qui complètent la documentation du point de vue des particularités ou améliorations du paquet par rapport à une installation traditionnelle du logiciel. Le fichier <filename>README.Debian</filename> signale ainsi toutes les adaptations effectuées pour être en conformité avec la charte Debian. Le fichier <filename>changelog.Debian.gz</filename> permet quant à lui de suivre les modifications apportées au paquet au fil du temps : il est très utile pour essayer de comprendre ce qui a changé entre deux versions installées et qui n'ont apparemment pas le même comportement. Enfin, on trouve parfois un fichier <filename>NEWS.Debian.gz</filename> documentant les changements majeurs du programme qui peuvent concerner directement l'administrateur.
			</para>

		</section>
		 <section>
			<title>Les sites web</title>
			 <para>
				Dans la majorité des cas, un logiciel libre dispose d'un site web pour le diffuser et fédérer la communauté de ses développeurs et utilisateurs. Ces sites regorgent souvent d'informations pertinentes sous différentes formes : les documentations officielles, les foires aux questions (FAQ), les archives des listes de diffusion relatives au logiciel, etc. Fréquemment, un problème rencontré aura déjà fait l'objet de nombreuses questions ; la FAQ ou les archives de l'une des listes de diffusion en abriteront alors la solution. Une bonne maîtrise d'un moteur de recherche s'avérera précieuse pour trouver rapidement les pages pertinentes (en restreignant éventuellement la recherche au domaine ou sous-domaine Internet dédié au logiciel). Si le moteur renvoie trop de pages ou si les réponses ne correspondent pas à ce qui est attendu, l'ajout du mot-clé <userinput>debian</userinput> permet de restreindre les réponses en ciblant les informations concernant les utilisateurs de ce système.
			</para>
			 <sidebar> <title><emphasis>ASTUCE</emphasis> De l'erreur à la solution</title>
			 <para>
				Si le logiciel renvoie un message d'erreur très spécifique, saisissez-le dans un moteur de recherche (entre apostrophes doubles « <literal>"</literal> » pour ne pas rechercher les mots individuellement, mais l'expression complète) : dans la majorité des cas, les premiers liens renvoyés contiendront la réponse que vous cherchez.
			</para>
			 <para>
				Dans d'autres cas, on aura simplement une erreur très générique comme « Permission non accordée » ; il conviendra alors de vérifier les permissions des éléments en jeu (fichiers, identité des utilisateurs, groupes, etc.).
			</para>
			 </sidebar> <para>
				Si vous ne connaissez pas l'adresse du site web du logiciel, il y a différents moyens de l'obtenir. Vérifiez en premier lieu si un champ <literal>Homepage</literal> n'est pas présent dans les méta-informations du paquet (<command>apt-cache show <replaceable>paquet</replaceable></command>). Alternativement, la description du paquet peut contenir un pointeur sur le site web officiel du logiciel. Si aucune URL n'y est indiquée, il convient alors d'examiner <filename>/usr/share/doc/<replaceable>paquet</replaceable>/copyright</filename>. Le mainteneur Debian y mentionne en effet l'endroit où il a récupéré le code source du programme et il est probable qu'il s'agisse justement du site web en question. Si à ce stade votre recherche est toujours infructueuse, il faut consulter un annuaire de logiciels libres comme celui de la FSF ou Framasoft, ou encore directement effectuer une recherche sur un moteur comme Google ou Yahoo. <ulink type="block" url="https://directory.fsf.org/wiki/Main_Page" /> <ulink type="block" url="http://framasoft.org/" />
			</para>
			 <indexterm>
				<primary><filename>copyright</filename></primary>
			</indexterm>
			 <indexterm>
				<primary>annuaire de logiciels libres</primary>
			</indexterm>
			 <para>
				Pensez également à consulter le wiki du projet Debian. Il s'agit d'un site collaboratif où même de simples visiteurs peuvent faire des suggestions depuis un navigateur. Il sert aussi bien aux développeurs pour spécifier des projets qu'aux utilisateurs pour partager leurs connaissances en rédigeant collaborativement des documents. <ulink type="block" url="http://wiki.debian.org/" />
			</para>
			 <indexterm>
				<primary><emphasis>wiki.debian.org</emphasis></primary>
			</indexterm>

		</section>
		 <section>
			<title>Les tutoriels (<foreignphrase>HOWTO</foreignphrase>)</title>
			 <indexterm>
				<primary><foreignphrase>HOWTO</foreignphrase></primary>
			</indexterm>
			 <para>
				Un <foreignphrase>howto</foreignphrase> (« comment faire ») est une documentation décrivant concrètement, étape par étape, comment atteindre un but prédéfini. Les buts couverts sont relativement variés mais souvent techniques : mettre en place l'<foreignphrase>IP Masquerading</foreignphrase> (masquage d'IP), configurer le RAID logiciel, installer un serveur Samba, etc. Ces documents essaient souvent de couvrir l'ensemble des problématiques susceptibles de se produire dans la mise en œuvre d'une technologie donnée.
			</para>
			 <para>
				Ces tutoriels sont gérés par le <foreignphrase>Linux Documentation Project</foreignphrase> (projet de documentation Linux, LDP), dont le site web publie l'ensemble de ces documents : <ulink type="block" url="http://www.tldp.org/" />
			</para>
			 <indexterm>
				<primary>LDP</primary>
			</indexterm>
			 <indexterm>
				<primary><foreignphrase>Linux Documentation Project</foreignphrase></primary>
			</indexterm>
			 <para>
				Restez critique en lisant ces documents. Il arrive fréquemment qu'ils datent de plusieurs années ; leurs informations seront donc parfois obsolètes. Ce phénomène est encore plus répandu pour leurs traductions, puisque les mises à jour de ces dernières ne sont ni systématiques ni instantanées après la publication d'une nouvelle version du document original — cela fait partie des joies de travailler dans un environnement bénévole et sans contraintes…
			</para>

		</section>

	</section>
	 <section id="sect.common-procedures">
		<title>Procédures types</title>
		 <indexterm>
			<primary>procédure type</primary>
		</indexterm>
		 <para>
			Cette section vise à présenter quelques conseils génériques portant sur certaines opérations qu'un administrateur est souvent amené à effectuer. Ces procédures ne couvriront évidemment pas tous les cas de figure de manière exhaustive, mais pourront servir de points de départ pour les cas les plus ardus.
		</para>
		 <sidebar> <title><emphasis>DÉCOUVERTE</emphasis> Documentation dans d'autres langues</title>
		 <para>
			Il arrive fréquemment qu'une documentation traduite en français soit disponible dans un paquet séparé portant le nom du paquet correspondant suivi de <literal>-fr</literal> (code ISO officiel de la langue française).
		</para>
		 <para>
			Ainsi, le paquet <emphasis>apt-howto-fr</emphasis> contient la traduction française du howto dédié à <emphasis>APT</emphasis>. De même, les paquets <emphasis>quick-reference-fr</emphasis> et <emphasis>debian-reference-fr</emphasis> sont les versions françaises des guides de référence Debian (initialement rédigés en anglais par Osamu Aoki).
		</para>
		 </sidebar> <section>
			<title>Configuration d'un logiciel</title>
			 <indexterm>
				<primary>configuration</primary>
				<secondary>d'un logiciel</secondary>
			</indexterm>
			 <indexterm>
				<primary>logiciel</primary>
				<secondary>configuration</secondary>
			</indexterm>
			 <para>
				Face à un paquet inconnu que l'on souhaite configurer, il faut procéder par étapes. En premier lieu, il convient de lire ce que le responsable du paquet peut avoir d'intéressant à signaler. La lecture de <filename>/usr/share/doc/<replaceable>paquet</replaceable>/README.Debian</filename> permet en effet de découvrir les aménagements spécifiques prévus pour faciliter l'emploi du logiciel concerné. C'est parfois indispensable pour comprendre des différences avec le comportement original du logiciel, tel qu'il est décrit dans des documentations généralistes comme les howto. Parfois, ce fichier détaille aussi les erreurs les plus courantes afin de vous éviter de perdre du temps sur des problèmes classiques.
			</para>
			 <para>
				Ensuite, il faut consulter la documentation officielle du logiciel — référez-vous à la <xref linkend="sect.documentation-sources" /> pour identifier les différentes sources de documentation. La commande <command>dpkg -L <replaceable>paquet</replaceable></command> donne la liste des fichiers inclus dans le paquet ; on pourra ainsi repérer rapidement les documentations disponibles (ainsi que les fichiers de configuration, situés dans <filename>/etc/</filename>). <command>dpkg -s <replaceable>paquet</replaceable></command> produit les métadonnées du paquet et donne les éventuels paquets recommandés ou suggérés : on pourra y trouver de la documentation ou un utilitaire facilitant la configuration du logiciel.
			</para>
			 <para>
				Enfin, les fichiers de configuration sont souvent autodocumentés par de nombreux commentaires explicatifs détaillant les différentes valeurs possibles de chaque paramètre — à tel point qu'il suffit parfois de choisir la ligne à activer parmi celles proposées. Dans certains cas, des exemples de fichiers de configuration sont fournis dans le répertoire <filename>/usr/share/doc/<replaceable>paquet</replaceable>/examples/</filename>. Ils pourront alors servir de base à votre propre fichier de configuration.
			</para>
			 <sidebar> <title><emphasis>CHARTE DEBIAN</emphasis> Emplacement des exemples</title>
			 <indexterm>
				<primary>exemples, emplacement</primary>
			</indexterm>
			 <para>
				Tout exemple doit être installé dans le répertoire <filename>/usr/share/doc/<replaceable>paquet</replaceable>/examples/</filename>. Il peut s'agir d'un fichier de configuration, d'un code source de programme (exemple d'emploi d'une bibliothèque), ou d'un script de conversion de données que l'administrateur pourrait employer dans certains cas (comme pour initialiser une base de données). Si l'exemple est spécifique à une architecture, il convient de l'installer dans <filename>/usr/lib/<replaceable>paquet</replaceable>/examples/</filename> et de créer un lien pointant sur lui dans le répertoire <filename>/usr/share/doc/<replaceable>paquet</replaceable>/examples/</filename>.
			</para>
			 </sidebar>
		</section>
		 <section>
			<title>Surveiller l'activité des démons</title>
			 <para>
				Un démon complique un peu la compréhension des situations, puisqu'il n'interagit pas directement avec l'administrateur. Pour vérifier son fonctionnement, il est donc nécessaire de le tester, par exemple avec une requête HTTP pour le démon Apache (un serveur web).
			</para>
			 <para>
				Pour permettre ces vérifications, chaque démon garde généralement des traces de tout ce qu'il a fait ainsi que des erreurs qu'il a rencontrées — on les appelle logs (journaux de bord du système). Les logs sont stockés dans <filename>/var/log/</filename> ou l'un de ses sous-répertoires. Pour connaître le nom précis du fichier de log de chaque démon, on se référera à la documentation. Attention, un seul test ne suffit pas toujours s'il ne couvre pas la totalité des cas d'utilisation possibles : certains problèmes ne se manifestent que dans certaines circonstances particulières.
			</para>
			 <sidebar> <title><emphasis>OUTIL</emphasis> Le démon <command>rsyslogd</command></title>
			 <indexterm>
				<primary><command>syslogd</command></primary>
			</indexterm>
			 <indexterm>
				<primary>logs</primary>
				<secondary>fichier de</secondary>
			</indexterm>
			 <indexterm>
				<primary>fichier</primary>
				<secondary>de logs</secondary>
			</indexterm>
			 <para>
				<command>rsyslogd</command> est particulier : il collecte les traces (messages internes au système) qui lui sont envoyées par les autres programmes. Chaque trace est associée à un sous-système (courrier électronique, noyau, authentification, etc.) et à une priorité, deux informations que <command>rsyslogd</command> consulte pour décider de son traitement : la trace peut être consignée dans divers fichiers de logs et/ou envoyée sur une console d'administration. Le détail des traitements effectués est défini par le fichier de configuration <filename>/etc/rsyslog.conf</filename> (documenté dans la page de manuel éponyme).
			</para>
			 <para>
				Certaines fonctions C, spécialisées dans l'envoi de traces, facilitent l'emploi du démon <command>rsyslogd</command>. Certains démons gèrent toutefois eux-mêmes leurs fichiers de logs (c'est par exemple le cas de <command>samba</command>, le serveur implémentant les partages Windows sur Linux).
			</para>
			 <para>
				Notons que lorsque <command>systemd</command> est utilisé, les logs sont en réalité collectés par <command>systemd</command> avant d'être transmis à <command>rsyslogd</command>. Ils sont donc disponibles dans le journal de <command>systemd</command>, et peuvent être consultés avec <command>journalctl</command> (voir <xref linkend="sect.systemd" /> pour plus de détails).
			</para>
			 </sidebar> <sidebar> <title><emphasis>B.A.-BA</emphasis> Démon</title>
			 <indexterm>
				<primary>démon</primary>
			</indexterm>
			 <para>
				Un démon <foreignphrase>(daemon)</foreignphrase> est un programme non invoqué explicitement par l'utilisateur et qui reste en arrière-plan, attendant la réalisation d'une condition avant d'effectuer une tâche. Beaucoup de logiciels serveurs sont des démons — terme qui explique la lettre « d » souvent présente à la fin de leur nom (<command>sshd</command>, <command>smtpd</command>, <command>httpd</command>, etc.).
			</para>
			 </sidebar> <para>
				Toute démarche préventive commence par une consultation régulière des logs des serveurs les plus importants. Vous pourrez ainsi diagnostiquer les problèmes avant même qu'ils ne soient signalés par des utilisateurs mécontents. En effet, ceux-ci attendent parfois qu'un problème se répète à de multiples reprises sur plusieurs jours pour en faire part. On pourra faire appel à un utilitaire spécifique pour analyser le contenu des fichiers de logs les plus volumineux. On trouve de tels utilitaires pour les serveurs web (citons <command>analog</command>, <command>awstats</command>, <command>webalizer</command> pour Apache), pour les serveurs FTP, pour les serveurs <foreignphrase>proxy/cache</foreignphrase>, pour les pare-feu, pour les serveurs de courrier électronique, pour les serveurs DNS et même pour les serveurs d'impression. Certains de ces utilitaires fonctionnent de manière modulaire et permettent d'analyser plusieurs types de fichiers de logs. C'est le cas de <command>lire</command>. D'autres outils, comme <command>logcheck</command> (logiciel abordé dans le <xref linkend="security" />), permettent de scruter ces fichiers à la recherche d'alertes à traiter.
			</para>
			 <indexterm>
				<primary><command>analog</command></primary>
			</indexterm>
			 <indexterm>
				<primary><command>awtats</command></primary>
			</indexterm>
			 <indexterm>
				<primary><command>webalizer</command></primary>
			</indexterm>
			 <indexterm>
				<primary><command>logcheck</command></primary>
			</indexterm>
			 <indexterm>
				<primary><command>lire</command></primary>
			</indexterm>

		</section>
		 <section>
			<title>Demander de l'aide sur une liste de diffusion</title>
			 <para>
				Si vos diverses recherches ne vous ont pas permis de venir à bout d'un problème, il est possible de se faire aider par d'autres personnes, peut-être plus expérimentées. C'est tout l'intérêt de la liste de diffusion <email>debian-user-french@lists.debian.org</email>. Comme toute communauté, elle a ses règles qu'il convient de respecter. La première est de vérifier que le problème qui vous concerne n'apparaît pas dans sa foire aux questions. Il faut également le rechercher dans les archives récentes de la liste avant de poser sa question. <ulink type="block" url="http://wiki.debian.org/DebFrFrenchLists" /> <ulink type="block" url="http://lists.debian.org/debian-user-french/" />
			</para>
			 <indexterm>
				<primary><email>debian-user@lists.debian.org</email>
				</primary>
			</indexterm>
			 <indexterm>
				<primary>listes</primary>
				<secondary>de diffusion</secondary>
			</indexterm>
			 <sidebar> <title><emphasis>ASTUCE</emphasis> Lire une liste sur le Web</title>
			 <para>
				Pour des listes de diffusion à haut volume comme <email>debian-user-french@lists.debian.org</email> (<emphasis>duf</emphasis> pour les intimes), il peut être intéressant de les parcourir comme un forum de discussion <foreignphrase>(newsgroup)</foreignphrase>. Gmane.org permet justement la consultation des listes Debian sous ce format. La liste francophone précitée est ainsi disponible à l'adresse suivante : <ulink type="block" url="http://dir.gmane.org/gmane.linux.debian.user.french" />
			</para>
			 </sidebar> <sidebar> <title><emphasis>B.A.-BA</emphasis> La Netiquette s'applique</title>
			 <para>
				D'une manière générale, pour toutes les correspondances électroniques sur des listes de diffusion, il convient de respecter les règles de la Netiquette. On regroupe sous ce terme un ensemble de règles de bon sens, allant de la politesse aux erreurs à ne pas commettre. <ulink type="block" url="http://www.ccr.jussieu.fr/dsi/doc/divers/Netiquette.htm" /> <indexterm><primary>Netiquette</primary></indexterm>
			</para>
			 <para>
				De plus, tous les canaux de communication gérés par le projet Debian sont régis par le code de conduite de Debian : <ulink type="block" url="https://www.debian.org/code_of_conduct" />
			</para>
			 </sidebar> <para>
				Ces deux conditions remplies, vous pouvez envisager de décrire votre problème sur la liste de diffusion. Incluez le maximum d'informations pertinentes : les différents essais effectués, les documentations consultées, comment vous avez diagnostiqué le problème, les paquets concernés ou susceptibles d'être en cause. Consultez le système de suivi de bogues de Debian (BTS, ou <foreignphrase>Bug Tracking System</foreignphrase>, décrit dans l'encadré <xref linkend="sidebar.bts" />) à la recherche d'un problème similaire et mentionnez le résultat de cette recherche en fournissant les liens vers les bogues trouvés. Rappelons que toute exploration du BTS débute à la page suivante : <ulink type="block" url="http://www.debian.org/Bugs/index.fr.html" />
			</para>
			 <para>
				Plus vous aurez été courtois et précis, plus grandes seront vos chances d'obtenir une réponse — ou du moins des éléments de réponse. Si vous recevez des informations intéressantes par courrier privé, pensez à faire une synthèse publique des réponses reçues afin que tout le monde puisse en profiter et que les archives de la liste, dûment explorées par divers moteurs de recherche, donnent directement la réponse à ceux qui se poseront la même question que vous.
			</para>

		</section>
		 <section>
			<title>Signaler un bogue en cas de problème incompréhensible</title>
			 <indexterm>
				<primary>bogue</primary>
				<secondary>rapport de</secondary>
			</indexterm>
			 <indexterm>
				<primary>rapport de bogue</primary>
			</indexterm>
			 <para>
				Si tous vos efforts pour résoudre un problème restent vains, il est possible que celui-ci ne relève pas de votre responsabilité et qu'il s'agisse en fait d'un bogue dans le programme récalcitrant. Dans ce cas, la procédure à adopter est de le signaler à Debian ou directement aux auteurs du logiciel. Pour cela, il convient d'isoler le mieux possible le problème et de créer une situation de test minimale qui permette de le reproduire. Si vous savez quel programme est la cause apparente du problème, il est possible de retrouver le paquet concerné à l'aide de la commande <command>dpkg -S <replaceable>fichier_en_cause</replaceable></command>. La consultation du système de suivi de bogues (<literal>https://bugs.debian.org/<replaceable>paquet</replaceable></literal>) permettra de vérifier que ce bogue n'a pas encore été répertorié. On pourra alors envoyer son propre rapport de bogue à l'aide de la commande <command>reportbug</command> — en incluant le maximum d'informations, en particulier la description complète du cas minimal de test qui permet de reproduire le bogue.
			</para>
			 <para>
				Les éléments du présent chapitre constituent un moyen de résoudre efficacement les embarras que les chapitres suivants pourraient susciter. Faites-y donc appel aussi souvent que nécessaire !
			</para>

		</section>

	</section>
</chapter>

