<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">章 6. 維護與更新：APT 工具</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-zh-TW-1.0-1" /><meta
        name="keywords"
        content="apt, apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="Debian管理者手冊" /><link
        rel="up"
        href="index.html"
        title="Debian管理者手冊" /><link
        rel="prev"
        href="sect.coexistence-with-other-packaging-systems.html"
        title="5.5. 與其他打包系統共存" /><link
        rel="next"
        href="sect.apt-get.html"
        title="6.2. aptitude、apt-get、與 apt 命令" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/zh-TW/stable/apt.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.coexistence-with-other-packaging-systems.html"><strong>前一頁</strong></a></li><li
          class="home">Debian管理者手冊</li><li
          class="next"><a
            accesskey="n"
            href="sect.apt-get.html"><strong>下一頁</strong></a></li></ul><div
        xml:lang="zh-TW"
        class="chapter"
        lang="zh-TW"><div
          class="titlepage"><div><div><h1
                class="title"><a
                  xmlns=""
                  id="apt"></a>章 6. 維護與更新：APT 工具</h1></div></div></div><div
          class="toc"><dl
            class="toc"><dt><span
                class="section"><a
                  href="apt.html#sect.apt-sources.list">6.1. 寫入 <code
                    class="filename">sources.list</code> 檔案</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="apt.html#id-1.9.10.6">6.1.1. 語法</a></span></dt><dt><span
                    class="section"><a
                      href="apt.html#id-1.9.10.7">6.1.2. <span
                        class="distribution distribution">穩定版</span> 使用者的典藏庫</a></span></dt><dt><span
                    class="section"><a
                      href="apt.html#id-1.9.10.8">6.1.3. 供 <span
                        class="distribution distribution">測試版</span>/<span
                        class="distribution distribution">不穩定版</span> 使用者的典藏庫</a></span></dt><dt><span
                    class="section"><a
                      href="apt.html#id-1.9.10.9">6.1.4. 非官方資源：<code
                        class="literal">mentors.debian.net</code></a></span></dt><dt><span
                    class="section"><a
                      href="apt.html#id-1.9.10.10">6.1.5. Debian 套件快取代理</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.apt-get.html">6.2. <code
                    class="command">aptitude</code>、<code
                    class="command">apt-get</code>、與 <code
                    class="command">apt</code> 命令</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.apt-get.html#id-1.9.11.7">6.2.1. 初始化</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#id-1.9.11.8">6.2.2. 安裝與移除</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#sect.apt-upgrade">6.2.3. 系統升級</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#sect.apt-config">6.2.4. 組態選項</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#sect.apt.priorities">6.2.5. 管理套件優先性</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#sect.apt-mix-distros">6.2.6. 在多個發行版工作</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#sect.automatic-tracking">6.2.7. 自動追蹤已安裝的套件</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.apt-cache.html">6.3. The <code
                    class="command">apt-cache</code> 命令</a></span></dt><dt><span
                class="section"><a
                  href="sect.apt-frontends.html">6.4. 前置：<code
                    class="command">aptitude</code>、<code
                    class="command">synaptic</code></a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.apt-frontends.html#sect.aptitude">6.4.1. <code
                        class="command">aptitude</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-frontends.html#id-1.9.13.7">6.4.2. <code
                        class="command">synaptic</code></a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.package-authentication.html">6.5. 檢查套件真偽</a></span></dt><dt><span
                class="section"><a
                  href="sect.dist-upgrade.html">6.6. 升級至下個穩定發行版</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.dist-upgrade.html#id-1.9.15.3">6.6.1. 建議程序</a></span></dt><dt><span
                    class="section"><a
                      href="sect.dist-upgrade.html#id-1.9.15.4">6.6.2. 處理升級後的問題</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.regular-upgrades.html">6.7. 保持系統在最新狀態</a></span></dt><dt><span
                class="section"><a
                  href="sect.automatic-upgrades.html">6.8. 自動升級</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.automatic-upgrades.html#id-1.9.17.5">6.8.1. 組態 <code
                        class="command">dpkg</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.automatic-upgrades.html#id-1.9.17.6">6.8.2. 組態 APT</a></span></dt><dt><span
                    class="section"><a
                      href="sect.automatic-upgrades.html#id-1.9.17.7">6.8.3. 組態 <code
                        class="command">debconf</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.automatic-upgrades.html#id-1.9.17.8">6.8.4. 處理命令列介面</a></span></dt><dt><span
                    class="section"><a
                      href="sect.automatic-upgrades.html#id-1.9.17.9">6.8.5. 神奇的組合</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.searching-packages.html">6.9. 搜尋套件</a></span></dt></dl></div><div
          class="highlights"><div
            class="para">
		Debian 之所以受到系統管理員的歡迎，是因為安裝容易且更新也極為簡單。這個優點歸功於 Falcot 公司管理者熱情研究的 <span
              class="emphasis"><em>APT</em></span> 程式。
	</div></div><div
          class="para">
		<a
            id="id-1.9.4.1"
            class="indexterm"></a> <a
            id="id-1.9.4.2"
            class="indexterm"></a> APT 是 Advanced Package Tool 進階套件工具的縮寫。它的 “進階” 之處在於對套件的管理方法。它並不個別簡單地評估每個套件，而是將套件視為整體，根據現有的和相容的套件組合，產生最佳的套件 (根據其相依性)。
	</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>術語</em></span> 套件來源與原始套件</strong></p></div></div></div><div
            class="para">
		這個英文字 <span
              class="emphasis"><em>source</em></span> 在不同的場合有多種譯法。原始套件 — 由原始碼構成的套件 — 不要和套件來源弄混 — 儲存該等套件的儲存庫 (網站、FTP 伺服器、CD-ROM、在地資料來等)。
	</div></div><div
          class="para">
		需給 APT “套件來源清單”：即 <code
            class="filename">/etc/apt/sources.list</code>，列出 Debian 套件的典藏所 (或 “來源”)。APT 將匯入各來源節套件清單。下載 <code
            class="filename">Packages.xz</code> 或以不同的壓縮方法 (如 <code
            class="filename">Packages.gz</code> 或 <code
            class="filename">.bz2</code>) 檔案 (使用執行套件時) 與 <code
            class="filename">Sources.xz</code> 或其他 (使用原始套件時) 然後分析其內容，就能完成該作用。已安裝舊版時，APT 可下載其差異更新之 (見專欄 <a
            class="xref"
            href="sect.apt-get.html#sidebar.apt-pdiff"><span
              class="emphasis"><em>秘訣</em></span> 增量式升級</a>)。
	</div><a
          id="id-1.9.7"
          class="indexterm"></a><a
          id="id-1.9.8"
          class="indexterm"></a><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>基礎</em></span> <code
                      class="command">gzip</code>、<code
                      class="command">bzip2</code>、<code
                      class="command">LZMA</code> 與 <code
                      class="command">XZ</code> 壓縮</strong></p></div></div></div><a
            id="id-1.9.9.2"
            class="indexterm"></a><a
            id="id-1.9.9.3"
            class="indexterm"></a><a
            id="id-1.9.9.4"
            class="indexterm"></a><a
            id="id-1.9.9.5"
            class="indexterm"></a><div
            class="para">
		延伸檔名 <code
              class="filename">.gz</code> 表示該檔案以 <code
              class="command">gzip</code> 工具壓縮而成。<code
              class="command">gzip</code> 是最快最有效率的傳統型 Unix 壓縮檔案工具。較新的工具壓縮效率較佳，但耗費較多資源 (電腦時間與金錢) 才能壓縮或解壓縮檔案。依字順為 <code
              class="command">bzip2</code> (延伸檔名為 <code
              class="filename">.bz2</code>)、<code
              class="command">lzma</code> (延伸檔名為 <code
              class="filename">.lzma</code>) 與 <code
              class="command">xz</code> (延伸檔名為 <code
              class="filename">.xz</code>)。
	</div></div><div
          class="section"><div
            class="titlepage"><div><div><h2
                  class="title"><a
                    xmlns=""
                    id="sect.apt-sources.list"></a>6.1. 寫入 <code
                    class="filename">sources.list</code> 檔案</h2></div></div></div><a
            id="id-1.9.10.2"
            class="indexterm"></a><a
            id="id-1.9.10.3"
            class="indexterm"></a><a
            id="id-1.9.10.4"
            class="indexterm"></a><a
            id="id-1.9.10.5"
            class="indexterm"></a><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="id-1.9.10.6"></a>6.1.1. 語法</h3></div></div></div><div
              class="para">
				<code
                class="filename">/etc/apt/sources.list</code> 內的每列就是一個來源，包括三個以空格區隔的部份。
			</div><div
              class="para">
				第一個欄位指示來源類型：
			</div><div
              xmlns:d="http://docbook.org/ns/docbook"
              class="itemizedlist"><ul><li
                  class="listitem"><div
                    class="para">
						“<code
                      class="literal">deb</code>” 表示為執行套件，
					</div></li><li
                  class="listitem"><div
                    class="para">
						“<code
                      class="literal">deb-src</code>” 表示來源套件。
					</div></li></ul></div><div
              class="para">
				第二個欄位是來源的 URL (包括在 <code
                class="filename">Packages.gz</code> 內的檔名，必須給全名與有效的 URL)：可以是 Debian 鏡射站或第三方的任何套件檔案。URL 可以使用 <code
                class="literal">file://</code> 表示從在地的資料夾內讀取，以 <code
                class="literal">http://</code> 表示來自網站的來源，或以 <code
                class="literal">ftp://</code> 表示取自 FTP 伺服器的來源。雖然很少發生，但URL 也可以使用 <code
                class="literal">cdrom:</code> 表示為 CD-ROM/DVD-ROM/Blu-ray 磁碟式安裝，大部份情況下都是網路安裝。
			</div><div
              class="para">
				最後一個欄位的語法取決於典藏所的結構。最簡單的例子，就是指向來源 (通常以 “<code
                class="filename">./</code>” 標示無次資料夾 — 套件就在指定的 URL 內) 的次資料夾 (含結尾的斜線)。比較常見的狀況是，像 Debian 鏡射站的典藏所，每個發行版有自己的元件。在這些情況下，選定發行版 (以 “代碼” 指名 — 見專欄 <a
                class="xref"
                href="sect.foundation-documents.html#sidebar.bruce-perens"><span
                  class="emphasis"><em>社群</em></span> 布魯斯·佩倫斯，另類的領導者</a> — 或對應的 “組” — <code
                class="literal">穩定</code>、<code
                class="literal">測試</code>、<code
                class="literal">不穩定</code>)，啟用 (選擇 Debian 鏡射的 <code
                class="literal">main</code>、<code
                class="literal">contrib</code>、與 <code
                class="literal">non-free</code>) 組成元件 (或區)。
			</div><div
              class="sidebar"><a
                xmlns=""
                id="sidebar.sections"></a><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>術語</em></span><code
                          class="literal">主要</code>、<code
                          class="literal">奉獻</code> 與 <code
                          class="literal">不自由</code> 檔案</strong></p></div></div></div><a
                id="id-1.9.10.6.7.2"
                class="indexterm"></a><a
                id="id-1.9.10.6.7.3"
                class="indexterm"></a><a
                id="id-1.9.10.6.7.4"
                class="indexterm"></a><a
                id="id-1.9.10.6.7.5"
                class="indexterm"></a><a
                id="id-1.9.10.6.7.6"
                class="indexterm"></a><a
                id="id-1.9.10.6.7.7"
                class="indexterm"></a><a
                id="id-1.9.10.6.7.8"
                class="indexterm"></a><div
                class="para">
				根據著者選定的授權，Debian 以三個區列出其套件。<code
                  class="literal">主要</code> 的套件完全符合 Debian 自由軟體指導方針的規定。
			</div><div
                class="para">
				<code
                  class="literal">不自由</code> 檔案的授權不 (完全) 符合前述方針的要求，但可以無限制地散布。雖然不是 Debian 官方認可的，但使用者仍有需要 — Debian 仍建議使用自由軟體。美國自由軟體基金會創始人理查·斯托曼對此耿耿於懷，所以不推薦 Debian。
			</div><div
                class="para">
				<code
                  class="literal">奉獻</code> 是需要不自由元件才能運作的自由軟體。這些元件可能來自 <code
                  class="literal">不自由</code> 區塊，或遊戲 ROMs、控制台的 BIOS 等的不自由檔案。<code
                  class="literal">奉獻</code> 也包括編譯時需要專屬元件的自由軟體。此等軟體源自於需用到專屬 Java 環境的 OpenOffice.org 套件。
			</div></div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>秘訣</em></span> <code
                          class="filename">/etc/apt/sources.list.d/*.list</code> 檔案</strong></p></div></div></div><div
                class="para">
				確認套件來源後，可以把它拆成多個檔案。每個部份都存在 <code
                  class="filename">/etc/apt/sources.list.d/<em
                    class="replaceable">檔名</em>.list</code> (見專欄 <a
                  class="xref"
                  href="sect.apt-get.html#sidebar.directory.d"><span
                    class="emphasis"><em>基本</em></span> 結尾是 <code
                    class="filename">.d</code> 的資料夾名稱</a>) 內。
			</div></div><a
              id="id-1.9.10.6.9"
              class="indexterm"></a><div
              class="para">
				<code
                class="literal">cdrom</code> 條目表示您有此 CD/DVD-ROMs。相對於其他條目，CD-ROM 並非經常存在，一次祗能塞入一張。基於這個理由，以不同的方式管理此來源，需用到 <code
                class="command">apt-cdrom</code> 程式，及 <code
                class="literal">add</code> 參數。要求將光碟插入光碟機，並找尋 <code
                class="filename">套件</code> 檔案。以此等檔案更新可用套件的資料庫 (通常以 <code
                class="command">apt update</code> 命令完成它)。然後，APT 才能要求插入包括其套件的光碟。
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="id-1.9.10.7"></a>6.1.2. <span
                      class="distribution distribution">穩定版</span> 使用者的典藏庫</h3></div></div></div><div
              class="para">
				以下是標準的 <code
                class="filename">sources.list</code> 供系統執行 <span
                class="distribution distribution">穩定</span> 版 Debian：
			</div><div
              class="example"><a
                xmlns=""
                id="example.stable-sources-list"></a><p
                class="title"><strong>範例 6.1. 供 Debian 穩定版使用者的 <code
                    class="filename">/etc/apt/sources.list</code></strong></p><div
                class="example-contents"><pre
                  class="programlisting"># Security updates
deb http://security.debian.org/ jessie/updates main contrib non-free
deb-src http://security.debian.org/ jessie/updates main contrib non-free

## Debian mirror

# Base repository
deb http://ftp.debian.org/debian jessie main contrib non-free
deb-src http://ftp.debian.org/debian jessie main contrib non-free

# Stable updates
deb http://ftp.debian.org/debian jessie-updates main contrib non-free
deb-src http://ftp.debian.org/debian jessie-updates main contrib non-free

# Stable backports
deb http://ftp.debian.org/debian jessie-backports main contrib non-free
deb-src http://ftp.debian.org/debian jessie-backports main contrib non-free</pre></div></div><div
              class="para">
				此檔案列出與 <span
                class="distribution distribution">Jessie</span> 版 Debian (撰寫此文時最新的 <span
                class="distribution distribution">穩定</span> 版) 有關的套件來源。我們選擇 “jessie” 之名而不是對應的 “穩定“ 別稱 (<code
                class="literal">穩定</code>、<code
                class="literal">穩定更新</code>、<code
                class="literal">穩定-反向</code>)，因為下個穩定版釋出時，不要讓他們不受控制。
			</div><div
              class="para">
				大部份套件來自包括極少更新的所有套件 “基礎典藏庫” (每兩個月有一次的 “釋出點”)。其他的典藏庫不夠完整 (未包括所有的套件)，不過可以透過 APT 更新其主套件 (含新版的套件)。接下來的內容將解釋管理這些典藏庫的目的和規範。
			</div><div
              class="para">
				請注意，指定版本的套件可能同時存在多個典藏庫，將取用列在 <code
                class="filename">sources.list</code> 檔案前面的典藏庫。所以，非官方的來源多半放在此檔案的最後面。
			</div><div
              class="para">
				補充說明，本節有關 <span
                class="distribution distribution">穩定版</span> 的內容同樣適用於 <span
                class="distribution distribution">舊穩定版</span>，因為後者祗是較舊的 <span
                class="distribution distribution">穩定版</span>，仍然同步維護中。
			</div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        xmlns=""
                        id="sect.security-updates"></a>6.1.2.1. 安全更新</h4></div></div></div><a
                id="id-1.9.10.7.8.2"
                class="indexterm"></a><a
                id="id-1.9.10.7.8.3"
                class="indexterm"></a><a
                id="id-1.9.10.7.8.4"
                class="indexterm"></a><div
                class="para">
					安全更新的內容通常不在 Debian 鏡射站內，而在 <code
                  class="literal">security.debian.org</code> (在 <a
                  class="link"
                  href="sect.debian-internals.html#dsa-team">Debian 系統管理者</a> 維護的小機器內)。包括給 <span
                  class="distribution distribution">穩定版</span> 使用的安全更新檔案 (由 Debian 安全團隊與套件管理者共同準備)。
				</div><div
                class="para">
					此伺服器同時提供給 <span
                  class="distribution distribution">測試版</span> 用的安全更新但不常發生，因為該等給 <span
                  class="distribution distribution">測試版</span> 的更新傾向經由 <span
                  class="distribution distribution">不穩定版</span> 的更新流程處理。
				</div></div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        xmlns=""
                        id="sect.stable-updates"></a>6.1.2.2. 穩定更新</h4></div></div></div><a
                id="id-1.9.10.7.9.2"
                class="indexterm"></a><a
                id="id-1.9.10.7.9.3"
                class="indexterm"></a><a
                id="id-1.9.10.7.9.4"
                class="indexterm"></a><div
                class="para">
					穩定更新與安全無關，但認為在下個穩定釋出點前值得使用者更新它。
				</div><div
                class="para">
					此典藏庫包括已修正的嚴重錯誤檔案，這些嚴重錯誤可能是在釋出前無法修正或在後續更新後才出現的。視其急迫性，也可以納入必須更新的套件… 諸如 <span
                  class="pkg pkg">spamassassin</span> 的垃圾郵件偵測規則、<span
                  class="pkg pkg">clamav</span> 的病毒資料庫、或全球日光節約時間規則 (<span
                  class="pkg pkg">tzdata</span>)。
				</div><div
                class="para">
					實務上，此典藏庫是由穩定版釋出經理挑選的 <code
                  class="literal">建議更新</code> 典藏庫的子集合。
				</div></div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        xmlns=""
                        id="sect.proposed-updates"></a>6.1.2.3. 建議更新</h4></div></div></div><a
                id="id-1.9.10.7.10.2"
                class="indexterm"></a><a
                id="id-1.9.10.7.10.3"
                class="indexterm"></a><div
                class="para">
					出版之後，<span
                  class="distribution distribution">穩定</span> 發行版是唯一固定 2 個月更新的版本。<code
                  class="literal">建議的更新</code> 典藏庫是儲放更新資料的地方 (由穩定版釋出經理管轄)。
				</div><div
                class="para">
					此典藏所包括前一節的安全與穩定更新文件，以及其他的文件，因為套件維護者也需修護不需立即釋出的重要錯誤。
				</div><div
                class="para">
					正式出版之前，每個人都可使用此典藏庫測試該等更新。以 <code
                  class="literal">jessie-proposed-updates</code> 取用更明確與一致的資料，因為 <code
                  class="literal">wheezy-proposed-updates</code> 也擁有相同的容 (供 <span
                  class="distribution distribution">Oldstable</span> 更新使用)：
				</div><pre
                class="programlisting">deb http://ftp.debian.org/debian jessie-proposed-updates main contrib non-free</pre></div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        xmlns=""
                        id="sect.backports"></a>6.1.2.4. 穩定回移</h4></div></div></div><a
                id="id-1.9.10.7.11.2"
                class="indexterm"></a><a
                id="id-1.9.10.7.11.3"
                class="indexterm"></a><a
                id="id-1.9.10.7.11.4"
                class="indexterm"></a><div
                class="para">
					<code
                  class="literal">穩定回移</code> 典藏庫儲存 “回移的套件”。係指重新編譯供舊發行版使用的套件，通常係供 <span
                  class="distribution distribution">h穩定版</span> 使用。
				</div><div
                class="para">
					發行版有點過時後，很多軟體計畫就釋出無法與 <span
                  class="distribution distribution">穩定版</span> (祗修訂最嚴重的問題，諸如安全問題) 整合的新版軟體。因為 <span
                  class="distribution distribution">測試版</span> 與 <span
                  class="distribution distribution">不穩定版</span> 太危險了，套件維護者祗好重新編譯新版的軟體供 <span
                  class="distribution distribution">穩定版</span> 使用，把可能的不穩定限制在少數指定的套件。<div
                  xmlns=""
                  class="url">→ <a
                    xmlns="http://www.w3.org/1999/xhtml"
                    href="http://backports.debian.org">http://backports.debian.org</a></div>
				</div><div
                class="para">
					大部份的 Debian 鏡射站有 <code
                  class="literal">穩定回移</code> 典藏庫。但 <span
                  class="distribution distribution">Squeeze</span> 的回移仍典藏藏在指定的伺服器 (<code
                  class="literal">backports.debian.org</code>)，且要求使用 <code
                  class="filename">sources.list</code> 的條目才能取用：
				</div><a
                id="id-1.9.10.7.11.8"
                class="indexterm"></a><pre
                class="programlisting">deb http://backports.debian.org/debian-backports squeeze-backports main contrib non-free</pre><div
                class="para">
					來自 <code
                  class="literal">穩定回移</code> 的回移總是取材自 <span
                  class="distribution distribution">測試版</span> 的套件。才能確保所有安裝的回移可順利地升級至下個 Debian 穩定版。
				</div><div
                class="para">
					即使此典藏庫提供較新版的套件，APT 不會安裝他們，除非管理者明確指示這麼做 (或已經從指定的回移安裝稍早的版本)：
				</div><pre
                class="screen"><code
                  class="computeroutput">$ </code><strong
                  class="userinput"><code>sudo apt-get install <em
                      class="replaceable">套件</em>/jessie-backports
</code></strong><code
                  class="computeroutput">$ </code><strong
                  class="userinput"><code>sudo apt-get install -t jessie-backports <em
                      class="replaceable">套件</em>
</code></strong></pre></div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="id-1.9.10.8"></a>6.1.3. 供 <span
                      class="distribution distribution">測試版</span>/<span
                      class="distribution distribution">不穩定版</span> 使用者的典藏庫</h3></div></div></div><div
              class="para">
				這裡是標準的 <code
                class="filename">sources.list</code> 供執行 Debian <span
                class="distribution distribution">測試版</span> 或 <span
                class="distribution distribution">不穩定版</span> 之用：
			</div><div
              class="example"><a
                xmlns=""
                id="example.testing-sources-list"></a><p
                class="title"><strong>範例 6.2. <code
                    class="filename">/etc/apt/sources.list</code> 檔案供 Debian <span
                    class="distribution distribution">測試版</span>/<span
                    class="distribution distribution">不穩定版</span> 使用者</strong></p><div
                class="example-contents"><pre
                  class="programlisting">
# Unstable
deb http://ftp.debian.org/debian unstable main contrib non-free
deb-src http://ftp.debian.org/debian unstable main contrib non-free

# Testing
deb http://ftp.debian.org/debian testing main contrib non-free
deb-src http://ftp.debian.org/debian testing main contrib non-free

# Stable
deb http://ftp.debian.org/debian stable main contrib non-free
deb-src http://ftp.debian.org/debian stable main contrib non-free

# Security updates
deb http://security.debian.org/ stable/updates main contrib non-free
deb http://security.debian.org/ testing/updates main contrib non-free
deb-src http://security.debian.org/ stable/updates main contrib non-free
deb-src http://security.debian.org/ testing/updates main contrib non-free</pre></div></div><div
              class="para">
				APT 利用 <code
                class="filename">sources.list</code> 檔案安裝來自 <span
                class="distribution distribution">不穩定版</span> 的套件。若非必要，則使用 <code
                class="literal">APT::Default-Release</code> 設定 (見 <a
                class="xref"
                href="sect.apt-get.html#sect.apt-upgrade">節 6.2.3, “系統升級”</a>) 指示 APT 從另個版本 (多半使用 <span
                class="distribution distribution">測試版</span>) 選取套件。
			</div><div
              class="para">
				應該納入這些典藏庫，即使一個也該這麼做。<span
                class="distribution distribution">測試版</span> 使用者將感謝管理者從 <span
                class="distribution distribution">不穩定版</span> 中挑選修改過的套件，當 <span
                class="distribution distribution">測試版</span> 受到錯誤的干擾時。反過來說，被無預期錯誤干擾的 <span
                class="distribution distribution">不穩定版</span> 使用者，可能降級至他們 (若以此工作) 使用的 <span
                class="distribution distribution">測試版</span> 套件。
			</div><div
              class="para">
				<span
                class="distribution distribution">穩定版</span> 的內容較有爭議，但可接觸被發展版移除的套件。同時也確保取得尚未被修改的最新套件。
			</div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        xmlns=""
                        id="id-1.9.10.8.7"></a>6.1.3.1. <span
                        class="distribution distribution">實驗性</span> 典藏所</h4></div></div></div><a
                id="id-1.9.10.8.7.2"
                class="indexterm"></a><div
                class="para">
					<span
                  class="distribution distribution">實驗性</span> 典藏所的套件是所有 Debian 鏡射站的內容，包括因為品質關係尚未被納入 <span
                  class="distribution distribution">不穩定版</span> 的套件 — 通常是發展中的軟體版本或前置版 (alpha、beta、待釋出…)。修改過的套件多少有點問題，可送至此處。在進階使用者的協助下，維護者努力找出該等問題。經過第一階段後，把套件移至 <span
                  class="distribution distribution">不穩定版</span>，更多的使用者以更詳細的方式測試它。
				</div><div
                class="para">
					不在乎系統崩盤並有能力自行修復的使用者，就會取用 <span
                  class="distribution distribution">實驗性</span> 的套件。使用者匯入此等套件並測試其功能、檢查是否滿足其需求。這就是 Debian 的訴求，加入 APT 的 <code
                  class="filename">sources.list</code> 內，並不表示該套件可順利使用，應加入這一個行：
				</div><div
                class="informalexample"><pre
                  class="programlisting">deb http://ftp.debian.org/debian experimental main contrib non-free</pre></div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="id-1.9.10.9"></a>6.1.4. 非官方資源：<code
                      class="literal">mentors.debian.net</code></h3></div></div></div><a
              id="id-1.9.10.9.2"
              class="indexterm"></a><div
              class="para">
				有些進階使用者自行編譯軟體建置非官方的 Debian 套件來源庫 (Ubuntu 以 Personal Package Archive 服務建置)，這些程式設計師把自己的心血公開，有些 Debian 發展者也提供自已的預釋出版。
			</div><div
              class="para">
				<code
                class="literal">mentors.debian.net</code> 網站很有趣 (雖然它祗提供原始套件)，因為它它的套件係供 Debian 官方發展者檢視或由志願者提供未經整合程序的套件。這些不保證品質的套件，允許並鼓勵使用者在正式使用之前，檢查並測試之。
			</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>社群</em></span><code
                          class="literal">debian.net</code> 網站</strong></p></div></div></div><a
                id="id-1.9.10.9.5.2"
                class="indexterm"></a><div
                class="para">
				<span
                  class="emphasis"><em>debian.net</em></span> 網址不是 Debian 計畫的官方資源。每個 Debian 發展者都可使用此網址。這些網站可能包括非官方的服務 (有時是個人網站) 位於不屬於計畫的機器上，且由 Debian 發展者建拉，或將移至 <span
                  class="emphasis"><em>debian.org</em></span> 的原型。這些原型留在 <span
                  class="emphasis"><em>debian.net</em></span> 的原因有二：沒有人發願把它轉移成為官方服務 (置於 <span
                  class="emphasis"><em>debian.org</em></span> 網址，並保證後續的維護)，或太具爭論性。
			</div></div><div
              class="para">
				安裝套件就是把根權限給其創造者，因為他們決定執行該等腳本的內容。Debian 官方的套件由志願者建立，並封閉套件以確保其完整。
			</div><div
              class="para">
				一般來說，對來源不明且不在 Debian 官方服器的套件應小心：評估您對建立者的信任程度，並檢查套件的完整性。<div
                xmlns=""
                class="url">→ <a
                  xmlns="http://www.w3.org/1999/xhtml"
                  href="http://mentors.debian.net/">http://mentors.debian.net/</a></div>
			</div><div
              class="sidebar"><a
                xmlns=""
                id="sidebar.snapshot.debian.org"></a><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>進階</em></span> 舊套件版本：<code
                          class="literal">snapshot.debian.org</code></strong></p></div></div></div><a
                id="id-1.9.10.9.8.2"
                class="indexterm"></a><div
                class="para">
				<code
                  class="literal">snapshot.debian.org</code> 服務始於 2010 年 4 月，可以 “及時向後” 並找到該套件的舊版。它能做為辨識引入回歸的套件，並且具體地回到前個版本並等待修復回歸。
			</div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="id-1.9.10.10"></a>6.1.5. Debian 套件快取代理</h3></div></div></div><a
              id="id-1.9.10.10.2"
              class="indexterm"></a><a
              id="id-1.9.10.10.3"
              class="indexterm"></a><div
              class="para">
				當機器的整個網路都組態成使用同個遠端伺服器下載同個更新套件，管理者就知道中介性質的代理做為在地網路的快取，是最有益的。(見專欄 <a
                class="xref"
                href="sect.apt-cache.html#sidebar.cache"><span
                  class="emphasis"><em>術語</em></span> 快取</a>)。
			</div><div
              class="para">
				可以用 "標準" 代理組態 APT (見 <a
                class="xref"
                href="sect.apt-get.html#sect.apt-config">節 6.2.4, “組態選項”</a> 給 APT 使用，把 <a
                class="xref"
                href="sect.http-ftp-proxy.html">節 11.6, “HTTP/FTP Proxy”</a> 給代理端)，但 Debian 的生態系統以更好的選擇解決此問題。本區列出的專用軟體比純快取更聰明，因為他們使用特定構架的 APT 典藏所 (例如他們知道檔案是否已過時，且在持有時調整其內容)。
			</div><a
              id="id-1.9.10.10.6"
              class="indexterm"></a><a
              id="id-1.9.10.10.7"
              class="indexterm"></a><div
              class="para">
				<span
                class="pkg pkg">apt-cacher</span> 與 <span
                class="pkg pkg">apt-cacher-ng</span> 就像一般快取伺服器般運作。APT 的 <code
                class="filename">sources.list</code> 不變，但 APT 組態成像是快取。
			</div><a
              id="id-1.9.10.10.9"
              class="indexterm"></a><div
              class="para">
				換句話說，<span
                class="pkg pkg">approx</span> 就像是 “鏡射” 至高層 URL 的遠端 HTTP 伺服器典藏所。高層典藏所與遠端 URL 典藏所是儲存在 <code
                class="filename">/etc/approx/approx.conf</code>：
			</div><pre
              class="programlisting">
# &lt;name&gt; &lt;repository-base-url&gt;
debian   http://ftp.debian.org/debian
security http://security.debian.org</pre><div
              class="para">
				<span
                class="pkg pkg">approx</span> 預設經由 inetd (見 <a
                class="xref"
                href="sect.inetd.html">節 9.6, “The <code
                  class="command">inetd</code> 超級伺服器”</a>) 在埠號 9999 執行，並且要求使用者調整其 <code
                class="filename">sources.list</code> 檔案指向 approx 伺服器：
			</div><pre
              class="programlisting"># Sample sources.list pointing to a local approx server
deb http://apt.falcot.com:9999/security jessie/updates main contrib non-free
deb http://apt.falcot.com:9999/debian jessie main contrib non-free
</pre></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.coexistence-with-other-packaging-systems.html"><strong>前一頁</strong>5.5. 與其他打包系統共存</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>上一層</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>起始頁</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.apt-get.html"><strong>下一頁</strong>6.2. aptitude、apt-get、與 apt 命令</a></li></ul></body></html>
