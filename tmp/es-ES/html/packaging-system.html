<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">Capítulo 5. Sistema de paquetes: herramientas y principios fundamentales</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-es-ES-1.0-1" /><meta
        name="keywords"
        content="Paquete binario, Paquete fuente, dpkg, dependencias, conflicto" /><link
        rel="home"
        href="index.html"
        title="El manual del Administrador de Debian" /><link
        rel="up"
        href="index.html"
        title="El manual del Administrador de Debian" /><link
        rel="prev"
        href="sect.after-first-boot.html"
        title="4.3. Luego del primer arranque" /><link
        rel="next"
        href="sect.package-meta-information.html"
        title="5.2. Metainformación de un paquete" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/es-ES/stable/packaging-system.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.after-first-boot.html"><strong>Anterior</strong></a></li><li
          class="home">El manual del Administrador de Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.package-meta-information.html"><strong>Siguiente</strong></a></li></ul><div
        xml:lang="es-ES"
        class="chapter"
        lang="es-ES"><div
          class="titlepage"><div><div><h1
                class="title"><a
                  xmlns=""
                  id="packaging-system"></a>Capítulo 5. Sistema de paquetes: herramientas y principios fundamentales</h1></div></div></div><div
          class="toc"><dl
            class="toc"><dt><span
                class="section"><a
                  href="packaging-system.html#sect.binary-package-structure">5.1. Estructura de un paquete binario</a></span></dt><dt><span
                class="section"><a
                  href="sect.package-meta-information.html">5.2. Metainformación de un paquete</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.package-meta-information.html#sect.control">5.2.1. Descripción: el archivo <code
                        class="filename">control</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.package-meta-information.html#sect.configuration-scripts">5.2.2. Scripts de configuración</a></span></dt><dt><span
                    class="section"><a
                      href="sect.package-meta-information.html#sect.conffiles">5.2.3. Sumas de verificación («checksum»), lista de archivos de configuración</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.source-package-structure.html">5.3. Estructura de un paquete fuente</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.source-package-structure.html#id-1.8.7.4">5.3.1. Formato</a></span></dt><dt><span
                    class="section"><a
                      href="sect.source-package-structure.html#id-1.8.7.5">5.3.2. Utilización dentro de Debian</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.manipulating-packages-with-dpkg.html">5.4. Manipulación de paquetes con <code
                    class="command">dpkg</code></a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#id-1.8.8.5">5.4.1. Instalación de paquetes</a></span></dt><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#id-1.8.8.6">5.4.2. Eliminación de un paquete</a></span></dt><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#id-1.8.8.7">5.4.3. Consulta de la base de datos de <code
                        class="command">dpkg</code> e inspección de archivos <code
                        class="filename">.deb</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#id-1.8.8.8">5.4.4. Archivo de registro de <code
                        class="command">dpkg</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.manipulating-packages-with-dpkg.html#sect.multi-arch">5.4.5. Compatibilidad multiarquitectura</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.coexistence-with-other-packaging-systems.html">5.5. Coexistencia con otros sistemas paquetes</a></span></dt></dl></div><div
          class="highlights"><div
            class="para">
		Como un administrador de un sistema Debian generalmente manejará paquetes <code
              class="filename">.deb</code> ya que contienen unidades funcionales consistentes (aplicaciones, documentación, etc.) facilitando su instalación y mantenimiento. Por lo tanto, es buena idea saber qué son y cómo utilizarlos.
	</div></div><div
          class="para">
		Este capítulo describe la estructura y los contenidos de paquetes «binarios» y «fuente». Los primeros son archivos <code
            class="filename">.deb</code> para utilizar directamente con <code
            class="command">dpkg</code> mientras que los últimos contienen el código fuente así como las instrucciones para crear los paquetes binarios.
	</div><div
          class="section"><div
            class="titlepage"><div><div><h2
                  class="title"><a
                    xmlns=""
                    id="sect.binary-package-structure"></a>5.1. Estructura de un paquete binario</h2></div></div></div><a
            id="id-1.8.5.2"
            class="indexterm"></a><a
            id="id-1.8.5.3"
            class="indexterm"></a><div
            class="para">
			El formato del paquete Debian fue diseñado para que su contenido pueda ser extraído en cualquier sistema Unix que tenga los programas clásicos <code
              class="command">ar</code>, <code
              class="command">tar</code> y <code
              class="command">gzip</code> (a veces <code
              class="command">xz</code> o <code
              class="command">bzip2</code>). Esta propiedad aparentemente trivial es importante para portabilidad y recuperación en caso de desastres.
		</div><div
            class="para">
			Imagine por ejemplo que eliminó por error el programa <code
              class="command">dpkg</code> y que, por lo tanto, ya no puede instalar paquetes Debian. Siendo <code
              class="command">dpkg</code> un paquete en sí mismo pareciera como que su sistema estuviese condenado... afortunadamente conoce el formato de un paquete y puede descargar el archivo <code
              class="filename">.deb</code> para el paquete <span
              class="pkg pkg">dpkg</span> e instalarlo manualmente (revise el recuadro <a
              class="xref"
              href="packaging-system.html#sidebar.dpkg-apt-ar"><span
                class="emphasis"><em>HERRAMIENTAS</em></span> <code
                class="command">dpkg</code>, <code
                class="command">APT</code> y <code
                class="command">ar</code></a>). Si por cualquier motivo o problema uno o más de los programas <code
              class="command">ar</code>, <code
              class="command">tar</code> o <code
              class="command">gzip</code>/<code
              class="command">xz</code>/<code
              class="command">bzip2</code> desaparecieron sólo necesitará copiar el programa faltante de otro sistema (ya que cada uno de ellos funciona de forma completamente autónoma una simple copia bastará). Si su sistema sufre algun evento de peor fortuna e incluso esto no funciona (¿quizás a su sistema le falten bibliotecas a más bajo nivel?), debería intentar la versión estática del programa <code
              class="command">busybox</code> (incluido en el paquete <span
              class="pkg pkg">busybox-static</span>), el cual es inclusive más autocontenido y proporciona órdenes como <code
              class="command">busybox ar</code>, <code
              class="command">busybox tar</code> y <code
              class="command">busybox gunzip</code>.
		</div><div
            class="sidebar"><a
              xmlns=""
              id="sidebar.dpkg-apt-ar"></a><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>HERRAMIENTAS</em></span> <code
                        class="command">dpkg</code>, <code
                        class="command">APT</code> y <code
                        class="command">ar</code></strong></p></div></div></div><a
              id="id-1.8.5.6.2"
              class="indexterm"></a><a
              id="id-1.8.5.6.3"
              class="indexterm"></a><a
              id="id-1.8.5.6.4"
              class="indexterm"></a><div
              class="para">
			<code
                class="command">dpkg</code> es el programa que maneja los archivos <code
                class="filename">.deb</code>, en particular los extrae, analiza y descomprime.
		</div><div
              class="para">
			<code
                class="command">APT</code> es un grupo de programas que permite la ejecución de modificaciones de más alto nivel al sistema: instalar o eliminar un paquete (mientras mantiene dependencias satisfechas), actualizar el sistema, listar los paquetes disponibles, etc.
		</div><a
              id="id-1.8.5.6.7"
              class="indexterm"></a><div
              class="para">
			En cuanto al programa <code
                class="command">ar</code>, permite manejar los archivos del mismo nombre: <code
                class="command">ar t <em
                  class="replaceable">compendio</em></code> muestra la lista de archivos contenidos en el compendio, <code
                class="command">ar x <em
                  class="replaceable">compendio</em></code> extrae dichos archivos al directorio actual, <code
                class="command">ar d <em
                  class="replaceable">compendio</em> <em
                  class="replaceable">archivo</em></code> elimina un archivo del compendio, etc. Su página de manual (<span
                class="citerefentry"><span
                  class="refentrytitle">ar</span>(1)</span>) documenta todas sus funcionalidades. <code
                class="command">ar</code> es una herramienta muy rudimentaria que un administrador Unix sólo utilizaría en raras ocasiones, pero utilizarían rutinariamente <code
                class="command">tar</code>, un programa de manejo de archivos y compendios más evolucionado. Es por eso que es sencillo restaurar <code
                class="command">dpkg</code> en el caso de que sea eliminado por error. Sólo necesita descargar el paquete Debian y extraer el contenido del archivo <code
                class="filename">data.tar.gz</code> en la raíz del sistema (<code
                class="filename">/</code>):
		</div><pre
              class="screen">
<code
                class="computeroutput"># </code><strong
                class="userinput"><code>ar x dpkg_1.17.23_amd64.deb</code></strong>
<code
                class="computeroutput"># </code><strong
                class="userinput"><code>tar -C / -p -xzf data.tar.gz</code></strong></pre></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>VOLVER A LOS CIMIENTOS</em></span> Notación de páginas de manual</strong></p></div></div></div><div
              class="para">
			Los principiantes pueden encontrar confusas las referencias como «<span
                class="citerefentry"><span
                  class="refentrytitle">ar</span>(1)</span>» en la literatura. Generalmente esta es una forma conveniente de referirse a la página de manual titulada <code
                class="literal">ar</code> en la sección 1.
		</div><div
              class="para">
			Algunas veces se utiliza esta notación para eliminar ambigüedades, por ejemplo para distinguir entre el programa <code
                class="command">printf</code>, que también puede indicarse como <span
                class="citerefentry"><span
                  class="refentrytitle">printf</span>(1)</span>, y la función <code
                class="function">printf</code> del lenguaje de programación C, que también puede indicarse como <span
                class="citerefentry"><span
                  class="refentrytitle">printf</span>(3)</span>.
		</div><div
              class="para">
			El <a
                class="xref"
                href="solving-problems.html">Capítulo 7, <em>Resolución de problemas y búsqueda de información relevante</em></a> discute las páginas de manual con más detalles (revise la <a
                class="xref"
                href="solving-problems.html#sect.manual-pages">Sección 7.1.1, “Páginas de manual”</a>).
		</div></div><div
            class="para">
			Estos son los contenidos de un archivo <code
              class="filename">.deb</code>:
		</div><pre
            class="screen"><code
              class="computeroutput">$ </code><strong
              class="userinput"><code>ar t dpkg_1.17.23_amd64.deb</code></strong>
<code
              class="computeroutput">debian-binary
control.tar.gz
data.tar.gz
$ </code><strong
              class="userinput"><code>ar x dpkg_1.17.23_amd64.deb</code></strong>
<code
              class="computeroutput">$ </code><strong
              class="userinput"><code>ls</code></strong>
<code
              class="computeroutput">control.tar.gz  data.tar.gz  debian-binary  dpkg_1.17.23_amd64.deb
$ </code><strong
              class="userinput"><code>tar tzf data.tar.gz | head -n 15</code></strong>
<code
              class="computeroutput">./
./var/
./var/lib/
./var/lib/dpkg/
./var/lib/dpkg/parts/
./var/lib/dpkg/info/
./var/lib/dpkg/alternatives/
./var/lib/dpkg/updates/
./etc/
./etc/logrotate.d/
./etc/logrotate.d/dpkg
./etc/dpkg/
./etc/dpkg/dpkg.cfg.d/
./etc/dpkg/dpkg.cfg
./etc/alternatives/
$ </code><strong
              class="userinput"><code>tar tzf control.tar.gz</code></strong>
<code
              class="computeroutput">./
./conffiles
./postinst
./md5sums
./prerm
./preinst
./control
./postrm
$ </code><strong
              class="userinput"><code>cat debian-binary</code></strong>
<code
              class="computeroutput">2.0</code></pre><div
            class="para">
			Como puede ver, el compendio <code
              class="command">ar</code> de un paquete Debian contiene tres archivos:
		</div><div
            xmlns:d="http://docbook.org/ns/docbook"
            class="itemizedlist"><ul><li
                class="listitem"><div
                  class="para">
					<code
                    class="filename">debian-binary</code>. Es un archivo de texto que indica simplemente la versión del archivo <code
                    class="filename">.deb</code> utilizado (en 2015: versión 2.0).
				</div></li><li
                class="listitem"><div
                  class="para">
					<code
                    class="filename">control.tar.gz</code>. Este compendio contiene toda la metainformación disponible, como el nombre y la versión del paquete. Alguna de esta metainformación le permite a las herramientas de gestión de paquetes determinar si es posible instalar o desinstalarlo, por ejemplo según la lista de paquetes que ya se encuentran en el equipo.
				</div></li><li
                class="listitem"><div
                  class="para">
					<code
                    class="filename">data.tar.gz</code>. Este compendio contiene todos los archivos a extraerse del paquete; aquí es donde están almacenados los archivos ejecutables, la documentación etc. Algunos paquetes pueden utilizar otros formatos de compresión, en los que el archivo tendrá otro nombre (<code
                    class="filename">data.tar.bz2</code> para bzip2m <code
                    class="filename">data.tar.xz</code> para XZ).
				</div></li></ul></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.after-first-boot.html"><strong>Anterior</strong>4.3. Luego del primer arranque</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Subir</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Inicio</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.package-meta-information.html"><strong>Siguiente</strong>5.2. Metainformación de un paquete</a></li></ul></body></html>
