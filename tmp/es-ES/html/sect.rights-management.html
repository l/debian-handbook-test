<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">9.3. Administración de permisos</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-es-ES-1.0-1" /><meta
        name="keywords"
        content="Arranque del sistema, Scripts de inicio, SSH, Telnet, Derechos, Permisos, Supervisión, Inetd, Cron, Respaldo, Conexión en caliente («hotplug»), PCMCIA, APM, ACPI" /><link
        rel="home"
        href="index.html"
        title="El manual del Administrador de Debian" /><link
        rel="up"
        href="unix-services.html"
        title="Capítulo 9. Servicios Unix" /><link
        rel="prev"
        href="sect.remote-login.html"
        title="9.2. Inicio de sesión remoto" /><link
        rel="next"
        href="sect.administration-interfaces.html"
        title="9.4. Interfaces de administración" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/es-ES/stable/sect.rights-management.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.remote-login.html"><strong>Anterior</strong></a></li><li
          class="home">El manual del Administrador de Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.administration-interfaces.html"><strong>Siguiente</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.rights-management"></a>9.3. Administración de permisos</h2></div></div></div><div
          class="para">
			Linux es definitivamente un sistema multiusuario por lo que necesita proveer un sistema de permisos para controlar el conjunto de operaciones autorizadas sobre archivos y directorios, lo que incluye todos los recursos del sistema y los dispositivos (en un sistema Unix cualquier dispositivo es representado por un archivo o un directorio). Este principio es común a todos los sistemas Unix pero siempre es útil recordarlo, especialmente porque existen algunos usos avanzados interesantes y relativamente desconocidos.
		</div><a
          id="id-1.12.6.3"
          class="indexterm"></a><a
          id="id-1.12.6.4"
          class="indexterm"></a><a
          id="id-1.12.6.5"
          class="indexterm"></a><a
          id="id-1.12.6.6"
          class="indexterm"></a><a
          id="id-1.12.6.7"
          class="indexterm"></a><a
          id="id-1.12.6.8"
          class="indexterm"></a><div
          class="para">
			Cada archivo o directorio tiene permisos específicos para tres categorías de usuarios:
		</div><div
          xmlns:d="http://docbook.org/ns/docbook"
          class="itemizedlist"><ul><li
              class="listitem"><div
                class="para">
					su dueño (representado con <code
                  class="literal">u</code> por «usuario»);
				</div></li><li
              class="listitem"><div
                class="para">
					su grupo dueño (representado con <code
                  class="literal">g</code> por «grupo»), que incluye a todos los miembros del grupo;
				</div></li><li
              class="listitem"><div
                class="para">
					y los demás (representado con <code
                  class="literal">o</code> por «otros»).
				</div></li></ul></div><div
          class="para">
			Puede combinar tres tipos de permisos:
		</div><div
          xmlns:d="http://docbook.org/ns/docbook"
          class="itemizedlist"><ul><li
              class="listitem"><div
                class="para">
					lectura (representado por <code
                  class="literal">r</code> por «read»: leer);
				</div></li><li
              class="listitem"><div
                class="para">
					escritura (o modificación, representado con <code
                  class="literal">w</code> por «write»: escribir);
				</div></li><li
              class="listitem"><div
                class="para">
					ejecución (representado con <code
                  class="literal">x</code> por «eXecute»: ejecutar).
				</div></li></ul></div><a
          id="id-1.12.6.13"
          class="indexterm"></a><a
          id="id-1.12.6.14"
          class="indexterm"></a><a
          id="id-1.12.6.15"
          class="indexterm"></a><a
          id="id-1.12.6.16"
          class="indexterm"></a><div
          class="para">
			En el caso de un archivo, estos permisos se entienden fácilmente: la lectura permite acceder al contenido (inclusive copiarlo), la escritura permite cambiarlo y la ejecución permite ejecutarlo (lo cual sólo funcionará si es un programa).
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>SEGURIDAD</em></span> Ejecutables <code
                      class="literal">setuid</code> y <code
                      class="literal">setgid</code></strong></p></div></div></div><div
            class="para">
			Dos permisos particulares son relevantes para archivos ejecutables: <code
              class="literal">setuid</code> y <code
              class="literal">setgid</code> (representados con la letra «s»). Sepa que frecuentemente haremos referencias a «bits» ya que cada uno de estos valores booleanos pueden representarse con un 0 o un 1. Estos dos permisos le permiten a cualquier usuario ejecutar el programa con los permisos del dueño o del grupo respectivamente. Este mecanismo provee acceso a funcionalidades que necesitan más permisos de los que tendría normalmente.
		</div><a
            id="id-1.12.6.18.3"
            class="indexterm"></a><a
            id="id-1.12.6.18.4"
            class="indexterm"></a><div
            class="para">
			Dado que un programa cuyo dueño es root con <code
              class="literal">setuid</code> activado ejecutará sistemáticamente con la identidad del súperusuario, es muy importante asegurar que es seguro y confiable. De hecho, un usuario que pueda comprometerlo para ejecutar otro programa de su elección podría hacerse pasar por el usuario root y obtener todos los permisos sobre el sistema.
		</div></div><div
          class="para">
			Los directorios se manejan diferente. El permiso de lectura provee acceso para consultar su lista de elementos (archivos y directorios), el permiso de escritura permite crear o borrar archivos y el permiso de ejecución permite atravesarlo (especialmente para llegar a él con <code
            class="command">cd</code>). Poder atravesar un directorio sin leerlo permite acceder a los elementos que contenga siempre que se conozca su nombre, pero no le permitirá encontrarlos si no sabe que existen o conoce sus nombres exactos.
		</div><div
          class="sidebar"><a
            xmlns=""
            id="sidebar.setgid-dir"></a><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>SEGURIDAD</em></span> Directorios <code
                      class="literal">setgid</code> y el <span
                      class="emphasis"><em>bit «sticky»</em></span> (pegajoso)</strong></p></div></div></div><a
            id="id-1.12.6.20.2"
            class="indexterm"></a><div
            class="para">
			El bit <code
              class="literal">setgid</code> también funciona en directorios. Cualquier elemento creado en tales directorios serán asignados automáticamente al grupo dueño del directorio padre en lugar de heredar el grupo principal de su creador como es usual. Esta configuración evita que el usuario tenga que cambiar su grupo principal (con el programa <code
              class="command">newgrp</code>) cuando trabaje en un árbol de archivos compartidos entre varios usuarios del mismo grupo dedicado.
		</div><a
            id="id-1.12.6.20.4"
            class="indexterm"></a><div
            class="para">
			El bit «sticky» (representado por la letra «t») es un permiso que sólo es util en directorios. Es utilizado especialmente en directorios temporales a los que todos tienen permisos de escritura (como <code
              class="filename">/tmp/</code>): restringe la eliminación de archivos para que sólo pueda hacerlo el dueño del mismo (o el dueño del directorio padre). Sin esto, cualquier podría eliminar los archivos de otros usuarios en <code
              class="filename">/tmp/</code>.
		</div></div><div
          class="para">
			Tres programas controlan los permisos asociados a un archivo:
		</div><div
          xmlns:d="http://docbook.org/ns/docbook"
          class="itemizedlist"><ul><li
              class="listitem"><div
                class="para">
					<code
                  class="command">chown <em
                    class="replaceable">usuario</em> <em
                    class="replaceable">archivo</em></code> cambia el dueño de un archivo;
				</div></li><li
              class="listitem"><div
                class="para">
					<code
                  class="command">chgrp <em
                    class="replaceable">group</em> <em
                    class="replaceable">archivo</em></code> modifica el grupo dueño;
				</div></li><li
              class="listitem"><div
                class="para">
					<code
                  class="command">chmod <em
                    class="replaceable">permisos</em> <em
                    class="replaceable">archivo</em></code> cambia los permisos del archivo.
				</div></li></ul></div><div
          class="para">
			Hay dos formas de representar permisos. Entre ellas, la representación simbólica es probablemente la más sencilla de entender y recordar. Involucra las letras mencionadas anteriormente. Puede definir permisos para cada categoría de usuarios (<code
            class="literal">u</code>/<code
            class="literal">g</code>/<code
            class="literal">o</code>) definiéndolos explícitamente (con <code
            class="literal">=</code>, agregar permisos (<code
            class="literal">+</code>) o eliminar (<code
            class="literal">-</code>) permisos. Por lo tanto, la fórmula <code
            class="literal">u=rwx,g+rw,o-r</code> provee al dueño permisos de lectura, escritura y ejecución, agrega permisos de lectura y escritura al grupo dueño y elimina el permiso de lectura para los otros usuarios. Los permisos que no son modificados cuando se agreguen o eliminen permisos en estas fórmulas se mantienen intactos. La letra <code
            class="literal">a</code> (por «all», todos) incluye las tres categorías de usuarios, por lo que <code
            class="literal">a=rx</code> otorga los mismos permisos (lecutra y ejecución, pero no escritura) a las tres categorías de usuario.
		</div><a
          id="id-1.12.6.24"
          class="indexterm"></a><a
          id="id-1.12.6.25"
          class="indexterm"></a><a
          id="id-1.12.6.26"
          class="indexterm"></a><a
          id="id-1.12.6.27"
          class="indexterm"></a><a
          id="id-1.12.6.28"
          class="indexterm"></a><div
          class="para">
			La representación numérica (octal) asocia cada permiso con un valor: 4 para lectura, 2 para escritura y 1 para ejecución. Asociamos cada combinación de permisos con la suma de dichos valores. Se asigna cada valor a las diferentes categorías de usuarios uniéndolos en el orden usual (dueño, grupo, otros).
		</div><div
          class="para">
			Por ejemplo, <code
            class="command">chmod 754 <em
              class="replaceable">archivo</em></code> configurará los siguientes permisos: lectura, escritura y ejecución para el dueño (ya que 7 = 4 + 2 + 1); lectura y ejecución para el grupo (ya que 5 = 4 +1); sólo lectura para los otros usuarios. <code
            class="literal">0</code> significa ningún permiso; por lo tanto <code
            class="command">chmod 600 <em
              class="replaceable">archivo</em></code> provee permisos de lectura y escritura al dueño y ningún permiso para todos los demás. La combinación de permisos más frecuente es <code
            class="literal">755</code> para archivos ejecutables y directorios y <code
            class="literal">644</code> para archivos de datos.
		</div><div
          class="para">
			Para representar permisos especiales, puede agregar un cuarto dígito antes que los demás según el mismo principio, donde los bits <code
            class="literal">setuid</code>, <code
            class="literal">setgid</code> y «<code
            class="literal">sticky</code>» son, respectivamente, 4, 2 y 1. <code
            class="command">chmod 4754</code> asociará el bit <code
            class="literal">setuid</code> con los permisos descriptos anteriormente.
		</div><div
          class="para">
			El uso de notación octal sólo permite definir todos los permisos en un archivo de forma simultanea; no puede utilizarse para agregar un nuevo permiso a un conjunto anterior, como p.ej. agregar el permiso de lectura al grupo dueño, ya que deben tenerse en cuenta los permisos existentes y hay que calcular el nuevo valor numérico correspondiente.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>SUGERENCIA</em></span> Operación recursiva</strong></p></div></div></div><div
            class="para">
			A veces debemos cambiar los permisos a un árbol de archivos completo. Todos los programas mencionados aceptan la opción <code
              class="literal">-R</code> para trabajar recursivamente en subdirectorios.
		</div><div
            class="para">
			La distinción entre archivos y directorios a veces causa problemas con operaciones recursivas. Por eso se introdujo la letra «X» en la representación simbólica de permisos. Representa el permiso de ejecución sólo para directorios (y no para archivos que no tengan este permiso). Por lo tanto, <code
              class="command">chmod -R a+X <em
                class="replaceable">directorio</em></code> sólo agregará permisos de ejecución para todas las categorías de usuarios (<code
              class="literal">a</code>) en todos los subdirectorios y aquellos archivos en los que al menos una de las categorías de usuario (aún si sólo es el usuario dueño) ya posea permisos de ejecución.
		</div></div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>SUGERENCIA</em></span> Modificación de usuario y grupo</strong></p></div></div></div><div
            class="para">
			Frecuentemente deseará cambiar el grupo de un archivo al mismo tiempo que cambia su dueño. El programa <code
              class="command">chown</code> tiene una sintaxis especial para esto: <code
              class="command">chown <em
                class="replaceable">usuario</em>:<em
                class="replaceable">grupo</em> <em
                class="replaceable">archivo</em></code>
		</div></div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>YENDO MÁS ALLÁ</em></span> <code
                      class="command">umask</code></strong></p></div></div></div><div
            class="para">
			Cuando una aplicación crea un archivo asigna permisos indicativos, sabiendo que el sistema automáticamente elimina algunos permisos, dados por el programa <code
              class="command">umask</code>. Ejecuta <code
              class="command">umask</code> en una consola; verá una máscara como <code
              class="computeroutput">0022</code>. Ésta es simplemente una representación octal de los permisos que serán eliminados sitemáticamente (en este caso, el permiso de escritura para el grupo y otros usuarios).
		</div><a
            id="id-1.12.6.35.3"
            class="indexterm"></a><a
            id="id-1.12.6.35.4"
            class="indexterm"></a><a
            id="id-1.12.6.35.5"
            class="indexterm"></a><div
            class="para">
			Si provee un nuevo valor octal, el programa <code
              class="command">umask</code> modificará la máscara. Si lo utiliza en un script de inicialización de consola (por ejemplo <code
              class="filename">~/.bash_profile</code>) efectivamente cambiará la máscara predeterminada en sus sesiones de trabajo.
		</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.remote-login.html"><strong>Anterior</strong>9.2. Inicio de sesión remoto</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Subir</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Inicio</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.administration-interfaces.html"><strong>Siguiente</strong>9.4. Interfaces de administración</a></li></ul></body></html>
