<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">9.9. Quotas</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-de-DE-1.0-1" /><meta
        name="keywords"
        content="Systemstart, Initialisierungsskripte, SSH, Telnet, Rechte, Berechtigungen, Überwachung, Inetd, Cron, Datensicherung, Wechsel im laufenden Betrieb, PCMCIA, APM, ACPI" /><link
        rel="home"
        href="index.html"
        title="Das Debian Administrationshandbuch" /><link
        rel="up"
        href="unix-services.html"
        title="Kapitel 9. Unix-Dienste" /><link
        rel="prev"
        href="sect.asynchronous-task-scheduling-anacron.html"
        title="9.8. Asynchrone Aufgaben planen: anacron" /><link
        rel="next"
        href="sect.backup.html"
        title="9.10. Datensicherung" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/de-DE/stable/sect.quotas.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.asynchronous-task-scheduling-anacron.html"><strong>Zurück</strong></a></li><li
          class="home">Das Debian Administrationshandbuch</li><li
          class="next"><a
            accesskey="n"
            href="sect.backup.html"><strong>Weiter</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.quotas"></a>9.9. Quotas</h2></div></div></div><a
          id="id-1.12.12.2"
          class="indexterm"></a><div
          class="para">
			Das Quota-System erlaubt es, die Zuteilung von Speicherplatz an einen Benutzer oder eine Gruppe von Benutzern zu begrenzen. Um es einzurichten, benötigen Sie einen Kernel, der es unterstützt (der mit der Option <code
            class="varname">CONFIG_QUOTA</code> kompiliert wurde) - wie es bei Debian-Kerneln der Fall ist. Die Quota-Management-Software befindet sich im Debian Paket <span
            class="pkg pkg">quota</span>.
		</div><div
          class="para">
			Um Quota in einem Dateisystem zu aktivieren, müssen Sie die Optionen <code
            class="literal">usrquota</code> und <code
            class="literal">grpquota</code> in <code
            class="filename">/etc/fstab</code> jeweils für die Benutzer- und die Gruppen-Quota angeben. Durch einen Neustart des Rechners werden dann die Quota während der Inaktivität der Festplatte aktualisiert (eine notwendige Voraussetzung für das korrekte Erfassen bereits genutzten Speicherplatzes).
		</div><div
          class="para">
			Der Befehl <code
            class="command">edquota <em
              class="replaceable">Benutzer</em></code> (oder <code
            class="command">edquota -g <em
              class="replaceable">Gruppe</em></code>) ermöglicht es Ihnen, die Grenzwerte zu ändern und zugleich die aktuelle Verwendung des Speicherplatzes zu überprüfen.
		</div><a
          id="id-1.12.12.6"
          class="indexterm"></a><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>WEITERE SCHRITTE</em></span> Quota mit einem Skript festlegen</strong></p></div></div></div><a
            id="id-1.12.12.7.2"
            class="indexterm"></a><div
            class="para">
			Das Programm <code
              class="command">setquota</code> kann dazu verwendet werden, mithilfe eines Skripts selbsttätig zahlreiche Quota zu ändern. Seine Handbuchseite <span
              class="citerefentry"><span
                class="refentrytitle">setquota</span>(8)</span> beschreibt ausführlich die zu verwendende Syntax.
		</div></div><div
          class="para">
			Das Quota-System ermöglicht es Ihnen, vier Grenzen zu setzen:
		</div><div
          xmlns:d="http://docbook.org/ns/docbook"
          class="itemizedlist"><ul><li
              class="listitem"><div
                class="para">
					zwei Grenzen („weich“ und „hart“ genannt) beziehen sich auf die Anzahl der verwendeten Blöcke. Falls das Dateisystem mit einer Blockgröße von 1 Kilobyte erstellt wurde, enthält ein Block 1024 Bytes derselben Datei. Unvollständig gefüllte Blöcke führen daher zu einem Verlust an Speicherplatz. Eine Quota von 100 Blöcken, die es theoretisch erlaubt, 102.400 Bytes zu speichern, ist mit nur 100 Dateien zu je 500 Bytes vollständig gefüllt, was insgesamt nur 50.000 Bytes entspricht.
				</div></li><li
              class="listitem"><div
                class="para">
					zwei Grenzen (weich und hart) beziehen sich auf die Anzahl der verwendeten Inodes. Jede Datei belegt wenigstens einen Inode, um Informationen über sich zu speichern (Berechtigungen, Eigentümer, Zeitstempel des letzten Zugriffs usw.). Sie sind daher Grenzen für die Anzahl von Benutzerdateien.
				</div></li></ul></div><div
          class="para">
			Eine „weiche“ Grenze kann vorübergehend überschritten werden; der Benutzer wird lediglich durch den Befehl <code
            class="command">warnquota</code>, der gewöhnlich durch <code
            class="command">cron</code> aufgerufen wird, gewarnt, dass er die Quota überschreitet. Eine „harte“ Grenze kann niemals überschritten werden; das System weist jede Operation ab, die zu einem Überschreiten einer harten Quota führen würde.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>WÖRTERVERZEICHNIS</em></span> Blöcke und Inodes</strong></p></div></div></div><a
            id="id-1.12.12.11.2"
            class="indexterm"></a><a
            id="id-1.12.12.11.3"
            class="indexterm"></a><div
            class="para">
			Das Dateisystem unterteilt die Festplatte in Blöcke - kleine zusammenhängende Bereiche. Die Größe dieser Blöcke wird während der Erstellung des Dateisystems festgelegt und variiert normalerweise zwischen 1 und 8 Kilobytes.
		</div><div
            class="para">
			Ein Block kann entweder dazu genutzt werden, die tatsächlichen Daten einer Datei oder die vom Dateisystem verwendeten Metadaten zu speichern. Zu diesen Metadaten gehören insbesondere die Inodes. Ein Inode belegt einen Block auf der Festplatte (aber dieser Block wird bei der Block-Quota nicht berücksichtigt, sondern nur bei der Inode-Quota) und enthält sowohl Informationen über die Datei, zu der er gehört (Name, Eigentümer, Berechtigungen usw.), als auch die Zeiger zu den Datenblöcken, die tatsächlich genutzt werden. Für sehr große Dateien, die mehr Blöcke belegen, als in einem einzelnen Inode referenziert werden können, gibt es ein indirektes Blocksystem; der Inode verweist auf eine Liste von Blöcken, die nicht direkt Daten, sondern eine Liste anderer Blöcke enthalten.
		</div></div><a
          id="id-1.12.12.12"
          class="indexterm"></a><div
          class="para">
			Mit dem Befehl <code
            class="command">edquota -t</code> können Sie eine höchstens erlaubte „Schonfrist“ festlegen, bis zu der eine weiche Grenze überschritten werden darf. Nach Ablauf dieser Frist wird die weiche Grenze wie eine harte behandelt, und der Benutzer muss seinen Speicherplatzverbrauch auf diese Grenze verringern, um etwas auf die Festplatte schreiben zu können.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>WEITERE SCHRITTE</em></span> Eine Standardquota für neue Benutzer einrichten</strong></p></div></div></div><div
            class="para">
			Um automatisch eine Quota für neue Benutzer festzulegen, müssen Sie (mit <code
              class="command">edquota</code> oder <code
              class="command">setquota</code>) einen Muster-Benutzer konfigurieren und seinen Benutzernamen in der <code
              class="varname">QUOTAUSER</code>-Variablen der Datei <code
              class="filename">/etc/adduser.conf</code> angeben. Diese Quota-Konfiguration wird dann automatisch auf jeden mit dem Befehl <code
              class="command">adduser</code> erstellten Benutzer angewendet.
		</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.asynchronous-task-scheduling-anacron.html"><strong>Zurück</strong>9.8. Asynchrone Aufgaben planen: anacron</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Nach oben</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Zum Anfang</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.backup.html"><strong>Weiter</strong>9.10. Datensicherung</a></li></ul></body></html>
