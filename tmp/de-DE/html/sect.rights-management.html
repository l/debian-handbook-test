<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">9.3. Berechtigungen verwalten</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-de-DE-1.0-1" /><meta
        name="keywords"
        content="Systemstart, Initialisierungsskripte, SSH, Telnet, Rechte, Berechtigungen, Überwachung, Inetd, Cron, Datensicherung, Wechsel im laufenden Betrieb, PCMCIA, APM, ACPI" /><link
        rel="home"
        href="index.html"
        title="Das Debian Administrationshandbuch" /><link
        rel="up"
        href="unix-services.html"
        title="Kapitel 9. Unix-Dienste" /><link
        rel="prev"
        href="sect.remote-login.html"
        title="9.2. Remoteanmeldung" /><link
        rel="next"
        href="sect.administration-interfaces.html"
        title="9.4. Administrations-Schnittstellen" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/de-DE/stable/sect.rights-management.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.remote-login.html"><strong>Zurück</strong></a></li><li
          class="home">Das Debian Administrationshandbuch</li><li
          class="next"><a
            accesskey="n"
            href="sect.administration-interfaces.html"><strong>Weiter</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.rights-management"></a>9.3. Berechtigungen verwalten</h2></div></div></div><div
          class="para">
			Linux ist eindeutig ein Mehrbenutzersystem, und daher ist es erforderlich, ein Berechtigungssystem bereitzustellen, um genehmigte Vorgänge an Dateien und Verzeichnissen zu steuern, einschließlich aller Systemressourcen und Laufwerke (in einem Unix-System wird jedes Laufwerk als eine Datei oder ein Verzeichnis dargestellt). Dies ist allen Unix-Systemen gemein, aber ist immer sinnvoll daran zu erinnern, vor allem, da es einige sehr interessante und relativ unbekannte fortgeschrittene Anwendungen davon gibt.
		</div><a
          id="id-1.12.6.3"
          class="indexterm"></a><a
          id="id-1.12.6.4"
          class="indexterm"></a><a
          id="id-1.12.6.5"
          class="indexterm"></a><a
          id="id-1.12.6.6"
          class="indexterm"></a><a
          id="id-1.12.6.7"
          class="indexterm"></a><a
          id="id-1.12.6.8"
          class="indexterm"></a><div
          class="para">
			Jede Datei und jeder Ordner hat spezifische Berechtigungen für drei Kategorien von Benutzern:
		</div><div
          xmlns:d="http://docbook.org/ns/docbook"
          class="itemizedlist"><ul><li
              class="listitem"><div
                class="para">
					seinen Eigentümer (symbolisiert durch <code
                  class="literal">u</code> wie in „user“);
				</div></li><li
              class="listitem"><div
                class="para">
					seine Eigentümergruppe (symbolisiert durch <code
                  class="literal">g</code> wie in „group“), die alle Mitglieder der Gruppe repräsentiert;
				</div></li><li
              class="listitem"><div
                class="para">
					die Sonstigen (symbolisiert durch <code
                  class="literal">o</code> wie in „other“).
				</div></li></ul></div><div
          class="para">
			Drei Arten von Berechtigungen können kombiniert werden:
		</div><div
          xmlns:d="http://docbook.org/ns/docbook"
          class="itemizedlist"><ul><li
              class="listitem"><div
                class="para">
					Lesen (symbolisiert durch <code
                  class="literal">r</code> wie in „read“);
				</div></li><li
              class="listitem"><div
                class="para">
					Schreiben (oder Ändern, symbolisiert durch <code
                  class="literal">w</code> wie in „write“);
				</div></li><li
              class="listitem"><div
                class="para">
					Ausführen (symbolisiert durch <code
                  class="literal">x</code> wie in „eXecute“).
				</div></li></ul></div><a
          id="id-1.12.6.13"
          class="indexterm"></a><a
          id="id-1.12.6.14"
          class="indexterm"></a><a
          id="id-1.12.6.15"
          class="indexterm"></a><a
          id="id-1.12.6.16"
          class="indexterm"></a><div
          class="para">
			Bei einer Datei sind diese Berechtigungen leicht zu verstehen: Lesezugriff erlaubt das Lesen des Inhalts (einschließlich des Kopierens), Schreibzugriff erlaubt es, sie zu verändern, und Ausführungszugriff erlaubt es Ihnen, sie auszuführen (was nur funktionieren wird, wenn sie ein Programm ist).
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>SICHERHEIT</em></span> <code
                      class="literal">setuid</code> und <code
                      class="literal">setgid</code> ausführbare Dateien</strong></p></div></div></div><div
            class="para">
			Zwei besondere Berechtigungen sind für ausführbare Dateien wichtig: <code
              class="literal">setuid</code> und <code
              class="literal">setgid</code> (durch den Buchstaben „s“ symbolisiert). Beachten Sie, dass wir häufig von einem „Bit“ sprechen, da jeder dieser booleschen Werte durch eine 0 oder eine 1 dargestellt werden kann. Diese beiden Berechtigungen erlauben es jedem Benutzer, das Programm mit den Rechten des Eigentümers beziehungsweise der Gruppe auszuführen. Dieses Verfahren gewährt Zugriff auf Funktionsmerkmale, die Rechte einer höheren Ebene erfordern, als Sie normalerweise haben würden.
		</div><a
            id="id-1.12.6.18.3"
            class="indexterm"></a><a
            id="id-1.12.6.18.4"
            class="indexterm"></a><div
            class="para">
			Da ein Root-Programm mit <code
              class="literal">setuid</code> durchgängig unter der Identität des Super-Users läuft, ist es sehr wichtig sicherzustellen, dass es sicher und verlässlich ist. Ein Benutzer, dem es gelingt, es zu unterlaufen, um einen Befehl seiner Wahl aufzurufen, könnte sich anschließend als Root-Benutzer ausgeben und so alle Rechte an dem System erlangen.
		</div></div><div
          class="para">
			Ein Verzeichnis wird anders gehandhabt. Lesezugriff gewährt das Recht, die Liste der Einträge (Dateien und Verzeichnisse) durchzugehen, Schreibzugriff erlaubt es, Dateien zu erstellen oder zu löschen, und Ausführungszugriff erlaubt es, es zu durchqueren (insbesondere dorthin mit dem Befehl <code
            class="command">cd</code> zu gehen). Die Berechtigung, ohne ein Verzeichnis zu lesen auf dessen Inhalt zugreifen zu können, gestattet Zugriff auf namentlich bekannte Dateien, nicht jedoch auf solche von denen man nichts weiß oder deren genauen Namen man nicht kennt.
		</div><div
          class="sidebar"><a
            xmlns=""
            id="sidebar.setgid-dir"></a><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>SICHERHEIT</em></span> <code
                      class="literal">setgid</code>-Verzeichnis und <span
                      class="emphasis"><em>Sticky-Bit</em></span></strong></p></div></div></div><a
            id="id-1.12.6.20.2"
            class="indexterm"></a><div
            class="para">
			Das <code
              class="literal">setgid</code>-Bit gilt auch für Verzeichnisse. Und neu erstellte Einträge in solchen Verzeichnissen werden automatisch der Benutzergruppe des übergeordneten Verzeichnisses zugeordnet, anstatt wie gewöhnlich die Hauptgruppe des Erstellers zu übernehmen. Durch diese Einstellung wird vermieden, dass der Benutzer die Hauptgruppe des Eintrags ändern muss (mit dem Befehl <code
              class="command">newgrp</code>), wenn er in einem Verzeichnisbaum arbeitet, der von mehreren Benutzern derselben Gruppe gemeinsam genutzt wird.
		</div><a
            id="id-1.12.6.20.4"
            class="indexterm"></a><div
            class="para">
			Das „Sticky“-Bit (symbolisiert durch den Buchstaben „t“) ist ein Recht, das nur in Verzeichnissen sinnvoll ist. Es wird vor allem bei temporären Verzeichnissen verwendet, auf die jeder Schreibzugriff hat (wie zum Beispiel bei <code
              class="filename">/tmp/</code>): es schränkt das Löschen von Dateien ein, so dass dies nur ihr Eigentümer (oder der Eigentümer des übergeordneten Verzeichnisses) kann. Ohne dieses Recht könnte jeder die Dateien anderer Benutzer in <code
              class="filename">/tmp/</code> löschen.
		</div></div><div
          class="para">
			Drei Befehle steuern die einer Datei zugeordneten Berechtigungen:
		</div><div
          xmlns:d="http://docbook.org/ns/docbook"
          class="itemizedlist"><ul><li
              class="listitem"><div
                class="para">
					<code
                  class="command">chown <em
                    class="replaceable">Benutzer</em> <em
                    class="replaceable">Datei</em></code> ändert den Eigentümer der Datei;
				</div></li><li
              class="listitem"><div
                class="para">
					<code
                  class="command">chgrp <em
                    class="replaceable">Gruppe</em> <em
                    class="replaceable">Datei</em></code> ändert die Eigentümergruppe;
				</div></li><li
              class="listitem"><div
                class="para">
					<code
                  class="command">chmod <em
                    class="replaceable">Rechte</em> <em
                    class="replaceable">Datei</em></code> ändert die Berechtigungen für die Datei.
				</div></li></ul></div><div
          class="para">
			Es gibt zwei Arten, die Berechtigungen darzustellen, wovon die symbolische Darstellung wohl am einfachsten zu verstehen und zu merken ist. Es geht um die oben erwähnten Buchstabensymbole. Sie können Berechtigungen für jede Kategorie von Benutzern festlegen (<code
            class="literal">u</code>/<code
            class="literal">g</code>/<code
            class="literal">o</code>), indem Sie sie entweder ausdrücklich setzen (mit <code
            class="literal">=</code>), sie hinzufügen (<code
            class="literal">+</code>) oder sie entfernen (<code
            class="literal">-</code>). So gewährt die Formel <code
            class="literal">u=rwx,g+rw,o-r</code> dem Eigentümer Lese-, Schreib- und Ausführungszugriff, fügt Lese- und Schreibzugriff für die Eigentümergruppe hinzu und entfernt den Lesezugriff für andere Benutzer. Rechte, die in einem solchen Befehl nicht durch Hinzufügen oder Entfernen modifiziert werden, bleiben unverändert. Der Buchstabe <code
            class="literal">a</code>, für „all“, deckt alle drei Benutzerkategorien ab, so dass <code
            class="literal">a=rx</code> allen drei Kategorien die gleichen Rechte gewährt (Lesen und Ausführen, aber nicht Schreiben).
		</div><a
          id="id-1.12.6.24"
          class="indexterm"></a><a
          id="id-1.12.6.25"
          class="indexterm"></a><a
          id="id-1.12.6.26"
          class="indexterm"></a><a
          id="id-1.12.6.27"
          class="indexterm"></a><a
          id="id-1.12.6.28"
          class="indexterm"></a><div
          class="para">
			Die (oktale) Zahlendarstellung ordnet jeder Berechtigung einen Wert zu: 4 für Lesen, 2 für Schreiben und 1 für Ausführen. Wir verknüpfen jede Kombination von Berechtigungen durch die Summe der Zahlen. Jeder Wert wird dann einer anderen Kategorie von Benutzern zugeordnet, indem sie von vorne nach hinten in der üblichen Reihenfolge (Eigentümer, Gruppe, Sonstige) angeordnet werden.
		</div><div
          class="para">
			So vergibt zum Beispiel der Befehl <code
            class="command">chmod 754 <em
              class="replaceable">datei</em></code> die folgenden Berechtigungen: Schreiben, Lesen und Ausführen für den Eigentümer (da 7 = 4 + 2 + 1); Schreiben und Ausführen für die Gruppe (da 5 = 4 + 1); nur Lesen für Sonstige. Die <code
            class="literal">0</code> bedeutet keine Berechtigung; so gestattet <code
            class="command">chmod 600 <em
              class="replaceable">Datei</em></code> dem Eigentümer Lese-/Schreibzugriff und keine Berechtigung für alle anderen. Die häufigsten Berechtigungskombinationen sind <code
            class="literal">755</code> für ausführbare Dateien und Verzeichnisse und <code
            class="literal">644</code> für Dateien, die Daten enthalten.
		</div><div
          class="para">
			Um spezielle Berechtigungen darzustellen, können Sie dieser Zahl eine vierte Ziffer nach dem gleichen Prinzip voranstellen, wobei die <code
            class="literal">setuid</code>-, <code
            class="literal">setgid</code>- und <code
            class="literal">sticky</code>-Bits jeweils 4, 2 und 1 entsprechen. <code
            class="command">chmod 4754</code> fügt das <code
            class="literal">setuid</code>-Bit den zuvor beschriebenen Berechtigungen hinzu.
		</div><div
          class="para">
			Beachten Sie, dass die oktale Schreibweise es nur erlaubt, alle Berechtigungen gleichzeitig für eine Datei zu setzen. Sie können sie nicht dazu benutzen, einfach eine neue Berechtigung hinzuzufügen, wie den Lesezugriff für die Eigentümergruppe, da Sie die bestehenden Berechtigungen berücksichtigen und den entsprechenden neuen numerischen Wert berechnen müssen.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>TIPP</em></span> Rekursives Verfahren</strong></p></div></div></div><div
            class="para">
			Manchmal müssen wir die Berechtigungen für einen ganzen Dateibaum ändern. Alle oben beschriebenen Befehle haben eine <code
              class="literal">-R</code>-Option, um rekursiv in Unterverzeichnissen zu agieren.
		</div><div
            class="para">
			Die Unterscheidung zwischen Verzeichnissen und Dateien verursacht manchmal Probleme bei rekursiven Aktionen. Daher wurde für die symbolische Darstellung von Berechtigungen der Buchstabe „X“ eingeführt. Er stellt ein Ausführungsrecht dar, das nur für Verzeichnisse gilt (und nicht für Dateien, die dieses Recht nicht haben). So fügt <code
              class="command">chmod -R a+X <em
                class="replaceable">Verzeichnis</em></code> Ausführungsrechte für alle Kategorien von Benutzern (<code
              class="literal">a</code>) nur bei allen den Unterverzeichnissen und Dateien hinzu, bei denen wenigstens eine Benutzerkategorie (selbst wenn dies ihr einziger Eigentümer ist) bereits Ausführungsrechte hat.
		</div></div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>TIPP</em></span> Eigentümer und Gruppe ändern</strong></p></div></div></div><div
            class="para">
			Häufig möchten Sie die Gruppe einer Datei und gleichzeitig ihren Eigentümer ändern. Der Befehl <code
              class="command">chown</code> hat hierfür eine besondere Syntax: <code
              class="command">chown <em
                class="replaceable">Eigentümer</em>:<em
                class="replaceable">Gruppe</em> <em
                class="replaceable">Datei</em></code>
		</div></div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>WEITERE SCHRITTE</em></span> <code
                      class="command">umask</code></strong></p></div></div></div><div
            class="para">
			Wenn eine Anwendung eine Datei erstellt, teilt sie ihr vorläufige Berechtigungen zu, wissend dass das System automatisch bestimmte Berechtigungen entfernt, die mit dem Befehl <code
              class="command">umask</code> vorgegeben wurden. Geben Sie <code
              class="command">umask</code> in einer Shell ein, werden Sie eine Maske wie zum Beispiel <code
              class="computeroutput">0022</code> sehen. Dies ist eine oktale Darstellung der Berechtigungen, die planmäßig entfernt werden (in diesem Fall die Schreibrechte für die Gruppe und sonstige Benutzer).
		</div><a
            id="id-1.12.6.35.3"
            class="indexterm"></a><a
            id="id-1.12.6.35.4"
            class="indexterm"></a><a
            id="id-1.12.6.35.5"
            class="indexterm"></a><div
            class="para">
			Wenn Sie einen neuen oktalen Wert eingeben, verändert der Befehl <code
              class="command">umask</code> die Maske. Bei Verwendung in der Startdatei einer Shell (zum Beispiel <code
              class="filename">~/.bash_profile</code>) ändert er grundsätzlich die Standardmaske für Ihre Arbeitssitzungen.
		</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.remote-login.html"><strong>Zurück</strong>9.2. Remoteanmeldung</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Nach oben</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Zum Anfang</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.administration-interfaces.html"><strong>Weiter</strong>9.4. Administrations-Schnittstellen</a></li></ul></body></html>
