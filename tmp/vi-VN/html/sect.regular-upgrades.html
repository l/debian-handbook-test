<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">6.7. Đảm bảo một hệ thống luôn cập nhật</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-vi-VN-1.0-1" /><meta
        name="keywords"
        content="apt, apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="Sổ tay Quản trị Debian" /><link
        rel="up"
        href="apt.html"
        title="Chương 6. Bảo trì và Cập nhật: Công cụ APT" /><link
        rel="prev"
        href="sect.dist-upgrade.html"
        title="6.6. Nâng cấp từ bản phân phối ổn định đến kế tiếp" /><link
        rel="next"
        href="sect.automatic-upgrades.html"
        title="6.8. Tự động nâng cấp" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/vi-VN/stable/sect.regular-upgrades.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.dist-upgrade.html"><strong>Trước đó</strong></a></li><li
          class="home">Sổ tay Quản trị Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.automatic-upgrades.html"><strong>Kế tiếp</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.regular-upgrades"></a>6.7. Đảm bảo một hệ thống luôn cập nhật</h2></div></div></div><div
          class="para">
			Bản phân phối Debian rất năng động và thay đổi liên tục. Hầu hết các thay đổi đều có trong các phiên bản <span
            class="distribution distribution">Testing</span> và <span
            class="distribution distribution">Unstable</span>, nhưng ngay cả <span
            class="distribution distribution">Stable</span> cũng được cập nhật theo thời gian, chủ yếu dành cho các bản sửa lỗi liên quan đến bảo mật. Cho dù phiên bản nào của Debian đang chạy, luôn cố gắng đảm bảo cho nó được cập nhật, để bạn có thể có được lợi ích của những tiến triển mới nhất và các bản sửa lỗi.
		</div><div
          class="para">
			Mặc dù có thể chạy thường xuyên một công cụ để kiểm tra các bản cập nhật có sẵn và chạy các nâng cấp, nhưng đó là một công việc lặp đi lặp lại rất tẻ nhạt, đặc biệt khi nó cần phải được thực hiện trên một số máy. May mắn thay, giống như nhiều nhiệm vụ lặp đi lặp lại, nó có thể được tự động hóa một phần, và một bộ công cụ đã được phát triển để làm điều đó.
		</div><div
          class="para">
			Công cụ đầu tiên trong số này là <code
            class="command">apticron</code>, trong gói có cùng tên. Công dụng chính của nó là chạy một kịch bản hàng ngày (thông qua <code
            class="command">cron</code>). Kịch bản cập nhật danh sách các gói có sẵn, và nếu một số gói cài đặt không có trong phiên bản mới nhất, nó sẽ gửi một email với một danh sách các gói này cùng với những thay đổi đã được thực hiện trong các phiên bản mới. Rõ ràng, gói này chủ yếu nhắm tới người dùng của Debian <span
            class="distribution distribution">Stable</span>, vì email hàng ngày sẽ rất dài cho các phiên bản nhịp độ nhanh hơn của Debian. Khi cập nhật có sẵn, <code
            class="command">apticron</code> tự động tải chúng xuống. Nó không cài đặt chúng - quản trị viên vẫn sẽ làm điều đó - nhưng các gói đã được tải về và có sẵn cục bộ (trong bộ nhớ cache của APT) làm cho công việc nhanh hơn.
		</div><div
          class="para">
			Administrators in charge of several computers will no doubt appreciate being informed of pending upgrades, but the upgrades themselves are still as tedious as they used to be. Periodic upgrades can be enabled: it uses a <code
            class="command">systemd</code> timer unit or <code
            class="command">cron</code>. If <span
            class="pkg pkg">systemd</span> is not installed the <code
            class="filename">/etc/cron.daily/apt-compat</code> script (in the <span
            class="pkg pkg">apt</span> package) comes in handy. This script is run daily (and non-interactively) by <code
            class="command">cron</code>. To control the behavior, use APT configuration variables (which are therefore stored in a file <code
            class="filename">/etc/apt/apt.conf.d/10periodic</code>). The main variables are:
		</div><div
          class="variablelist"><dl
            class="variablelist"><dt><span
                class="term"><code
                  class="literal">APT::Periodic::Update-Package-Lists</code></span></dt><dd><div
                class="para">
						Tùy chọn này cho phép bạn xác định tần số (tính theo ngày) mà danh sách gói được làm mới. Người dùng có thể thực hiện lệnh mà không cần có biến này, vì <code
                  class="command">apticron</code> đã làm nhiệm vụ này.
					</div></dd><dt><span
                class="term"><code
                  class="literal">APT::Periodic::Download-Upgradeable-Packages</code></span></dt><dd><div
                class="para">
						Tương tự, tùy chọn này cho thấy một tần số (tính theo ngày), lần này để tải các gói thực tế. Và có thể, người dùng <code
                  class="command">apticron</code> sẽ không cần nó.
					</div></dd><dt><span
                class="term"><code
                  class="literal">APT::Periodic::AutocleanInterval</code></span></dt><dd><div
                class="para">
						Tuỳ chọn này bao gồm một tính năng mà <code
                  class="command">apticron</code> không có. Nó kiểm soát các gói đã lỗi thời (những gì không được tham chiếu bởi bất kỳ phân phối nào nữa) được xóa khỏi bộ nhớ cache APT. Điều này giữ cho bộ nhớ cache APT ở một kích thước hợp lý và có nghĩa là bạn không cần phải lo lắng về nhiệm vụ đó.
					</div></dd><dt><span
                class="term"><code
                  class="literal">APT::Periodic::Unattended-Upgrade</code></span></dt><dd><a
                id="id-1.9.16.6.4.2.1"
                class="indexterm"></a><div
                class="para">
						Khi tùy chọn này được kích hoạt, tập lệnh hàng ngày sẽ thực thi <code
                  class="command">unattended-upgrade</code> (từ gói <span
                  class="pkg pkg">unattended-upgrades</span>) - theo đề nghị của nó - có thể tự động hóa quá trình nâng cấp cho một số gói (theo mặc định nó chỉ cần đảm bảo cập nhật bảo mật, Có thể được tùy chỉnh trong <code
                  class="filename">/etc/apt/apt.conf.d/50unattended-upgrades</code>). Lưu ý rằng tùy chọn này có thể được thiết lập với sự trợ giúp của debconf bằng cách chạy <code
                  class="command">dpkg-reconfigure -plow unattended-upgrades</code>.
					</div></dd></dl></div><div
          class="para">
			Other options can allow you to control the cache cleaning behavior with more precision. They are not listed here, but they are described in the <code
            class="filename">/usr/lib/apt/apt.systemd.daily</code> script.
		</div><a
          id="id-1.9.16.8"
          class="indexterm"></a><div
          class="para">
			These tools work very well for servers, but desktop users generally prefer a more interactive system. The package <span
            class="pkg pkg">gnome-packagekit</span> provides an icon in the notification area of desktop environments when updates are available; clicking on this icon then runs <code
            class="command">gpk-update-viewer</code>, a simplified interface to perform updates. You can browse through available updates, read the short description of the relevant packages and the corresponding <code
            class="filename">changelog</code> entries, and select whether to apply the update or not on a case-by-case basis.
		</div><div
          class="figure"><a
            xmlns=""
            id="id-1.9.16.10"></a><div
            class="figure-contents"><div
              class="mediaobject"><img
                src="images/gnome-packagekit.png"
                alt="Nâng cấp với gpk-update-viewer" /></div></div><p
            class="title"><strong>Hình 6.3. Nâng cấp với <code
                class="command">gpk-update-viewer</code></strong></p></div><div
          class="para">
			This tool is no longer installed in the default GNOME desktop. The new philosophy is that security updates should be automatically installed, either in the background or, preferably, when you shutdown your computer so as to not confuse any running application.
		</div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.dist-upgrade.html"><strong>Trước đó</strong>6.6. Nâng cấp từ bản phân phối ổn định đến kế tiếp</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Lên</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Đầu</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.automatic-upgrades.html"><strong>Kế tiếp</strong>6.8. Tự động nâng cấp</a></li></ul></body></html>
