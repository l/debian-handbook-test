<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">6.2. aptitude, دستورات apt-get و apt</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-fa-IR-1.0-1" /><meta
        name="keywords"
        content="apt, apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="راهنمای جامع دبیان" /><link
        rel="up"
        href="apt.html"
        title="فصل 6. نگهداری و بروزرسانی: ابزار APT" /><link
        rel="prev"
        href="apt.html"
        title="فصل 6. نگهداری و بروزرسانی: ابزار APT" /><link
        rel="next"
        href="sect.apt-cache.html"
        title="6.3. دستور apt-cache" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/fa-IR/stable/sect.apt-get.html" /></head><body
      dir="rtl"><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="apt.html"><strong>قبلی</strong></a></li><li
          class="home">راهنمای جامع دبیان</li><li
          class="next"><a
            accesskey="n"
            href="sect.apt-cache.html"><strong>بعدی</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.apt-get"></a>6.2. <code
                  class="command">aptitude</code>, دستورات <code
                  class="command">apt-get</code> و <code
                  class="command">apt</code></h2></div></div></div><a
          id="id-1.9.11.2"
          class="indexterm"></a><a
          id="id-1.9.11.3"
          class="indexterm"></a><a
          id="id-1.9.11.4"
          class="indexterm"></a><div
          class="para">
			APT یک پروژه گسترده است، که اهداف اولیه آن شامل یک رابط گرافیکی نیز می‌شود. شامل کتابخانه‌ای است که عملکردهای پایه‌ای نرم‌افزار را دربر دارد و <code
            class="command">apt-get</code> اولین پیاده‌سازی آن به حساب می‌آید -- بر اساس خط فرمان -- که درون خود پروژه توسعه یافته است. <code
            class="command">apt</code> دومین پیاده‌سازی رابط خط فرمان APT به حساب می‌آید که بسیاری از مشکلات موجود در <code
            class="command">apt-get</code> را بر طرف کرده است.
		</div><div
          class="para">
			تعداد بسیاری رابط‌های گرافیکی نیز به عنوان پروژه‌های بیرونی تعریف شده‌اند: <code
            class="command">synaptic</code>، <code
            class="command">aptitude</code> (که شامل هر دو محیط متنی و گرافیکی می‌شود -- حتی اگر کافی نباشد)، <code
            class="command">wajig</code> و پروژه‌های دیگر. رایج‌ترین رابط کاربری <code
            class="command">apt</code> است که در مثال‌های این قسمت از آن استفاده شده است. نکته اینکه <code
            class="command">apt-get</code> و <code
            class="command">aptitude</code> نحو خط فرمان تقریبا یکسانی دارند. زمانی که بین <code
            class="command">apt</code>، <code
            class="command">apt-get</code> و <code
            class="command">aptitude</code> تفاوت عمده‌ای وجود داشته باشد، به آن‌ها اشاره خواهد شد.
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.9.11.7"></a>6.2.1. راه‌اندازی</h3></div></div></div><div
            class="para">
				به منظور انجام هر کاری با APT، ابتدا باید فهرست بسته‌های موجود در آن بروزرسانی گردد؛ که اینکار به سادگی از طریق <code
              class="command">apt update</code> قابل انجام است. بر اساس سرعت اتصال شما، این عملیات ممکن است چند دقیقه زمان ببرد چرا که نیاز به دانلود تعداد مشخصی از فایل‌های <code
              class="filename">Packages</code>/<code
              class="filename">Sources</code>/<code
              class="filename">Translation-<em
                class="replaceable">language-code</em></code> دارد، فایل‌هایی که طی زمان توسعه دبیان بزرگ و بزرگ‌تر شده‌اند (حداقل ۱۰ مگابایت برای قسمت ...). البته، نصب از طریق CD-ROM نیاز به دانلود ندارد -- که در این مورد عملیات با سرعت بیشتری انجام می‌شود.
			</div><a
            id="id-1.9.11.7.3"
            class="indexterm"></a><a
            id="id-1.9.11.7.4"
            class="indexterm"></a><a
            id="id-1.9.11.7.5"
            class="indexterm"></a></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.9.11.8"></a>6.2.2. نصب و حذف</h3></div></div></div><a
            id="id-1.9.11.8.2"
            class="indexterm"></a><a
            id="id-1.9.11.8.3"
            class="indexterm"></a><a
            id="id-1.9.11.8.4"
            class="indexterm"></a><a
            id="id-1.9.11.8.5"
            class="indexterm"></a><div
            class="para">
				با استفاده از APT، بسته‌ها می‌توانند به راحتی از طریق <code
              class="command">apt install <em
                class="replaceable">package</em></code> و <code
              class="command">apt remove <em
                class="replaceable">package</em></code> نصب یا حذف گردند. در هر دو مورد، APT به صورت خودکار اقدام به بررسی وابستگی‌های مربوط به هر بسته می‌کند. فرمان <code
              class="command">apt purge <em
                class="replaceable">package</em></code> یک حذف کامل را در پی خواهد داشت -- فایل‌های پیکربندی نیز حذف می‌گردند.
			</div><a
            id="id-1.9.11.8.7"
            class="indexterm"></a><a
            id="id-1.9.11.8.8"
            class="indexterm"></a><a
            id="id-1.9.11.8.9"
            class="indexterm"></a><a
            id="id-1.9.11.8.10"
            class="indexterm"></a><a
            id="id-1.9.11.8.11"
            class="indexterm"></a><a
            id="id-1.9.11.8.12"
            class="indexterm"></a><a
            id="id-1.9.11.8.13"
            class="indexterm"></a><a
            id="id-1.9.11.8.14"
            class="indexterm"></a><a
            id="id-1.9.11.8.15"
            class="indexterm"></a><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>نکته</em></span> نصب مجموعه‌ی ثابتی از بسته‌ها در هر مربته</strong></p></div></div></div><div
              class="para">
				نصب تعداد مشخصی از بسته‌ها روی تمام رایانه‌ها ممکن است کار بسیار متداولی باشد که به راحتی قابل انجام است.
			</div><div
              class="para">
				ابتدا، فهرست تمام بسته‌هایی که روی رایانه مبدا قرار دارند را جهت استفاده در سایر سیستم‌ها، رونوشت بگیرید.
			</div><pre
              class="screen"><code
                class="computeroutput">$ </code><strong
                class="userinput"><code>dpkg --get-selections &gt;pkg-list</code></strong></pre><div
              class="para">
				فایل <code
                class="filename">pkg-list</code> شامل تمام بسته‌های نصب شده است. سپس، فایل <code
                class="filename">pkg-list</code> را به رایانه‌هایی که قصد نصب بسته‌ها را دارید منتقل کنید. می‌توانید از این فرمان استفاده کنید:
			</div><pre
              class="screen">## Update dpkg's database of known packages
# <strong
                class="userinput"><code>avail=`mktemp`</code></strong>
# <strong
                class="userinput"><code>apt-cache dumpavail &gt; "$avail"</code></strong>
# <strong
                class="userinput"><code>dpkg --merge-avail "$avail"</code></strong>
# <strong
                class="userinput"><code>rm -f "$avail"</code></strong>
## Update dpkg's selections
# <strong
                class="userinput"><code>dpkg --set-selections &lt; pkg-list</code></strong>
## Ask apt-get to install the selected packages
# <strong
                class="userinput"><code>apt-get dselect-upgrade</code></strong></pre><div
              class="para">
				فرامین اولیه فهرستی از بسته‌های موجود در پایگاه‌داده dpkg را ثبت می‌کنند، سپس <code
                class="command">dpkg --set-selections</code> مجموعه بسته‌هایی را که می‌خواهید نصب کنید بازیابی کرده، آنگاه فراخوانی <code
                class="command">apt-get</code> منجر به نصب این بسته‌ها می‌گردد! <code
                class="command">aptitude</code> این فرمان را شامل نمی‌شود.
			</div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>نکته</em></span> نصب و حذف در یک زمان</strong></p></div></div></div><div
              class="para">
				این امکان وجود دارد که از <code
                class="command">apt-get</code> (<code
                class="command">apt</code> یا <code
                class="command">aptitude</code>) بخواهیم که همزمان اقدام به نصب و حذف بسته‌ها کند که اینکار با اضافه‌کردن یک پسوند صورت می‌گیرد. با یک فرمان <code
                class="command">apt install</code>، به نام هر بسته “<code
                class="literal">-</code>” را اضافه کنید تا حذف گردد. با یک فرمان <code
                class="command">apt remove</code>، به نام هر بسته “<code
                class="literal">+</code>” را اضافه کنید تا نصب گردد.
			</div><div
              class="para">
				مثال بعد دو شیوه گوناگون برای نصب <em
                class="replaceable">package1</em> و حذف <em
                class="replaceable">package2</em> را نمایش می‌دهد.
			</div><pre
              class="screen"># <strong
                class="userinput"><code>apt install <em
                    class="replaceable">package1</em> <em
                    class="replaceable">package2-</em></code></strong>
[...]
# <strong
                class="userinput"><code>apt remove <em
                    class="replaceable">package1+</em> <em
                    class="replaceable">package2</em></code></strong>
[...]</pre><div
              class="para">
				اینکار می‌تواند برای خارج‌سازی بسته‌هایی که برای نصب درنظر گرفته شده‌اند نیز صورت پذیرد، برای نمونه بر اساس یک <code
                class="literal">Recommends</code>. به صورت کلی، مکانیزم درونی APT برای رفع وابستگی‌ها از این اطلاعات استفاده می‌کند تا راهکارهای جایگزین را معرفی کند.
			</div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>نکته</em></span> <code
                        class="command">apt --reinstall</code> و <code
                        class="command">aptitude reinstall</code></strong></p></div></div></div><a
              id="id-1.9.11.8.18.2"
              class="indexterm"></a><div
              class="para">
				سیستم ممکن است به دلیل حذف یا تغییر فایل‌های یک بسته، آسیب ببیند. ساده‌ترین راه برای بازیابی این فایل‌ها، نصب مجدد بسته مورد نظر است. متاسفانه، سیستم بسته‌بندی در می‌یابد که بسته مورد نظر موجود است و از نصب آن خودداری می‌کند؛ برای پیشگیری، از گزینه <code
                class="literal">--reinstall</code> برای فرمان‌های <code
                class="command">apt</code> و <code
                class="command">apt-get</code> استفاده کنید. فرمان پیش رو اقدام به نصب مجدد <span
                class="pkg pkg">postfix</span> می‌کند حتی اگر موجود باشد:
			</div><pre
              class="screen"><code
                class="computeroutput"># </code><strong
                class="userinput"><code>apt --reinstall install postfix</code></strong></pre><div
              class="para">
				فرمان <code
                class="command">aptitude</code> اما کفی متفاوت است، اما به همان نتایج قبلی با استفاده از <code
                class="command">aptitude reinstall postfix</code> دست می‌یابد.
			</div><div
              class="para">
				مشکل از <code
                class="command">dpkg</code> آب نمی‌خورد، بلکه مدیر سیستم است که به ندرت از آن استفاده می‌کند.
			</div><div
              class="para">
				مراقب باشید! استفاده از <code
                class="command">apt --reinstall</code> برای بازیابی بسته‌هایی که حین بروز حمله دچار تغییر شده‌اند، به بازیابی صحیح سیستم منجر نمی‌شود. <a
                class="xref"
                href="sect.dealing-with-compromised-machine.html">
      قسمت 14.7, “Dealing with a Compromised Machine”
    </a> به تشریح گام‌های مورد نیاز برای بازیابی یک سیستم نفوذ شده می‌پردازد.
			</div></div><div
            class="para">
				اگر فایل <code
              class="filename">sources.list</code> به توزیع‌های مختلف اشاره کرده باشد، امکان درج نسخه برای بسته مورد نصب وجود دارد. یک نسخه خاص از بسته با استفاده از <code
              class="command">apt install <em
                class="replaceable">package</em>=<em
                class="replaceable">version</em></code> می‌تواند درخواست شود اما نشان‌کردن توزیع مبدا آن ((<span
              class="distribution distribution">Stable</span>، (<span
              class="distribution distribution">Testing</span> یا (<span
              class="distribution distribution">Unstable</span>) -- با استفاده از <code
              class="command">apt install <em
                class="replaceable">package</em>/<em
                class="replaceable">distribution</em></code> -- معمولا مورد استفاده قرار می‌گیرد. با این فرمان، استفاده از یک نسخه قدیمی‌تر بسته ممکن می‌شود (اگر از عملکرد آن اطلاع داشته باشید)، در صورتی که منبع آن در فایل <code
              class="filename">sources.list</code> ذکر شده باشد. در غیر اینصورت، بایگانی <code
              class="literal">snapshot.debian.org</code> می‌تواند به کمک شما بیاید (قسمت <a
              class="xref"
              href="apt.html#sidebar.snapshot.debian.org"><span
                class="emphasis"><em>یک قدم فراتر</em></span> نسخه‌های قدیمی بسته: <code
                class="literal">snapshot.debian.org</code></a> را مشاهده کنید).
			</div><div
            class="example"><a
              xmlns=""
              id="id-1.9.11.8.20"></a><p
              class="title"><strong>
      مثال 6.3. نصب نسخه <span
                  class="distribution distribution">unstable</span> از بسته <span
                  class="pkg pkg">spamassassin</span></strong></p><div
              class="example-contents"><pre
                class="screen"><code
                  class="computeroutput"># </code><strong
                  class="userinput"><code>apt install spamassassin/unstable</code></strong></pre></div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>مطالعه بیشتر</em></span> کَش فایل‌های <code
                        class="filename">.deb</code></strong></p></div></div></div><div
              class="para">
				APT یک رونوشت از فایل <code
                class="filename">.deb</code> دانلود شده را در دایرکتوری <code
                class="filename">/var/cache/apt/archives/</code> ذخیره می‌کند. در مورد بروزرسانی‌های متداول، این دایرکتوری به سرعت می‌تواند با نسخه‌های مختلف از یک بسته پر شود؛ شما باید به طور مدام به این مساله رسیدگی کنید. دو فرمان قابل استفاده هستند: <code
                class="command">apt-get clean</code> محتوای این دایرکتوری را به صورت کامل پاک می‌کند؛ <code
                class="command">apt-get autoclean</code> بسته‌هایی را حذف می‌کند که دیگر قابلیت دانلود برایشان موجود نیست (چراکه از سرور دبیان ناپدید گشته‌اند) و به همین دلیل نیز بی استفاده هستند (پارامتر پیکربندی <code
                class="literal">APT::Clean-Installed</code> از حذف بسته‌های موجود در نصب فعلی پیشگیری می‌کند). نکته اینکه <code
                class="command">apt</code> از این فرامین پشتیبانی نمی‌کند.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.apt-upgrade"></a>6.2.3. بروزرسانی سیستم</h3></div></div></div><a
            id="id-1.9.11.9.2"
            class="indexterm"></a><a
            id="id-1.9.11.9.3"
            class="indexterm"></a><a
            id="id-1.9.11.9.4"
            class="indexterm"></a><a
            id="id-1.9.11.9.5"
            class="indexterm"></a><div
            class="para">
				بروزرسانی‌های متداول توصیه می‌شوند، چرا که شامل آخرین اصلاحات امنیتی هستند. برای بروزرسانی سیستم، از <code
              class="command">apt upgrade</code>، <code
              class="command">apt-get upgrade</code> یا <code
              class="command">aptitude safe-upgrade</code> استفاده کنید (البته پس از فراخوانی <code
              class="command">apt update</code>). این فرمان به بسته‌های نصب شده نگاه می‌کند که بدون حذف بسته‌های دیگر قابلیت بروزرسانی داشته باشند. به عبارت دیگر، هدف دستیابی به کم‌هزینه‌ترین نوع بروزرسانی است. <code
              class="command">apt-get</code> در مقایسه با <code
              class="command">apt</code> و <code
              class="command">aptitude</code> سخت‌گیری بیشتری دارد چرا که نسبت به بسته‌های جدید از خود مقاومت نشان می‌دهد.
			</div><div
            class="sidebar"><a
              xmlns=""
              id="sidebar.apt-pdiff"></a><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>نکته</em></span> بروزرسانی افزایشی</strong></p></div></div></div><div
              class="para">
				همانطور که قبلا توضیح دادیم، هدف فرمان <code
                class="command">apt update</code> دانلود فایل <code
                class="filename">Packages</code> (یا <code
                class="filename">Sources</code>) مربوط به هر مخزن است. اگرچه، حتی پس از فشرده‌سازی <code
                class="command">bzip2</code> نیز، این فایل‌ها می‌توانند حجم زیادی بگیرند (<code
                class="filename">Packages.xz</code> برای قسمت <span
                class="foreignphrase"><em
                  class="foreignphrase">main</em></span> از توزیع <span
                class="distribution distribution">Jessie</span> بیش از ۶ مگابایت فضا می‌گیرد). اگر قصد بروزرسانی متداول داشته باشید، می‌تواند زمان زیادی از شما را بگیرد.
			</div><div
              class="para">
				برای سرعت بخشیدن به این فرآیند، APT می‌تواند فایل “diff” تغییرات نسبت به بروزرسانی قبلی را دانلود کند. برای دستیابی به این هدف، سرورهای رسمی دبیان فایل‌های مختلفی را به منظور نمایش اختلاف بین یک نسخه از فایل <code
                class="filename">Packages</code> و نسخه جاری توزیع می‌کنند. آن‌ها پس از بروزرسانی هر بایگانی تولید شده و به مدت یک هفته ذخیره می‌گردند. هر یک از این فایل‌های “diff” تنها شامل چند کیلوبایت از توزیع <span
                class="distribution distribution">Unstable</span> هستند، به طوری که حجم داده دانلود شده توسط <code
                class="command">apt update</code> به یک دهم کاهش یابد. برای توزیع‌هایی مانند <span
                class="distribution distribution">Stable</span> یا <span
                class="distribution distribution">Testing</span>، که تغییرات کمتری دارند، این صرفه‌جویی چشمگیرتر است.
			</div><div
              class="para">
				اگرچه، گاهی اوقات لازم است محتوای کامل فایل <code
                class="filename">Packages</code> دانلود شود، به خصوص زمانی که از آخرین بروزرسانی زمان زیادی گذشته باشد یا مکانیزم بروزرسانی افزایشی دیگر کاربردی نداشته باشد. جالب است که اگر سرعت دسترس به شبکه بالا و سرعت پردازنده ماشین پایین باشد، چرا که زمان صرفه‌جویی شده در دانلود در مقایسه با زمان محاسبه نسخه جدید از فایل‌ها از بین می‌رود (شروع با نسخه‌های قدیمی‌تر و اعمال بروزرسانی‌های لازم). برای اینکار، می‌توانید از پارامتر پیکربندی <code
                class="literal">Acquire::Pdiffs</code> استفاده کرده و مقدار آن را <code
                class="literal">false</code> تنظیم کنید.
			</div></div><div
            class="para">
				<code
              class="command">apt</code> به صورت عمومی از آخرین نسخه موجود استفاده می‌کند (به جز بسته‌های موجود در <span
              class="distribution distribution">Experimental</span> و <span
              class="distribution distribution">stable-backports</span> که به صورت پیش‌فرض استفاده نمی‌شوند). اگر شما در فایل <code
              class="filename">sources.list</code> خود به <span
              class="distribution distribution">Testing</span> یا <span
              class="distribution distribution">Unstable</span> اشاره کرده باشید، <code
              class="command">apt upgrade</code> اکثر سیستم <span
              class="distribution distribution">Stable</span> شما را به <span
              class="distribution distribution">Testing</span> تبدیل می‌کند یا حتی <span
              class="distribution distribution">Unstable</span>، چیزی که شاید انتظارش را نداشته باشید.
			</div><div
            class="para">
				برای اطلاع دادن به <code
              class="command">apt</code> در جهت استفاده از یک توزیع خاص هنگام بروزرسانی، باید از گزینه <code
              class="literal">-t</code> یا <code
              class="literal">--target-release</code> به همراه نام توزیع مورد نظر خود استفاده کنید (برای نمونه: <code
              class="command">apt -t stable upgrade</code>). برای پیشگیری از استفاده مجدد این گزینه در هر مرتبه فراخوانی <code
              class="command">apt</code>، می‌توانید گزینه <code
              class="literal">APT::Default-Release "stable";</code> را در فایل <code
              class="filename">/etc/apt/apt.conf.d/local</code> وارد کنید.
			</div><a
            id="id-1.9.11.9.10"
            class="indexterm"></a><a
            id="id-1.9.11.9.11"
            class="indexterm"></a><a
            id="id-1.9.11.9.12"
            class="indexterm"></a><a
            id="id-1.9.11.9.13"
            class="indexterm"></a><a
            id="id-1.9.11.9.14"
            class="indexterm"></a><div
            class="para">
				برای بروزرسانی‌های مهم‌تر، مانند تغییر از یک نسخه دبیان به دیگری، باید از <code
              class="command">apt full-upgrade</code> استفاده کنید. با این فرمان، <code
              class="command">apt</code> اقدام به بروزرسانی سیستم می‌کند حتی اگر لازم باشد برخی بسته‌ها را پاک کرده یا وابستگی‌های جدید را نصب کند. این فرمان همچنین از طرف کاربرانی که به صورت روزانه با توزیع <span
              class="distribution distribution">Unstable</span> کار می‌کنند مورد استفاده قرار می‌گیرد. به قدری آسان است که حتی نیاز به توضیح نیز ندارد. اعتبار APT بر اساس این قابلیت فوق‌العاده است.
			</div><div
            class="para">
				برخلاف <code
              class="command">apt</code> و <code
              class="command">aptitude</code>، فرمان <code
              class="command">apt-get</code> اطلاعی از <code
              class="command">full-upgrade</code> ندارد. در عوض، باید از فرمان <code
              class="command">apt-get dist-upgrade</code> استفاده کنید، دستور تاریخی که <code
              class="command">apt</code> و <code
              class="command">aptitude</code> به منظور سهولت دسترسی کاربران در استفاده از آن، شناخته می‌شود.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.apt-config"></a>6.2.4. گزینه‌های پیکربندی</h3></div></div></div><a
            id="id-1.9.11.10.2"
            class="indexterm"></a><a
            id="id-1.9.11.10.3"
            class="indexterm"></a><a
            id="id-1.9.11.10.4"
            class="indexterm"></a><div
            class="para">
				علاوه بر گزینه‌های پیکربندی اشاره شده، امکان پیکربندی جلوه‌های مشخصی از APT با اضافه کردن دستورات در فایلی به مسیر <code
              class="filename">/etc/apt/apt.conf.d/</code> وجود دارد. برای نمونه، به یاد دارید که APT چگونه با <code
              class="command">dpkg</code> اعلام می‌کرد که تداخل‌های بوجود آمده را توسط دستور <code
              class="literal">DPkg::options { "--force-overwrite"; }</code> در نظر نگیرد.
			</div><div
            class="para">
				اگر وب تنها از طریق پراکسی قابل دسترسی است، یک خط مانند <code
              class="literal">Acquire::http::proxy "http://<em
                class="replaceable">yourproxy</em>:3128"</code> را اضافه کنید. برای پراکسی FTP، از <code
              class="literal">Acquire::ftp::proxy "ftp://<em
                class="replaceable">yourproxy</em>"</code> استفاده کنید. برای کشف گزینه‌های پیکربندی بیشتر، راهنمای <span
              class="citerefentry"><span
                class="refentrytitle">apt.conf</span>(5)</span> را با استفاده از دستور <code
              class="command">man apt.conf</code> مطالعه کنید (برای جزئیات بیشتر درباره صفحات راهنما، <a
              class="xref"
              href="solving-problems.html#sect.manual-pages">
      قسمت 7.1.1, “Manual Pages”
    </a> را مشاهده کنید).
			</div><div
            class="sidebar"><a
              xmlns=""
              id="sidebar.directory.d"></a><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>بازگشت به مقدمات</em></span> دایرکتوری‌هایی که به <code
                        class="filename">.d</code> ختم می‌شوند</strong></p></div></div></div><a
              id="id-1.9.11.10.7.2"
              class="indexterm"></a><div
              class="para">
				دایرکتوری‌هایی با پسوند <code
                class="filename">.d</code> بیشتر و بیشتر مورد استفاده قرار می‌گیرند. هر دایرکتوری نشان‌دهنده یک فایل پیکربندی است که خود بین چند فایل کوچک‌تر تقسیم شده است. در اینجا، تمام فایل‌های موجود در <code
                class="filename">/etc/apt/apt.conf.d/</code> دستورالعمل‌هایی برای پیکربندیAPT هستند. APT آن‌ها را به ترتیب الفبایی مرتب می‌کند به صورتی که فایل آخر قابلیت ایجاد تغییرات نسبت به فایل اول را داشته باشد.
			</div><div
              class="para">
				این ساختار، انعطاف بیشتری را برای مدیرسیستم و نگهدارنده بسته به وجود می‌آورد. در حقیقت، مدیرسیستم برای ایجاد تغییرات در پیکربندی نرم‌افزار تنها کافی است یک فایل جداگانه در دایرکتوری مربوط به آن قرار دهد بجای اینکه محتوای فایل موجود را دست بزند. نگهدارنده بسته نیز از رویکرد یکسانی برای برقراری تنظیمات در سایر نرم‌افزارها نسبت به بسته خود استفاده می‌کند. خط‌مشی دبیان صراحتاً از ویرایش فایل‌های پیکربندی نرم‌افزارهای دیگر جلوگیری به عمل می‌آورد -- تنها کاربران قادر به انجام آن هستند. به یاد داشته باشید که حین بروزرسانی یک بسته، زمانی که یک تغییر ایجاد می‌شود از کاربر پرسیده می‌شود که کدام فایل پیکربندی را می‌خواهد ذخیره کند. هر تغییر خارجی اعمال شده روی فایل، این درخواست را به همراه دارد، که منجر به اذیت‌شدن مدیرسیستم می‌گردد.
			</div><div
              class="para">
				بدون یک دایرکتوری <code
                class="filename">.d</code>، برای یک بسته خارجی عملاً غیرممکن است که بدون تغییر در فایل پیکربندی یک نرم‌افزار دیگر، تغییرات خود را اعمال کند. در عوض باید کاربر را دعوت به انجام این تغییرات سازد با استفاده از عملیاتی که در فایل <code
                class="filename">/usr/share/doc/<em
                  class="replaceable">package</em>/README.Debian</code> مستند شده است.
			</div><div
              class="para">
				با توجه به برنامه، دایرکتوری <code
                class="filename">.d</code> به طور مستقیم یا توسط یک اسکریپت خارجی مدیریت می‌شود که با قرار دادن تمام فایل‌های موجود در کنار هم، منجر به ایجاد فایل پیکربندی اصلی می‌گردد. اهمیت دارد که پس از تغییر در فایل‌های دایرکتوری، اسکریپت مورد نظر فراخوانی گردد تا همواره از آخرین تغییرات موجود در آن استفاده شود. به همین روش، عدم ایجاد تغییرات در فایل پیکربندی تولید شده نیز از اهمیت خاصی برخوردار است، چرا که تمام این تغییرات در اجرای بعدی اسکریپت از بین خواهد رفت. روش انتخابی (استفاده مستقیم از دایرکتوری<code
                class="filename">.d</code> یا فایلی که از سایر فایل‌های موجود در آن تولید می‌شود) با توجه به محدودیت‌های پیاده‌سازی دیکته می‌شود، اما در هر دو مورد خروجی کار در مقایسه با پیچیدگی انجام آن، ارزش خواهد داشت چرا که به انعطاف‌پذیری بیشتر ختم می‌شود. سرور ایمیل Exim 4 نمونه‌ای از شیوه تولید خودکار فایل پیکربندی است: می‌تواند از طریق چند فایل پیکربندی گردد (<code
                class="filename">/etc/exim4/conf.d/*</code>) که در نهایت توسط دستور <code
                class="command">update-exim4.conf</code> به <code
                class="filename">/var/lib/exim4/config.autogenerated</code> تبدیل می‌شوند.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.apt.priorities"></a>6.2.5. مدیریت اولویت بسته‌ها</h3></div></div></div><div
            class="para">
				یکی از جلوه‌های مهم در پیکربندی APT مدیریت اولویت مربوط به هر بسته و منبع آن است. برای نمونه، ممکن است بخواهید یک توزیع را با استفاده از یک یا چند بسته جدید از <span
              class="distribution distribution">Testing</span>، <span
              class="distribution distribution">Unstable</span> یا <span
              class="distribution distribution">Experimental</span> گسترش دهید. امکان اختصاص یک اولویت به هر بسته وجود دارد (همان بسته می‌تواند چندین اولویت مختلف با توجه به نسخه و توزیع فراهم‌کننده‌اش داشته باشد). این اولویت‌ها عملکرد APT را تحت تاثیر قرار می‌دهند: برای هر بسته، همیشه نسخه‌ای انتخاب می‌شود که بالاترین اولویت را داشته باشد (مگر حالتی که این نسخه قدیمی‌تر از نسخه نصبی باشد و اولویت آن کمتر از ۱۰۰۰ باشد).
			</div><a
            id="id-1.9.11.11.3"
            class="indexterm"></a><a
            id="id-1.9.11.11.4"
            class="indexterm"></a><a
            id="id-1.9.11.11.5"
            class="indexterm"></a><a
            id="id-1.9.11.11.6"
            class="indexterm"></a><a
            id="id-1.9.11.11.7"
            class="indexterm"></a><a
            id="id-1.9.11.11.8"
            class="indexterm"></a><a
            id="id-1.9.11.11.9"
            class="indexterm"></a><div
            class="para">
				APT چندین اولویت پیش‌فرض را تعریف می‌کند. هر بسته نصب شده اولویت ۱۰۰ دارد. یک نسخه نصب نشده اولویت ۵۰۰ دارد، اما می‌تواند به ۹۹۰ تغییر یابد اگر قسمتی از انتشار نهایی شود (که با استفاده از گزینه <code
              class="literal">-t</code> یا دستور پیکربندی <code
              class="literal">APT::Default-Release</code> تعریف می‌شود).
			</div><div
            class="para">
				می‌توانید این اولویت‌ها را با اضافه‌کردن در فایل <code
              class="filename">/etc/apt/preferences</code> با استفاده از نام بسته، نسخه، منشا و اولویت مورد نظر تغییر دهید.
			</div><div
            class="para">
				APT هیچگاه بسته قدیمی‌تر را نصب نمی‌کند (بسته‌ای که نسخه‌ی آن از نسخه نصب شده پایین‌تر باشد) مگر اولویت آن بالاتر از ۱۰۰۰ باشد. APT همیشه بالاترین اولویت موجود که با این محدودیت همخوانی داشته باشد را نصب می‌کند. اگر دو بسته اولویت یکسان داشته باشند، APT جدیدترین آن‌ها را نصب می‌کند (بسته‌ای که شماره نسخه بالاتری داشته باشد). اگر دو بسته با نسخه و اولویت یکسان اما محتوای متفاوت موجود باشند، APT نسخه‌ای که نصب نشده باشد را نصب می‌کند (این قانون به منظور پوشش بروزرسانی بسته بوجود آمده است بدون آنکه شماره نسخه آن افزایش یابد، که معمولا مورد نیاز است).
			</div><div
            class="para">
				به عبارت بهتر، بسته‌ای که اولویت زیر ۰ داشته باشد هیچگاه نصب نخواهد شد. بسته‌ای که اولویت بین ۰ تا ۱۰۰ داشته باشد تنها زمانی نصب می‌شود که نسخه دیگری از آن در سیستم موجود نباشد. با اولویت بین ۱۰۰ تا ۵۰۰، بسته زمانی نصب می‌شود که نسخه جدیدتری از آن موجود نصب نبوده یا در توزیع دیگری موجود نباشد. بسته‌ای با اولویت بین ۵۰۱ و ۹۹۰ تنها زمانی نصب می‌شود که نسخه جدیدتری از آن در توزیع هدف موجود نباشد. با اولویت بین ۹۹۰ تا ۱۰۰۰، بسته نصب خواهد شد مگر اینکه نسخه نصب شده فعلی جدیدتر باشد. اولویت بالاتر از ۱۰۰۰ همیشه منجر به نصب بسته خواهد شد حتی اگر به APT اجبار شده باشد که به نسخه قدیمی‌تر بسته مهاجرت شود.
			</div><div
            class="para">
				زمانی که APT فایل <code
              class="filename">/etc/apt/preferences</code> را بررسی می‌کند، ابتدا مشخص‌ترین مدخل‌های موجود در فایل را به حساب می‌آورد (آن‌هایی که به بسته‌های خاصی اشاره می‌کنند)، سپس بسته‌های عمومی‌تر (برای نمونه بسته‌های موجود در یک توزیع). اگر چند مدخل یکسان موجود باشد، اولین آن‌ها که شناسایی شود استفاده می‌گردد. شرایط انتخاب موجود شامل نام و منبع هر بسته می‌باشد. هر منبع بسته‌ای از طریق اطلاعات موجود در فایل <code
              class="filename">Release</code> مشخص می‌شود که APT در زمان دانلود فایل <code
              class="filename">Packages</code> آن را نیز بدست می‌آورد. این فایل منشا بسته را مشخص می‌کند (معممولا «دبیان» برای بسته‌های موجود در سرورهای اصلی، اما می‌تواند شامل بسته‌های شخص ثالث نیز گردد). همچنین این فایل نام مربوط به هر توزیع را نیز مشخص می‌کند (معمولا <span
              class="distribution distribution">Stable</span>، <span
              class="distribution distribution">Testing</span>، <span
              class="distribution distribution">Unstable</span> یا <span
              class="distribution distribution">Experimental</span> برای توزیع‌های استاندارد ارائه شده توسط دبیان) به همراه نسخه آنان (برای نمونه ۸ که نشان دهنده دبیان <span
              class="distribution distribution">Jessie</span> است). بیایید با یک مثال واقعی، شیوه صحیح نحو این فایل را نگاه بیندازیم:
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>مورد بخصوص</em></span> اولویت <span
                        class="distribution distribution">experimental</span></strong></p></div></div></div><a
              id="id-1.9.11.11.15.2"
              class="indexterm"></a><div
              class="para">
				اگر به توزیع <span
                class="distribution distribution">Experimental</span> در فایل <code
                class="filename">sources.list</code> اشاره کرده‌اید، بسته‌های موجود در آن هیچگاه نصب نمی‌شوند چرا که APT به آن‌ها اولویت ۱ را اختصاص می‌دهد. البته این مورد بخصوصی است، تا از اشتباهی نصب شدن بسته‌های توزیع <span
                class="distribution distribution">Experimental</span> توسط کاربران جلوگیری بعمل آید. بسته‌ها تنها توسط دستور <code
                class="command">aptitude install <em
                  class="replaceable">package</em>/experimental</code> می‌توانند نصب گردند -- کاربرانی که از این دستور استفاده می‌کنند باید با خطرات آن آشنا باشند. البته این احتمال وجود دارد (اما توصیه <span
                class="emphasis"><em>نمی‌شود</em></span>) که با بسته‌های موجود در <span
                class="distribution distribution">Experimental</span> مانند سایر توزیع‌ها برخورد شود و اولویت ۵۰۰ را به آن‌ها بدهیم. اینکار با یک تنظیم خاص در فایل <code
                class="filename">/etc/apt/preferences</code> صورت می‌پذیرد.
			</div><div
              class="informalexample"><pre
                class="programlisting">Package: *
Pin: release a=experimental
Pin-Priority: 500</pre></div></div><div
            class="para">
				بیایید فرض کنیم که شما تنها قصد استفاده از بسته‌های موجود در توزیع Stable دبیان را دارید. سایر بسته‌ها در این مورد نباید نصب شوند مگر به صورت خاص به آن‌ها اشاره گردد. برای اینکار می‌توانید مدخل زیر را در فایل <code
              class="filename">/etc/apt/preferences</code> ایجاد کنید.
			</div><div
            class="informalexample"><pre
              class="programlisting">Package: *
Pin: release a=stable
Pin-Priority: 900

Package: *
Pin: release o=Debian
Pin-Priority: -10</pre></div><div
            class="para">
				<code
              class="literal">a=stable</code> نام توزیع انتخاب شده را مشخص می‌کند. <code
              class="literal">o=Debian</code> بسته‌ها را تنها نسبت به منبع آن‌ها که «دبیان» باشد محدود می‌سازد.
			</div><div
            class="para">
				فرض کنیم شما سروری دارید که یکسری برنامه‌های محلی در آن به Perl 5.14 وابسته هستند و شما می‌خواهید اطمینان حاصل کنید که با بروزرسانی بعدی این نسخه هیچگاه تغییر نکند. می‌توانید از این مدخل استفاده کنید:
			</div><div
            class="informalexample"><pre
              class="programlisting">Package: perl
Pin: version 5.14*
Pin-Priority: 1001</pre></div><div
            class="para">
				مستندات مربوط به تنظیمات موجود در این فایل از طریق صفحه راهنما <span
              class="citerefentry"><span
                class="refentrytitle">apt_preferences</span>(5)</span> قابل دسترسی هستند که با استفاده از دستور <code
              class="command">man apt_preferences</code> می‌توانید آن را مشاهده کنید.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>نکته</em></span> توضیحات موجود در <code
                        class="filename">/etc/apt/preferences</code></strong></p></div></div></div><a
              id="id-1.9.11.11.22.2"
              class="indexterm"></a><a
              id="id-1.9.11.11.22.3"
              class="indexterm"></a><a
              id="id-1.9.11.11.22.4"
              class="indexterm"></a><div
              class="para">
				شیوه رسمی برای قرار دادن توضیحات در فایل <code
                class="filename">/etc/apt/preferences</code> وجود ندارد، اما می‌توان با قرار دادن یک یا چند فیلد “<code
                class="literal">Explanation</code>” در ابتدای هر مدخل به این مهم دست یافت.
			</div><div
              class="informalexample"><pre
                class="programlisting">Explanation: The package xserver-xorg-video-intel provided
Explanation: in experimental can be used safely
Package: xserver-xorg-video-intel
Pin: release a=experimental
Pin-Priority: 500</pre></div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.apt-mix-distros"></a>6.2.6. کار با چندین توزیع مختلف</h3></div></div></div><div
            class="para">
				<code
              class="command">apt</code> ابزار حیرت‌انگیزی است، انتخاب بسته از سایر توزیع‌ها کاری وسوسه‌انگیز به حساب می‌آید. برای نمونه، پس از نصب یک سیستم <span
              class="distribution distribution">Stable</span>، شاید بخواهید به آزمون یک بسته موجود در توزیع <span
              class="distribution distribution">Testing</span> یا <span
              class="distribution distribution">Unstable</span> بپردازید بدون آنکه از وضعیت فعلی سیستم فاصله بگیرید.
			</div><div
            class="para">
				حتی اگر با ترکیب بسته‌ها از توزیع‌های مختلف مشکلی بوجود بیاید، <code
              class="command">apt</code> این همزیستی را بخوبی مدیریت کرده و خطرات احتمالی را پوشش می‌دهد. بهترین شیوه عملکرد در این حالت، فهرست کردن تمام توزیع‌ها موجود در <code
              class="filename">/etc/apt/sources.list</code> است (برخی افراد تنها از سه توزیع استفاده می‌کنند، اما بدانید که <span
              class="distribution distribution">Unstable</span> برای کاربران باتجربه‌تر در نظر گرفته شده است) و برای اشاره به توزیع اصلی می‌توان از پارامتر <code
              class="literal">APT::Default-Release</code> استفاده کرد (<a
              class="xref"
              href="sect.apt-get.html#sect.apt-upgrade">
      قسمت 6.2.3, “بروزرسانی سیستم”
    </a> را مشاهده کنید).
			</div><div
            class="para">
				فرض کنیم که <span
              class="distribution distribution">Stable</span> توزیع اصلی شما باشد، اما هر دو توزیع <span
              class="distribution distribution">Testing</span> و <span
              class="distribution distribution">Unstable</span> نیز در فایل <code
              class="filename">sources.list</code> فهرست شده‌اند. در این مورد، برای نصب بسته‌ای از توزیع <span
              class="distribution distribution">Testing</span> می‌توانید از دستور <code
              class="command">apt install <em
                class="replaceable">package</em>/testing</code> استفاده کنید. اگر عملیات نصب با توجه به برطرف نشدن برخی وابستگی‌ها متوقف شود، با اضافه کردن پارامتر <code
              class="literal">-t testing</code> می‌توان به حل این مشکل در توزیع <span
              class="distribution distribution">Testing</span> پرداخت. این شیوه در رابطه با <span
              class="distribution distribution">Unstable</span> نیز صدق می‌کند.
			</div><div
            class="para">
				در این وضعیت، عملیات بروزرسانی (<code
              class="command">upgrade</code> و <code
              class="command">full-upgrade</code>) توسط توزیع <span
              class="distribution distribution">Stable</span> صورت می‌پذیرند به جز بسته‌هایی که به سایر توزیع‌ها بروزرسانی گردیده‌اند: آن‌ها عملیات بروزرسانی توزیع خود را پیگیری می‌کنند. ما به شرح این رفتار با توجه به اولویت‌های پیش‌فرض APT در ادامه خواهیم پرداخت. می‌توانید با استفاده از دستور <code
              class="command">apt-cache policy</code> اولویت‌های موجود در سیستم را بررسی و تایید کنید (قسمت <a
              class="xref"
              href="sect.apt-get.html#sidebar.apt-cache-policy"><span
                class="emphasis"><em>نکته</em></span> <code
                class="command">apt-cache policy</code></a> را مشاهده کنید).
			</div><div
            class="para">
				همه چیز حول این محور می‌چرخد که APT تنها بسته‌هایی را در نظر می‌گیرد که نسخه برابر یا بالاتر از آنچه در سیستم موجود می‌باشد را دارا باشند (با فرض اینکه در فایل <code
              class="filename">/etc/apt/preferences</code> اولویت بالاتر از ۱۰۰۰ برای هیچ بسته‌ای در نظر گرفته نشده است).
			</div><div
            class="sidebar"><a
              xmlns=""
              id="sidebar.apt-cache-policy"></a><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>نکته</em></span> <code
                        class="command">apt-cache policy</code></strong></p></div></div></div><div
              class="para">
				برای درک بهتر مکانیزم این اولویت‌ها، می‌توان از <code
                class="command">apt-cache policy</code> برای نمایش اولویت متناسب با هر منبع بسته استفاده کرد. همچنین می‌توانید از <code
                class="command">apt-cache policy <em
                  class="replaceable">package</em></code> برای نمایش اولویت مربوط به یک بسته خاص استفاده کنید.
			</div></div><div
            class="para">
				فرض کنیم شما نسخه ۱ از بسته‌ موجود در <span
              class="distribution distribution">Stable</span> را نصب کرده‌اید و نسخه‌های ۲ و ۳ همان بسته در <span
              class="distribution distribution">Testing</span> و <span
              class="distribution distribution">Unstable</span> قرار دارند. نسخه نصب شده اولویت ۱۰۰ دارد اما همان نسخه موجود در <span
              class="distribution distribution">Stable</span> اولویت ۹۹۰ دارد (چرا که بخشی از توزیع هدف است). بسته‌های موجود در <span
              class="distribution distribution">Testing</span> و <span
              class="distribution distribution">Unstable</span> اولویت ۵۰۰ دارند (اولویت پیش‌فرض برای بسته‌های نصب نشده). برنده نسخه اول با اولویت ۹۹۰ است که در <span
              class="distribution distribution">Stable</span> قرار دارد.
			</div><div
            class="para">
				مثال دیگر، نسخه ۲ از بسته‌ای در <span
              class="distribution distribution">Testing</span> است. نسخه ۱ در <span
              class="distribution distribution">Stable</span> و نسخه ۳ در <span
              class="distribution distribution">Unstalbe</span> قرار دارد. نسخه ۱ (با اولویت ۹۹۰ -- که کمتر از ۱۰۰۰ است) رد می‌شود چرا که از نسخه نصب شده پایین‌تر است. در اینجا تنها نسخه ۲و ۳ باقی می‌مانند که هر دو اولویت ۵۰۰ دارند. APT در مواجه با این انتخاب، بسته موجود در <span
              class="distribution distribution">Unstalbe</span> را بر می‌گزیند. اگر نمی‌خواهید بسته‌ای که از <span
              class="distribution distribution">Testing</span> نصب می‌شود به <span
              class="distribution distribution">Unstalbe</span> مهاجرت کند، باید اولویتی پایین‌تر از ۵۰۰ (برای نمونه ۵۹۰) به بسته‌های موجود در <span
              class="distribution distribution">Unstalbe</span> اختصاص دهید. برای اینکار، می‌توانید <code
              class="filename">/etc/apt/preferences</code> را ویرایش کنید:
			</div><pre
            class="programlisting">Package: *
Pin: release a=unstable
Pin-Priority: 490</pre></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.automatic-tracking"></a>6.2.7. ردیابی خودکار بسته‌های نصب شده</h3></div></div></div><div
            class="para">
				یکی از عملکردهای ضروری <code
              class="command">apt</code> قابلیت ردیابی بسته‌های نصب شده و وابستگی‌های مربوط به آنان است. این بسته‌ها اغلب “automatic” خوانده می‌شوند و معمولا شامل کتابخانه‌های جانبی هستند.
			</div><div
            class="para">
				با این اطلاعات، زمانی که بسته‌ای حذف می‌شود، مدیر بسته(ها) قادر به محاسبه فهرستی از بسته‌های خودکار هستند که دیگر به آن‌ها نیازی نیست (چرا که دیگر بسته‌ای وجود ندارد که به آن‌ها وابسته باشد). <code
              class="command">apt-get autoremove</code> از شر این بسته‌ها خلاص می‌شود، <code
              class="command">aptitude</code> و <code
              class="command">apt</code> این دستور را شامل نمی‌شوند: اولی به این دلیل که هنگام شناسایی آن‌ها، بلافاصله اقدام به حذف می‌کند، دومی شاید به این دلیل که کاربر نیازی به اجرای مستقیم این دستور ندارد. در تمام موارد، ابزار موجود بسته‌های شناسایی شده برای حذف را مشخص می‌کنند.
			</div><a
            id="id-1.9.11.13.4"
            class="indexterm"></a><a
            id="id-1.9.11.13.5"
            class="indexterm"></a><a
            id="id-1.9.11.13.6"
            class="indexterm"></a><a
            id="id-1.9.11.13.7"
            class="indexterm"></a><div
            class="para">
				عادت خوبی است بسته‌هایی را که به صورت مستقیم با آن‌ها کار نداریم نشانه‌گذاری کنیم تا در زمان عدم نیاز به آن‌ها به سرعت قابل شناسایی باشند. <code
              class="command">apt-mark auto <em
                class="replaceable">package</em></code> بسته مورد نظر را برچسب خودکار می‌زند در صورتی که <code
              class="command">apt-mark manual <em
                class="replaceable">package</em></code> عمل مخالف آن را انجام می‌دهد. <code
              class="command">aptitude markauto</code> و <code
              class="command">aptitude unmarkauto</code> نیز به همین شیوه کار می‌کنند با این تفاوت که می‌توان چندین بسته را نشانه‌گذاری کرد. (<a
              class="xref"
              href="sect.apt-frontends.html#sect.aptitude">
      قسمت 6.4.1, “<code
                class="command">aptitude</code>”
    </a> را مشاهده کنید). رابط تعاملی مبتنی بر کنسول <code
              class="command">aptitude</code> این امکان را می‌دهد که “پرچم خودکار” موجود در بسته‌ها را به راحتی بررسی کرد.
			</div><a
            id="id-1.9.11.13.9"
            class="indexterm"></a><div
            class="para">
				شاید بخواهید بدانید که چرا بسته‌ای که برچسب خودکار خورده هنوز در سیستم موجود است. برای دستیابی به این اطلاعات از طریق خط فرمان، می‌توانید از <code
              class="command">aptitude why <em
                class="replaceable">package</em></code> استفاده کنید (<code
              class="command">apt</code> و (<code
              class="command">apt-get</code> چنین قابلیت مشابهی ندارند):
			</div><pre
            class="screen"><code
              class="computeroutput">$ </code><strong
              class="userinput"><code>aptitude why python-debian
</code></strong><code
              class="computeroutput">i   aptitude         Recommends apt-xapian-index         
i A apt-xapian-index Depends    python-debian (&gt;= 0.1.15)
</code></pre><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>گزینه‌های جایگزین</em></span> <code
                        class="command">deborphan</code> و <code
                        class="command">debfoster</code></strong></p></div></div></div><a
              id="id-1.9.11.13.12.2"
              class="indexterm"></a><a
              id="id-1.9.11.13.12.3"
              class="indexterm"></a><div
              class="para">
				روزهایی که <code
                class="command">apt</code>، <code
                class="command">apt-get</code> و <code
                class="command">aptitude</code> قادر به ردیابی بسته‌های خودکار نبودند، دو ابزار کاربردی برای ایجاد فهرستی از بسته‌های غیرضروری وجود داشت: <code
                class="command">deborphan</code> و <code
                class="command">debfoster</code>.
			</div><div
              class="para">
				<code
                class="command">deborphan</code> ابتدایی‌ترین آن‌ها است. تنها به پویش محتوای <code
                class="literal">libs</code> و <code
                class="literal">oldlibs</code> می‌پردازد (در غیاب دستورالعمل‌های تکمیلی) تا بسته‌هایی را پیدا کند که نصب هستند و بسته دیگری به آن‌ها وابسته نیست. فهرست خروجی، می‌تواند پایه‌ای برای حذف بسته‌های غیرضروری بحساب آید.
			</div><div
              class="para">
				<code
                class="command">debfoster</code> اما رویکرد متفاوتی به قضیه دارد، که بی‌شباهت به APT نیست: ابتدا فهرستی از بسته‌ها که به صورت ضمنی نصب شده‌اند را بدست می‌آورد، و در هر فراخوانی بیاد می‌سپارد که کدام بسته‌ها ارجاع داده می‌شوند. اگر بسته‌های جدید در سیستم ظاهر شوند و اگر <code
                class="command">debfoster</code> آن‌ها را به عنوان بسته‌های مورد نیاز نشناسد، آن‌ها بر روی صفحه نمایش به همراه فهرستی از وابستگی‌هایشان نمایش داده می‌شوند. برنامه آنگاه انتخابی را پیشنهاد می‌دهد: حذف بسته (همراه با وابستگی‌هایش)، نشانه‌گذاری به عنوان بسته مورد نیاز یا در نظر نگرفتن به صورت موقتی.
			</div></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="apt.html"><strong>قبلی</strong>
      فصل 6. نگهداری و بروزرسانی: ابزار APT</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>بالا</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>خانه</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.apt-cache.html"><strong>بعدی</strong>6.3. دستور apt-cache</a></li></ul></body></html>
