<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">10.7. DHCP</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-fa-IR-1.0-1" /><meta
        name="keywords"
        content="شبکه, Gateway, TCP/IP, IPv6, DNS, Bind, DHCP, QoS" /><link
        rel="home"
        href="index.html"
        title="راهنمای جامع دبیان" /><link
        rel="up"
        href="network-infrastructure.html"
        title="فصل 10. زیرساخت شبکه" /><link
        rel="prev"
        href="sect.domain-name-servers.html"
        title="10.6. سرورهای نام دامنه (DNS)" /><link
        rel="next"
        href="sect.network-diagnosis-tools.html"
        title="10.8. ابزار بررسی شبکه" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/fa-IR/stable/sect.dhcp.html" /></head><body
      dir="rtl"><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.domain-name-servers.html"><strong>قبلی</strong></a></li><li
          class="home">راهنمای جامع دبیان</li><li
          class="next"><a
            accesskey="n"
            href="sect.network-diagnosis-tools.html"><strong>بعدی</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.dhcp"></a>10.7. DHCP</h2></div></div></div><div
          class="para">
			DHCP (مخفف <span
            class="emphasis"><em>Dynamic Host Configuration Protocol</em></span>) پروتکلی است که رایانه از طریق آن اقدام به دریافت خودکار پیکربندی شبکه در زمان راه‌اندازی اولیه می‌کند. اینکار به فرآیند مدیریت مرکزی پیکربندی شبکه و اطمینان از اینکه تمام رایانه‌های رومیزی تنظیمات مشابهی دریافت می‌کنند کمک می‌کند.
		</div><a
          id="id-1.13.10.3"
          class="indexterm"></a><a
          id="id-1.13.10.4"
          class="indexterm"></a><a
          id="id-1.13.10.5"
          class="indexterm"></a><div
          class="para">
			یک سرور DHCP پارامترهای بسیاری را درباره شبکه فراهم می‌کند. متداول‌ترین آن‌ها نشانی IP و شبکه‌ای است که رایانه به آن تغلق دارد، اما می‌تواند اطلاعات دیگری نیز ارائه دهد، مانند سرورهای DNS و WINS و NTP و از این قبیل.
		</div><div
          class="para">
			کنسرسیوم نرم‌افزار اینترنت (که در توسعه <code
            class="command">bind</code> نیز مشارکت دارد) توسعه‌دهنده اصلی سرور DHCP است. بسته دبیان آن نیز <span
            class="pkg pkg">isc-dhcp-server</span> است.
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.dhcp-config"></a>10.7.1. پیکربندی</h3></div></div></div><div
            class="para">
				اولین عناصری که باید در فایل پیکربندی سرور DHCP (<code
              class="filename">/etc/dhcp/dhcpd.conf</code>) ویرایش شوند عبارتند از نام دامنه و سرورهای DNS. اگر این سرور در شبکه محلی تنها باشد (که توسط broadcast مشخص می‌شود) عبارت <code
              class="literal">authoritative</code> نیز باید فعال (از حالت توضیح خارج) شود. همچنین نیاز است که قسمت <code
              class="literal">subnet</code> برای شبکه محلی و اطلاعات پیکربندی مربوط به آن فراهم شود. نمونه پیش رو شبکه محلی <code
              class="literal">192.168.0.0/24</code> را با مسیریاب <code
              class="literal">192.168.0.1</code> که به عنوان gateway عمل می‌کند، متصل می‌سازد. نشانی‌های IP قابل دسترس در محدوده <code
              class="literal">192.168.0.128</code> تا <code
              class="literal">192.168.0.254</code> قرار دارند.
			</div><div
            class="example"><a
              xmlns=""
              id="example.dhcp-dhcpd.conf"></a><p
              class="title"><strong>
      مثال 10.15. گزیده‌ای از <code
                  class="filename">/etc/dhcp/dhcpd.conf</code></strong></p><div
              class="example-contents"><pre
                class="programlisting">
#
# Sample configuration file for ISC dhcpd for Debian
#

# The ddns-updates-style parameter controls whether or not the server will
# attempt to do a DNS update when a lease is confirmed. We default to the
# behavior of the version 2 packages ('none', since DHCP v2 didn't
# have support for DDNS.)
ddns-update-style interim;

# option definitions common to all supported networks...
option domain-name "internal.falcot.com";
option domain-name-servers ns.internal.falcot.com;

default-lease-time 600;
max-lease-time 7200;

# If this DHCP server is the official DHCP server for the local
# network, the authoritative directive should be uncommented.
authoritative;

# Use this to send dhcp log messages to a different log file (you also
# have to hack syslog.conf to complete the redirection).
log-facility local7;

# My subnet
subnet 192.168.0.0 netmask 255.255.255.0 {
    option routers 192.168.0.1;
    option broadcast-address 192.168.0.255;
    range 192.168.0.128 192.168.0.254;
    ddns-domainname "internal.falcot.com";
}</pre></div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.dhcp-dns"></a>10.7.2. DHCP و DNS</h3></div></div></div><a
            id="id-1.13.10.9.2"
            class="indexterm"></a><div
            class="para">
				یک ویژگی جالب امکان ثبت خودکار کلاینت‌های DHCP در منطقه DNS است، به طوری که هر رایانه یک نام مشخص دریافت کند (بجای چیزی غیرشخصی مانند <code
              class="literal">machine-192-168-0-131.internal.falcot.com</code>). استفاده از این ویژگی شامل پیکربندی سرور DNS برای پذیرش بروزرسانی منطقه <code
              class="literal">internal.falcot.com</code> از سرور DHCP و پیکربندی دیگری برای ارسال بروزرسانی هر قسمت می‌باشد.
			</div><div
            class="para">
				در مورد <code
              class="command">bind</code>، عبارت <code
              class="literal">allow-update</code> باید به هر منطقه‌ای که سرور DHCP قصد ویرایش آن را دارد اضافه گردد (یکی برای دامنه <code
              class="literal">internal.falcot.com</code> و دیگری برای منطقه معکوس آن). این عبارت فهرستی از نشانی‌های IP مجاز برای اجرای عملیات بروزرسانی را مشخص می‌کند؛ بنابراین باید شامل نشانی‌های احتمالی سرور DHCP باشد (در صورت نیاز، هم نشانی محلی هم نشانی عمومی).
			</div><pre
            class="programlisting">
allow-update { 127.0.0.1 192.168.0.1 212.94.201.10 !any };</pre><div
            class="para">
				آگاه باشید! منطقه‌ای که قابل ویرایش باشد توسط <code
              class="command">bind</code> تغییر <span
              class="emphasis"><em>خواهد</em></span> کرد و گزینه جدید فایل‌های پیکربندی موجود را از بین می‌برد. از آنجا که این فرآیند خودکارسازی فایل‌هایی را ایجاد می‌کند که برای خواندن دشوارتر از جایگزین‌های دستی خود هستند، مدیرسیستم‌های فالکوت دامنه <code
              class="literal">internal.falcot.com</code> را با یک سرور واگذارشده DNS مدیریت می‌کنند؛ یعنی فایل منطقه <code
              class="literal">falcot.com</code> با قدرت کامل در کنترل آن‌ها باقی خواهد ماند.
			</div><div
            class="para">
				گزیده پیکربندی سرور DHCP که در بالا مشاهده کردید هم اکنون شامل عبارت‌های مورد نیاز برای بروزرسانی منطقه DNS مورد نظر است: در بلوکی که به توضیح زیرشبکه می‌پردازد آن‌ها عبارتند از <code
              class="literal">ddns-update-style interim;</code> و <code
              class="literal">ddns-domain-name "internal.falcot.com";</code>.
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.domain-name-servers.html"><strong>قبلی</strong>10.6. سرورهای نام دامنه (DNS)</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>بالا</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>خانه</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.network-diagnosis-tools.html"><strong>بعدی</strong>10.8. ابزار بررسی شبکه</a></li></ul></body></html>
