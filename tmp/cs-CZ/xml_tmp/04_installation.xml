<?xml version='1.0' encoding='utf-8' ?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
]>
<chapter id="installation">
  <chapterinfo>
    <mediaobject condition="pdf">
      <imageobject>
        <imagedata fileref="images/chap-installation.png" scalefit="1" />
      </imageobject>
    </mediaobject>
    <keywordset>
      <keyword>Instalace</keyword>
      <keyword>Rozdělení</keyword>
      <keyword>Formátování</keyword>
      <keyword>Systém souborů</keyword>
      <keyword>Bootovací sektor</keyword>
      <keyword>Rozpoznání hardwaru</keyword>
    </keywordset>
  </chapterinfo>
  <title>Instalace</title>
  <highlights>
    <para>Aby jste mohli používat Debian, musíte ho na počítač nainstalovat; splnění tohoto úkolu zabezpečuje program <emphasis>debian-installer</emphasis>. Správná instalace zahrnuje mnoho operací. Tato kapitola se jim věnuje postupně chronologicky.</para>
  </highlights>
  <indexterm><primary>instalace</primary><secondary>systému</secondary></indexterm>

  <sidebar>
    <title><emphasis>ZPÁTKY K ZÁKLADŮM</emphasis> Doučovací kurz v přílohách</title>

    <para>Instalace počítače je vždy jednodušší, pokud je vám známo, jak funguje. Pokud ne, vemte to krátkou oklikou přes <xref linkend="short-remedial-course" /> před čtením této kapitoly. </para>
  </sidebar>

  <para>The installer for <emphasis role="distribution">Stretch</emphasis>
  is based on <command>debian-installer</command>. Its modular design
  enables it to work in various scenarios and allows it to evolve and adapt
  to changes. Despite the limitations implied by the need to support a
  large number of architectures, this installer is very accessible to
  beginners, since it assists users at each stage of the process. Automatic
  hardware detection, guided partitioning, and graphical user interfaces
  have solved most of the problems that newbies used to face in the
  early years of Debian.</para>
  <indexterm><primary>instalátor</primary></indexterm>
  <indexterm><primary><command>debian-installer</command></primary></indexterm>

  <para>Installation requires 128 MB of RAM (Random Access Memory) and at
  least 2 GB of hard drive space. All Falcot computers meet these
  criteria. Note, however, that these figures apply to the installation of
  a very limited system without a graphical desktop. A minimum of 512 MB
  of RAM and 10 GB of hard drive space are really recommended for a basic
  office desktop workstation.</para>

  <sidebar>
    <title><emphasis>BEWARE</emphasis> Upgrading from Jessie</title>

    <para>If you already have Debian Jessie installed on your computer, this
    chapter is not for you! Unlike other distributions, Debian allows
    updating a system from one version to the next without having to
    reinstall the system. Reinstalling, in addition to being unnecessary,
    could even be dangerous, since it could remove already installed
    programs.</para>

    <para>Proces upgradování bude popsán v <xref linkend="sect.dist-upgrade" />.</para>
  </sidebar>
  <section id="sect.installation-methods">
    <title>Metody instalace</title>

    <para>Systém Debian může být nainstalovaný z různých typů médií, pokud to BIOS daného zařízení umožní. Bootovat můžete například s CD-ROM, USB zařízením nebo třeba prostřednictvím sítě. </para>

    <sidebar>
      <title><emphasis>ZPĚT K ZÁKLADŮM</emphasis> BIOS, hardware/softwarové rozhraní</title>
      <indexterm><primary>BIOS</primary></indexterm>
      <indexterm><primary>základní systém vstupu/výstupu</primary></indexterm>

      <para>BIOS (z anglického Basic Input/Output System) je software, který je obsažený v základní desce (elektronické desce propojující všechna periferní zařízení) a spuštěný, když je počítač bootován, za účelem nahrání operačního systému (prostřednictvím uzpůsobeného bootloaderu). Stojí v pozadí a poskytuje rozhraní mezi hardwarem a softwarem (v našem případě Linuxovým jádrem).</para>
    </sidebar>
    <section id="sect.install-cd">
      <title>Instalace z CD-ROM/DVD-ROM</title>

      <para>Nejrozšířenější instalační metoda je z CD-ROM (nebo DVD-ROM, který se chová úplně stejně): počítač je bootován z tohoto média a instalační program se ujme své funkce.</para>

      
      <para>Various CD-ROM families have different purposes:
      <emphasis>netinst</emphasis> (network installation) contains the
      installer and the base Debian system; all other programs are
      then downloaded. Its “image”, that is the ISO-9660 filesystem
      that contains the exact contents of the disk, only takes up
      about 150 to 280 MB (depending on architecture).
      On the other hand, the complete set offers all packages and
      allows for installation on a computer that has no Internet access;
      it requires around 14 DVD-ROMs (or 3 Blu-ray disks). There is no
      more official CD-ROMs set as they were really huge, rarely used and
      now most of the computers use DVD-ROMs as well as CD-ROMs. But the
      programs are divided among the disks
      according to their popularity and importance; the first
      disk will be sufficient for most installations, since it
      contains the most used softwares.</para>

      <para>Potom je tu poslední obraz, známý jako <filename>mini.iso</filename>, který je dostupný pouze jako vedlejší produkt instalátoru. Tento obraz obsahuje pouze minimum potřebné k nastavení sítě a všechno ostatní je stáhnuto (včetně částí samotného instalátoru, což je důvod, proč mají tyto obrazy tendenci padat, když je vydána nová verze instalátoru). Tyto obrazy mohou být nalezeny na běžných zrcadlových serverech Debianu pod adresářem <filename>dists/<replaceable>release</replaceable>/main/installer-<replaceable>arch</replaceable>/current/images/netboot/</filename> directory.</para>
      <indexterm><primary><filename>mini.iso</filename></primary></indexterm>

      <sidebar>
        <title><emphasis>TIP</emphasis> Multi-architekturní disky</title>

	<para>Většina instalačních CD a DVD pracuje pouze s určitou hardwarovou architekturou. Pokud si přejete stáhnout komplentí obrazy, musíte pečlivě vybírat ty, které fungují na hardwaru počítače, na kterém si je přejete nainstalovat.</para>

	<para>Some CD/DVD-ROM images can work on several
	architectures. We thus have a CD-ROM image combining the
	<emphasis>netinst</emphasis> images of the
	<emphasis>i386</emphasis> and <emphasis>amd64</emphasis>
	architectures.</para>
      </sidebar>
      <indexterm><primary>CD</primary><secondary>instalační CD</secondary></indexterm>
      <indexterm><primary>CD</primary><secondary><emphasis>netinst CD</emphasis></secondary></indexterm>
      <indexterm><primary>DVD</primary><secondary>instalační DVD</secondary></indexterm>
      <indexterm><primary>DVD</primary><secondary><emphasis>netinst DVD</emphasis></secondary></indexterm>

      <para>To acquire Debian CD-ROM images, you may of course download
      them and burn them to disk. You may also purchase them, and, thus,
      provide the project with a little financial support. Check the
      website to see the list of DVD-ROM image vendors and download sites.
      <ulink type="block" url="http://www.debian.org/CD/index.html" />
      </para>
    </section>
    <section id="sect.install-usb">
      <title>Bootování z USB klíčenky</title>
      <indexterm><primary>USB klíčenka</primary></indexterm>

      <para>Protože je většina počítačů schopna bootovat z USB zařízení, můžete instalovat Debian také z USB klíčenky (což je v podstatě malý disk s flash pamětí).</para>

      <para>Instalační manuál vysvětluje, jak vytvořit USB klíčenku, která obsahuje <command>debian-installer</command>. Postup je velmi snadný, protože ISO obrazy pro i386 a amd64 jsou hybridní obrazy, které je možno bootovat jak z CD, tak z USB klíčenky.</para>

      <para>You must first identify the device name of the USB key
      (ex: <literal>/dev/sdb</literal>); the simplest means to do this
      is to check the messages issued by the kernel using the
      <command>dmesg</command> command. Then you must copy the
      previously downloaded ISO image (for example
      debian-9.0.0-amd64-netinst.iso) with the command
      <command>cat debian-9.0.0-amd64-netinst.iso &gt;/dev/sdb;
      sync</command>.  This command requires administrator rights,
      since it accesses the USB key directly and blindly erases its
      content.</para>

      <para>Detailnější vysvětlení je k dispozici v instalačním manuálu. Tak, jako ostatní věci, popisuje alternativní metodu přípravy USB klíčenky, která je složitější, ale umožňuje přizpůsobit přednastavené uživatelské volby (ty, které jsou nastaveny v příkazovém řádku jádra). <ulink type="block" url="http://www.debian.org/releases/stable/amd64/ch04s03.html" /></para>
    </section>
    <section id="sect.install-net">
      <title>Instalace za pomocí síťového bootování</title>
      <indexterm><primary>instalace</primary><secondary><emphasis>netboot instalace</emphasis></secondary></indexterm>
      <indexterm><primary>instalace</primary><secondary><emphasis>PXE instalace</emphasis></secondary></indexterm>
      <indexterm><primary>instalace</primary><secondary><emphasis>TFTP instalalace</emphasis></secondary></indexterm>

      <para>Mnoho BIOSů umožňuje bootování přímo ze sítě za použití stáhnutí obrazu jádra a minimálního systému souborů. Tato metoda (která se různě nazývá, jako <acronym>PXE</acronym> nebo <acronym>TFTP</acronym> bootování) nás může spasit, pokud počítač namá CD-ROM nebo pokud BIOS nemůže bootovat z takových médií.</para>

      <para>Tato instalační metoda pracuje ve dvou krocích. První, když při bootování počítače BIOS (nebo síťová karta) vytvoří BOOTP/DHCP požadavek na automatické získání IP adresy. Pokud server BOOTP nebo DHCP vrátí odezvu, zahrnuje jak jméno souboru, tak nastavení sítě. Po nastavení sítě, klientský počítač vydá TFTP (Trivial File Transfer Protocol) požadavek na soubor, jehož jméno bylo předtím oznámeno. Po jeho získání je tento soubor spuštěn jako by to byl bootloader. Ten poté nahodí instalační program Debianu, který je spuštěn, jako by běžel z harddisku, CD nebo USB klíčenky.</para>

      <para>Všechny detaily této metody jsou k dispozici v instalačním průvodci (sekci “Příprava souborů pro TFTP síťové bootování”). <ulink type="block" url="http://www.debian.org/releases/stable/amd64/ch05s01.html#boot-tftp" /> <ulink type="block" url="http://www.debian.org/releases/stable/amd64/ch04s05.html" /></para>
    </section>
    <section id="sect.install-auto">
      <title>Další metody instalace</title>

      <para>When we have to deploy customized installations for a large
      number of computers, we generally choose an automated rather than a
      manual installation method. Depending on the situation and the
      complexity of the installations to be made, we can use FAI (Fully
      Automatic Installer, described in <xref linkend="sect.fai" />), or even a
      customized installation DVD with preseeding (see <xref linkend="sect.d-i-preseeding" />).</para>
    </section>
  </section>
  <section id="sect.installation-steps">
    <title>Instalace, krok za krokem</title>
    <section id="sect.install-boot">
      <title>Bootování a nastartování instalátoru</title>

      <para>Jakmile se BIOS začne bootovat z CD nebo DVD-ROM, objeví se Isolinuxové menu bootloaderu. V této fázi ještě není Linuxové jádro nahráno; toto menu vám umožní si vybrat jádro, určené k bootování a zadat možné paramatry, které se k němu během procesu přenesou.</para>

      <para>For a standard installation, you only need to choose
      “Install” or “Graphical install” (with the arrow keys), then
      press the <keycap>Enter</keycap> key to initiate the remainder
      of the installation process. If the DVD-ROM is a “Multi-arch” disk,
      and the machine has an Intel or AMD 64 bit processor, those menu
      options enable the installation of the 64 bit variant
      (<emphasis>amd64</emphasis>) and the installation of the 32 bit
      variant remains available in a dedicated sub-menu (“32-bit install
      options”). If you have a 32 bit processor, you don't get a choice
      and the menu entries install the 32 bit variant
      (<emphasis>i386</emphasis>).
      </para>

      <sidebar>
        <title><emphasis>JDEME DÁLE</emphasis> 32 nebo 64 bit?</title>
        <indexterm><primary>PAE</primary></indexterm>
        <indexterm><primary>Nástavba fyzické adresy</primary></indexterm>
        <indexterm><primary>32/64 bit, volba</primary></indexterm>

	<para>Zásadní rozdíl mezi 32 a 64-bitovým systémem je velikost paměťových adres. Teoreticky nemůže 32-bitový systém pracovat s více než 4 GB RAM (2<superscript>32</superscript> bajtů). V praxi je možné toto omezení obejít za pomoci varianty jádra <literal>686-pae</literal>, za předpokladu, že procesor zvládá funkcionalitu PAE (nástavbu fyzické adresy). Každopádně, využití této možnosti má významný vliv na výkonnost systému. To je důvod, proč je užitečné použít 64-bitový mód na serverech s velkým objemem RAM.</para>

	<para>Pro kancelářský počítač (kde je nějaké to procento rozdílu ve výkonu zanedbatelné), musíte mít na mysli, že některé proprietární programy nejsou ve 64-bitové verzi k dispozici (jako je Skype například). Technicky je možné je přimět fungovat na 64-bitových systémech, musíte ale nainstalovat 32-bitové verze všech potřebných knihoven (více na <xref linkend="sect.multi-arch" />) a někdy použít <command>setarch</command> nebo <command>linux32</command> (v balíčku <emphasis role="pkg">util-linux</emphasis>) oklamat aplikace co do povahy systému. <indexterm><primary><command>setarch</command></primary></indexterm> <indexterm><primary><command>linux32</command></primary></indexterm></para>
      </sidebar>

      <sidebar>
        <title><emphasis>V PRAXI</emphasis> Instalace vedle existujícího systému Windows</title>
        <indexterm><primary>dvojí bootování</primary></indexterm>

	<para>Pokud na počítači již běží Windows, není nutné mazat systém za účelem instalování Debianu. Můžete mít současně oba systémy, každý nainstalovaný na jiném disku nebo oddělené části a vybírat, který nastartovat při bootování počítače. Toto nastavení je často nazýváno “dual boot” a instalační systém Debianu jej umožňuje nastavit. To se děje během fáze dělení harddiskové jednotky při instalaci a za nastavování bootloaderu (viz. postranní poznámky <xref linkend="sidebar.shrinking-partition" /> a <xref linkend="sidebar.bootloader-dual-boot" />).</para>

	<para>Pokud již máte funkční systém Windows, můžete se vyhnout používání CD-ROM; Debian nabízí program pro Windows, který stáhne odlehčený instalátor Debianu a nastaví jej na harddisku. Poté vám postačí pouze rebootovat počítač a vybrat si mezi normálním bootováním Windows a bootováním instalačního programu. Můžete jej také najít na speciální internetové stránce s vyčerpávajícím jménem… <ulink type="block" url="http://ftp.debian.org/debian/tools/win32-loader/stable/" /> <ulink type="block" url="http://www.goodbye-microsoft.com/" /></para>
      </sidebar>

      <sidebar>
        <title><emphasis>ZPĚT K ZÁKLADŮM</emphasis> Bootloader</title>
        <indexterm><primary>loader</primary><secondary>bootloader</secondary></indexterm>
        <indexterm><primary>bootloader</primary></indexterm>
        <indexterm><primary>boot</primary><secondary>loader</secondary></indexterm>

	<para>Bootloader je nízkoúrovňový program, který je odpovědný za bootování Linuxového jádra ihned, jakmile se BIOS vzdá kontroly. K zabezpečení tohoto úkolu musíte být schopni lokalizovat na disku Linuxové jádro, které má být bootováno. Na architekturách i386 a amd64 jsou k provedení tohoto úkolu nejpoužívanější starší z těchto dvou LILO a GRUB, jeho novodobá náhrada. Isolinux a Syslinux jsou často používané alternativy pro bootování z odnímatelných médií.</para>
      </sidebar>

      <para>Každý vstup menu skrývá specifický bootovací příkazový řádek, který může být v případě potřeby nakonfigutován zmáčknutím klávesy <keycap>TAB</keycap> před potvrzením vstupu a bootováním. Vstup menu “Help” zobrazuje staré rozhraní příkazového řádku, kde klávesy <keycap>F1</keycap> až <keycap>F10</keycap> zobrazují rozdílné pomocné obrazovky upřesňující různé dostupné možnosti k zadání. Zřídkakdy budete používat tuto možnost vyjma některých velmi zvláštních případů.</para>

      <para>Mód s názvem “expert” (přístupný v menu “Advanced options”) upřesňuje veškeré možné volby v procesu instalace a umožňuje navigaci mezi různými kroky bez jejich automatického provedení v posloupnosti. Buďte opatrní, tento upovídaný mód může být matoucí kvůli spoustě konfiguračních možností, které nabízí.</para>

      <figure>
        <title>Bootovací obrazovka</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-boot.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Once booted, the installation program guides you step by
      step throughout the process. This section presents each of these
      steps in detail. Here we follow the process of an installation
      from an amd64 DVD-ROM (more specifically, the rc3 version
      of the installer for Stretch); <emphasis>netinst</emphasis>
      installations, as well as the final release of the installer,
      may look slightly different. We will also address installation
      in graphical mode, but the only difference from “classic”
      (text-mode) installation is in the visual appearance.</para>
    </section>
    <section id="sect.install-lang">
      <title>Výběr jazyka</title>
      <indexterm><primary>volba</primary><secondary>jazyka</secondary></indexterm>

      <para>Instalční program začíná v angličtině, ale první krok umožňuje uživateli si vybrat jazyk, který bude používat po zbytek procesu. Například při výběru francouzštiny, se provede instalace kompletně přeložená do francouzštiny (a systém bude ve výsledku také ve francouzštině). Tato volba je také použita k definování dalších důležitých přednastavených možností v následujících krocích (především rozvržení klávesnice).</para>

      <sidebar>
        <title><emphasis>ZPĚT K ZÁKLADŮM</emphasis> Navigování za pomocí klávesnice</title>

	<para>Některé kroky v instalačním procesu vyžadují vložení informací. Tyto obrazovky mají různé oblasti, které mohou mít svá zaměření (místa pro vložení textu, okénka na zatrhávání, seznamy možností, tlačítka OK a Cancel) a klávesa <keycap>TAB</keycap> vám umožní se přemisťovat z jednoho na druhé.</para>

	<para>V grafickém módu můžete požívat myš, stejně jako v normálním nainstalovaném grafickém prostředí.</para>
      </sidebar>

      <figure role="flow.inline">
        <title>Výběr jazyka</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-lang.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-lang-txt.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section id="sect.install-country">
      <title>Výběr země</title>
      <indexterm><primary>volba</primary><secondary>země</secondary></indexterm>

      <para>Druhý krok spočívá ve výběru země. V kombivaci s jazykem tato informace umožňuje programu nabídnout to nejvhodnější rozložení klávesnice. To také ovlivní nastavení časové zóny. Ve Spojených státech je doporučena standardní klávesnice QWERTY a nabídnuta volba vhodné časové zóny.</para>

      <figure role="flow.inline">
        <title>Výběr země</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-country.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-country-txt.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section id="sect.install-keyboard">
      <title>Výběr rozložení klávesnice</title>
      <indexterm><primary>rozložení klávesnice</primary></indexterm>
      <indexterm><primary>rozložení, klávesnice</primary></indexterm>

      <para>Navrhnutá “American English” klávesnice odpovídá obvyklému QWERTY rozložení.</para>

      <figure role="flow.inline">
        <title>Volba klávesnice</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-keyboard.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-keyboard-txt.png" scalefit="1" width="50%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section id="sect.install-detect-hardware">
      <title>Rozeznávání hardwaru</title>

      <para>Tento krok je plně automatický v drtivé většině případů. Instalátor rozezná hardware a pokusí se identifikovat jednotku CD-ROM použitou za účelem přístupu k jejímu obsahu. Nahraje moduly odpovídající různým rozpoznaným hardwarovým komponentům a potom “nastaví” CD-ROM za účelem čtení z něho. Předcházející kroky byly zcela zahrnuty v bootovacím obrazu obsaženém na CD - souboru omezené velikosti a nahrány do paměti BIOSem za bootování z CD.</para>

      <para>Instalátor je schopen pracovat s drtivou většinou jednotek, především se standardními ATAPI periferními zařízeními (někdy nazývanými IDE a EIDE). Každopádně, pokud rozpoznávání CD-ROM selže, instalátor nabídne možnost nahrát modul jádra (například z USB klíčenky) odpovídající jednotce CD-ROM.</para>
    </section>
    <section id="sect.install-load-components">
      <title>Nahrávání komponentů</title>

      <para>S nyní přístupným obsahem CD, instalátor nahraje všechny soubory potřebné k pokračování ve své činnosti. To zahrnuje přídavné jednotky pro zbývající hardware (obzvláště síťovou kartu), stejně, jako všechny komponenty instalačního programu.</para>
    </section>
    <section id="sect.install-detect-network">
      <title>Rozeznávání síťového hardwaru</title>

      <para>Tento automatický krok se pokouší identifikovat síťovou kartu a nahrát odpovídající modul. Pokud je automatické rozpoznávání neúspěšné, můžete manuálně vybrat modul, který se má nahrát. Pokud nefunguje žádný modul, je možné nahrát odpovídající modul z odnímatelného zařízení. Toto poslední řešení je potřeba pouze pokud není vhodná jednotka zahrnuta ve standardním Linuxovém jádru, ale k dispozici někde jinde, jako třeba na stránkách výrobce.</para>

      <para>Tento krok musí být nutně úspěšný pro <emphasis>netinst</emphasis> instalace, protože balíčky Debianu se musí nahrát ze sítě.</para>
    </section>
    <section id="sect.install-network-config">
      <title>Nastavení sítě</title>
      <indexterm><primary>nastavení</primary><secondary>sítě</secondary><tertiary>statické</tertiary></indexterm>
      <indexterm><primary>nastavení</primary><secondary>sítě</secondary><tertiary>DHCP</tertiary></indexterm>

      <para>Za účelem maximálního možného zautomatizování procesu, se instalátor pokouší o automatické síťové nastavení za pomocí DHCP (pro IPv4) a IPv6 prozkoumávání sítě. Pokud toto selže, nabídne další možnosti: zkuste znovu normální DHCP konfiguraci, pokuste se o nastavení za pomocí deklarace jména zařízení nebo nastavte statickou síťovou konfiguraci.</para>

      <para>Tato poslední možnost vyžaduje IP adresu, masku podsítě, IP adresu pro potenciální brány, jméno zařízení a doménové jméno.</para>

      <sidebar>
        <title><emphasis>TIP</emphasis> Nastavení bez DHCP</title>

	<para>Pokud je místní síť vybavená DHCP serverem, který si nepřejete použít z toho důvodu, že preferujete stanovit statickou IP adresu zařízení během instalace, můžete přidat <userinput>netcfg/use_dhcp=false</userinput> možnost během bootování z CD-ROM. Musíte pouze vstoupit do požadované položky menu stisknutím klávesy <keycap>TAB</keycap> a zadat zamýšlenou volbu před stisknutím klávesy <keycap>Enter</keycap>.</para>
      </sidebar>

      <sidebar>
        <title><emphasis>MĚJTE SE NA POZORU</emphasis> Neimprovizujte</title>

	<para>Mnoho místních sítí je založeno na vlastním předpokladu, že všechna zařízení jsou důvěryhodná a nedostatečné nastavení jednoho počítače často nadělá starosti celé síti. Z toho plyne, nezapojujte zařízení do sítě, aniž by jste se nejdříve nedohodli s jeho správcem na odpovídajícím nastavení (například IP adrese, masce sítě a adrese pro broadcast).</para>
      </sidebar>
    </section>
    <section>
      <title>Heslo administrátora</title>
      <indexterm><primary>účet</primary><secondary>administrátorský účet</secondary></indexterm>

      <para>Kořenový účet super-uživatele, rezervovaný pro správce zařízení, je automaticky vytvořen během instalace; z toho důvodu je požadováno heslo. Instalátor také zažádá o potvrzení tohoto hesla, aby předešel chybě při zadávání, která by se později obtížně napravovala.</para>

      <figure>
        <title>Heslo administrátora</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-rootpw.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>

      <sidebar>
        <title><emphasis>BEZPEČNOST</emphasis> Heslo správce</title>

	<para>Heslo kořenového uživatele by mělo být dlouhé (8 znaků nebo více) a těžko k uhádnutí. Samozřejmě, jakýkoliv počítač (a tím spíše jakýkoliv server) připojený na internet bývá běžně terčem automatických pokusů o připojení za pomoci nejběžnějších hesel. Někdy může být dokonce i předmětem slovníkových útoků, kdy je jako potenciální heslo testováno množství kombinací slov a čísel. Vyhněte se používání jmen dětí a rodičů, datumů narození apod.: mnoho vašich spolupracovníků je může znát a málokdy jim chcete dát volný přístup k danému počítači.</para>

	<para>Tyto poznámky se stejně hodí i pro hesla ostatních uživatelů, ale následky nalomeného účtu nejsou tak drastické pro uživatele bez správcovských práv.</para>

	<para>Pokud dochází inspirace, neváhejte použít generátory hesel, jako je <command>pwgen</command> (v balíčku pod tím samým jménem).</para>
      </sidebar>
    </section>
    <section>
      <title>Vytvoření prvního uživatele</title>

      <para>Debian také vyžaduje vytvoření účtu běžného uživatele, takže se administrátor vyvaruje špatného návyku pracovat jako uživatel s nejvyšším oprávněním (root). Tento preventivní princip v podstatě znamená, že každá úloha je provedena s minimálními požadovanými právy, za účelem omezení škod způsobených lidským faktorem. To je důvod, proč instalátor žádá celé jméno tohoto prvního uživatale, jeho uživatelské jméno a heslo (dvakrát, aby se zabránilo chybnému zadání).</para>

      <figure>
        <title>Jméno prvního uživatele</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-username.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section id="sect.install-clock-config">
      <title>Nastavení hodin</title>

      <para>Pokud je k dispozici síť, jsou systémové hodiny aktualizovány (způsobem jednoho pokusu) z NTP serveru. Takto budou časová razítka na záznamech správná od prvního bootování. Aby zůstala i nadále stále přesná, musí být po počáteční instalaci nařízeni NTP démoni (více na <xref linkend="sect.time-synchronization" />).</para>
    </section>
    <section id="sect.install-detect-disks">
      <title>Rozpoznávání disků a dalších zařízení</title>

      <para>Tento krok automaticky rozpozná pevné paměťové jednotky, na které může být Debian nainstalován. Ty budou prezentovány v dalším kroku: dělení.</para>
    </section>
    <section id="sect.install-partman">
      <title>Spuštění dělícího nástroje</title>
      <indexterm><primary>dělení</primary></indexterm>

      <sidebar>
        <title><emphasis>KULTURA</emphasis> Použití dělení</title>

	<para>Dělení, nezbytný krok instalace, spočívá v rozdělení dostupného místa na pevné paměťové jednotce (každá sekce se potom nazývá “díl”) podle dat, která budou na něm uložena a použití, pro které je počítač určen.</para>
      </sidebar>

      <para>Dělení je tradičně obtížné pro nové uživatele. Je nezbytné definovat různé části disku (nebo “díly”) na kterých bude Linuxový systém souborů a virtuální paměti (swapu) uložen. Tento úkol je komplikovaný, pokud je na zařízení již jiný operační systém, který chcete zachovat. Samozřejmě, musíte se potom ujistit, že jste neupravili jeho oddíly (nebo nezměnili jejich velikost a způsobili poškození).</para>

      <para>Naštěstí, software na dělení má “průvodcovský” mód, který doporučí, jaké dělení provést — ve většině případů, můžete jednoduše potvrzovat návrhy tohoto softwaru.</para>

      <figure>
        <title>Výběr dělícího módu</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-partman.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>The first screen in the partitioning tool offers the choice of
      using an entire hard drive to create various partitions. For a (new)
      computer which will solely use Linux, this option is clearly the
      simplest, and you can choose the option “Guided - use entire
      disk”. If the computer has two hard drives for two operating
      systems, setting one drive for each is also a solution that can
      facilitate partitioning. In both of these cases, the next screen
      offers to choose the disk where Linux will be installed by selecting
      the corresponding entry (for example, “SCSI3 (0,0,0) (sda) - 17.2
      GB ATA VBOX HARDDISK”). You then start guided partitioning.</para>

      <figure>
        <title>Disk, pro který se použije řízené dělení</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-partman-disk.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Řízené dělení může také nastavit LVM logické objemy narozdíl od oddílů (viz. níže). Protože zbytek operace je stejný, nebudeme procházet možnost “Řízené - použij celý disk a nastav LVM” (kódované či ne) až do konce.</para>

      <para>V ostatních případech, pokud Linux bude pracovat vedle již existujících oddílů, musíte zvolit manuální dělení</para>
      <section id="sect.install-autopartman-mode">
        <title>Řízené dělení</title>
        <indexterm><primary>dělení</primary><secondary>řízené dělení</secondary></indexterm>

	<para>Nástroj pro řízené dělení nabízí tři dělící metody, které odovídají různým použitím.</para>

        <figure>
          <title>Řízené dělení</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/inst-autopartman-mode.png" scalefit="1" width="65%" />
            </imageobject>
          </mediaobject>
        </figure>

	<para>První metoda se jmenuje “Všechny soubory do jednoho oddílu”. Celý Linuxový systémový strom je uložen do jednoho souborového systému, odpovídajícímu kořenovému <filename>/</filename> adresáři. Toto jednoduché a robustní dělení se bezvadně hodí pro osobní systémy nebo systémy určené pro jednoho uživatele. V podstatě budou vytvořeny dva oddíly: první bude domovem pro celý systém, druhý  pro virtuální paměť (swap).</para>

	<para>Druhá metoda, “Oddělený <filename>/home/</filename> oddíl”, je podobná, ale rozdělí hierarchii souborů do dvou: jeden oddíl obsahuje systém Linuxu (<filename>/</filename>) a druhý obsahuje “domovské adresáře” (tím jsou míněna uživatelská data v souborech a podadresářích přístupných pod <filename>/home/</filename>).</para>

	<para>Poslední metoda dělení se nazývá “Oddělené <filename>/home</filename>, <filename>/var</filename>, a <filename>/tmp</filename> oddíly” a je vhodná pro servery a systémy s více uživateli. Rozdělí souborový strom do mnoha oddílů: navíc ke kořenu (<filename>/</filename>) a oddílům uživatelských kont (<filename>/home/</filename>), má také oddíly pro serverová softwarová data (<filename>/var/</filename>) a dočasné soubory (<filename>/tmp/</filename>). Tato dělení mají pár výhod. Uživatelé nemohou uzamknout server tím, že spotřebují veškeré volné místo na pevné paměťové jednotce (mohou pouze naplnit <filename>/tmp/</filename> a <filename>/home/</filename>). Data démonů (především logy) již více nemohou ucpat zbytek systému.</para>

        <sidebar>
          <title><emphasis>ZPĚT K ZÁKLADŮM</emphasis> Výběr systému souborů</title>
          <indexterm><primary>systém</primary><secondary>systém souborů</secondary></indexterm>
          <indexterm><primary>soubor</primary><secondary>systém</secondary></indexterm>

	  <para>A filesystem defines the way in which data is
	  organized on the hard drive. Each existing filesystem has
	  its merits and limitations. Some are more robust, others
	  more effective: if you know your needs well, choosing the
	  most appropriate filesystem is possible. Various comparisons
          have already been made; it seems that <emphasis>ReiserFS</emphasis> is
	  particularly efficient for reading many small files;
	  <emphasis>XFS</emphasis>, in turn, works faster with large
	  files. <emphasis>Ext4</emphasis>, the default filesystem for
	  Debian, is a good compromise, based on the three previous
	  versions of filesystems historically used in Linux
	  (<emphasis>ext</emphasis>, <emphasis>ext2</emphasis> and
	  <emphasis>ext3</emphasis>). <emphasis>Ext4</emphasis>
	  overcomes certain limitations of <emphasis>ext3</emphasis>
	  and is particularly appropriate for very large capacity hard
	  drives.  Another option would be to experiment with the very
	  promising <emphasis>btrfs</emphasis>, which includes
	  numerous features that require, to this day, the use of LVM
	  and/or RAID.</para>

	  <para>Žurnálovací souborové systémy (jako jsou <emphasis>ext3</emphasis>, <emphasis>ext4</emphasis>, <emphasis>btrfs</emphasis>, <emphasis>reiserfs</emphasis>, nebo <emphasis>xfs</emphasis>) činí speciální opatření, aby byl možný návrat k poslenímu konzistentnímu stavu po neočekávaném přerušení bez kompletní analýzy celého disku (což byl případ <emphasis>ext2</emphasis> systému). Tato funkčnost je prováděna za pomocí vyplňování žurnálu, který popisuje operace, které se mají provést před jejich skutečným provedením. Pokud je nějaké oprace přerušena, bude ji možné z tohoto žurnálu “znovu přehrát”. A naopak, pokud se vyskytne nějaké přerušení během aktualizace žurnálu, poslední požadovaná změna je jednoduše ingnorována; data, co byla zapisována mohou být ztracena, ale protože data na disku se nezměnila, zůstávají konzistentní. Není to nic jiného, než transakční mechanismus uplatněný na systému souborů.</para>
        </sidebar>

	<para>Po vybrání typu dělení, software vypočítá návrh a popíše ho na obrazovce; uživatel jej potom může, pokud je to zapotřebí, pozměnit. Můžete si zejména zvolit jiný systém souborů, pokud standardní volba (<emphasis>ext4</emphasis>) není vhodná. Ve většině případů ovšem bývá navrhované dělení opodstatněné a může být odsouhlaseno zvolením možnosti “Ukonči dělení a zapiš změny na disk”.</para>

        <figure>
          <title>Potvrzení dělení</title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/inst-partman-validation.png" scalefit="1" width="65%" />
            </imageobject>
          </mediaobject>
        </figure>
      </section>
      <section id="sect.manual-partitioning">
        <title>Manuální dělení</title>
        <indexterm><primary>dělení</primary><secondary>manuální dělení</secondary></indexterm>

	<para>Manuální dělení nabízí větší flexibilitu tím, že umožňuje uživateli vybrat účel a velikost každého oddílu. Navíc, tento mód je nevyhnutelný, pokud si přejete použít softwarové RAID.</para>

        <sidebar id="sidebar.shrinking-partition">
          <title><emphasis>V PRAXI</emphasis> Zmenšení oddílu Windows</title>
          <indexterm><primary>změna velikosti oddílu</primary></indexterm>
          <indexterm><primary>změnit velikost oddílu</primary></indexterm>

	  <para>Pro instalaci Debianu vedle již existujícího operačního systému (Windows nebo jiného), musíte mít nějaké místo na pevné paměťové jednotce, co není používáno jiným systémem, aby jste byli schopni vytvořit oddíly určené Debianu. Ve většině případů to znamená zmenšení oddílu pro Windows a znovupoužití uvolněného místa.</para>

	  <para>Instalátor Debianu umožňuje tuto operaci, pokud použijete manuální mód pro dělení. Musíte pouze vybrat oddíl Windows a zadat jeho novou velikost (funguje to stejně s oběma oddíly FAT i NTFS).</para>
        </sidebar>

	<para>První obrazovka zobrazuje dostupně disky, jejich oddíly a možné volné místo, co ještě nebylo děleno. Můžete vybrat každý zobrazený element; stisknutím klávesy <keycap>Enter</keycap> potom dostanete seznam možných akcí.</para>

	<para>Můžete smazat všechny oddíly na disku, tím, že je vyberete.</para>

	<para>Jakmile vyberete volné místo na disku, můžete manuálně vytvořit nové dělení. To ovšem lze udělat také za pomoci řízeného dělení, což je zajímavé řešení pro disk, který již obsahuje jiný operační systém, ale který můžete chtít dělit pro Linux normálním způsobem. Více o řízeném dělení naleznete na <xref linkend="sect.install-autopartman-mode" />.</para>

        <sidebar>
          <title><emphasis>ZPĚT K ZÁKLADŮM</emphasis> Přípojný bod</title>
          <indexterm><primary>přípojný bod</primary></indexterm>
          <indexterm><primary>bod, přípojný bod</primary></indexterm>

	  <para>Přípojný bod je adresářový strom, který poskytuje útočíště obsahu souborového systému na vybraném oddílu. A tak, oddíl připojený na <filename>/home/</filename> je tradičně určený k tomu, aby obsahoval uživatelská data.</para>

	  <para>Pokud je adresář nazvaný “<filename>/</filename>”, je známý jako <emphasis>kořen</emphasis> souborového systému a tedy jako kořen oddílu, který bude ve skutečnosti hostit systém Debianu.</para>
        </sidebar>

        <sidebar>
          <title><emphasis>ZPĚT K ZÁKLADŮM</emphasis> Virtuální paměť, swap</title>
          <indexterm><primary>virtuální paměť</primary></indexterm>
          <indexterm><primary>swap</primary></indexterm>
          <indexterm><primary>oddíl</primary><secondary>swapový oddíl</secondary></indexterm>
          <indexterm><primary>swapový oddíl</primary></indexterm>

	  <para>Virtuální paměť umožňuje Linuxovému jádru, v případě nedostatku paměti (RAM), uvolnit kousek místa tím, že uloží části RAM, které byly neaktivní nějaký čas do oddílu pro swap na pevném disku.</para>

	  <para>K simulaci přídavné paměti Windows používá swapový soubor, který je přímo zahrnut v souborovém systému. Naproti tomu Linux používá oddíl vyčlěněný pro tento účel, odtud název “swapový oddíl”.</para>
        </sidebar>

	<para>Při výběru dělení můžete označit způsob, jakým jej budete používat.</para>
        <itemizedlist>
          <listitem>
	    <para>naformátovat jej do souborovém stromu výběrem přípojného bodu;</para>
          </listitem>
          <listitem>
	    <para>požít jej jako swapový oddíl;</para>
          </listitem>
          <listitem>
	    <para>začlenit jej do “fyzického svazku pro zakódování” (za účelem chránit důvěrnost dat na určitém oddílu, viz. níže);</para>
          </listitem>
          <listitem>
	    <para>udělat z něj “fyzický svazek pro LVM” (tento postup je detailněji popsán později v této kapitole);</para>
          </listitem>
          <listitem>
	    <para>použít jej jako zařízení RAID (viz. dále v této kapitole);</para>
          </listitem>
          <listitem>
	    <para>můžete si také vybrat jej nepoužívat, v tom případě to nechat nezměněné.</para>
          </listitem>
        </itemizedlist>
      </section>
      <section id="sect.install-software-raid">
        <title>Nastavení vícediskových zařízení (softwarový RAID)</title>
        <indexterm><primary>RAID</primary><secondary>softwarový RAID</secondary></indexterm>
        <indexterm><primary>softwarový RAID</primary></indexterm>
        <indexterm><primary>zařízení</primary><secondary>vícediskové zařízení</secondary></indexterm>

	<para>Některé typy RAID umožňují zdvojení informací uložených na pevných paměťových jednotkách za účelem prevence ztráty dat v případě, že jednu z nich postihne hardwarový problém. Úroveň 1 uchovává prostou, identickou kopii (zrcadlo) pevné paměťové jednotky na jiné jednotce, zatímco úroveň 5 RAID rozdělí záložní data na různé disky, čímž umožňuje kompletní rekonstrukci zhrouceného disku.</para>

	<para>Popíšeme pouze úroveň 1 RAID, která se nejsnadněji realizuje. První krok zahrnuje vytvoření dvou oddílů o stejné velikosti, které se nacházejí na dvou rozdílných pevných paměťových jednotkách a jejich označení “fyzický svazek pro RAID”.</para>

	<para>Potom musíte zvolit “nastavit software RAID” v dělícím nástroji, abychom zkombinovali tyto dva oddíly do nového virtuálního disku a vybrat “vytvořit MD zařízení” na nastavovací obrazovce. Následně je zapotřebí zodpovědět sadu otázek o tomto novém zařízení. První dotaz se týká úrovně RAID, která se má použít a která je v našem případě “RAID1”. Druhá otázka je o počtu aktivních zařízení — v našem případě dvou, což je počet oddílů, které mají být zahrnuty v tomto MD zařízení. Další otázka je dotaz na počet záložních zařízení — 0; neplánovali jsme žádný přídavný disk, který by zaskočil za disk s případným defektem. Poslední otázka po vás požaduje výběr oddílů pro RAID zařízení — to budou právě ty dva, které jsme vyčlenili pro tento účel (ujistěte se, že jste vybrali oddíly, které výslovně zmiňují “raid”).</para>

	<para>Zpátky ke hlavnímu menu, objeví se nový virtuální disk “RAID”. Tento disk představuje jeden oddíl, který nemůže být vymazán, ale jehož použití si můžeme zvolit (stejně jako pro každý jiný oddíl).</para>

	<para>Pro další detaily o funkcích RAID prosím přejděte na <xref linkend="sect.raid-soft" />.</para>
      </section>
      <section id="sect.install-lvm">
        <title>Nastavení řízení logických disků (LVM)</title>
        <indexterm><primary>LVM</primary><secondary>během instalace</secondary></indexterm>
        <indexterm><primary>Řízení logických disků</primary><secondary>během instalace</secondary></indexterm>

	<para>LVM vám umožňuje vytvořit “virtuální” oddíly, které se přesahují několik disků. Výhody jsou dvojí: jednak velikost oddílů již více není limitovaná jednotlivými disky, ale součtem jejich objemů a jednak můžete kdykoliv změnit velikost již existujících oddílů, třeba po přidání dodatečného disku, v případě potřeby.</para>

	<para>LVM používá specifickou tetminologii: virtuální oddíl je “logický oddíl”, který je částí “svazku” nebo sdružením několika “fyzických oddílů”. Každý z těchto termínů v podstatě odpovídá “reálnému” oddílu (nebo zařízení softwarového RAID).</para>
        <indexterm><primary>oddíl</primary><secondary>logický oddíl</secondary></indexterm>
        <indexterm><primary>oddíl</primary><secondary>fyzický oddíl</secondary></indexterm>
        <indexterm><primary>svazek</primary><secondary>oddílů</secondary></indexterm>
        <indexterm><primary>oddíl</primary><secondary>svazek</secondary></indexterm>

	<para>Tato technika funguje velice jednoduchým způsobem: každý oddíl, ať už fyzický nebo logický, je rozčleněn do bloků o stejné velikosti, které jsou vytvořeny tak, aby odpovídaly LVM. Přidání nového disku způsobí vytvoření nového fyzického oddílu a tyto bloky mohou být přiřazeny do ktoréhokoliv svazku. Všechny oddíly ve svazku, který je takto rozšířen mají přídavné místo, kam se mohou rozšířit.</para>

	<para>Dělící nástroj nastavuje LVM v několika krocích. Nejdříve musíte vytvořit na stávajícím disku oddíly, které se stanou “fyzickými oddíly pro LVM”. K aktivaci LVM musíte zvolit “Nastavit řízení logických disků (LVM)”, poté na té samé obrazovce “Vytvořit svazek”, ke kterému přiřadíte současné fyzické oddíly. Nakonec můžete vytvořit logické oddíly v rámci tohoto svazku. Vězte, že automatický systém dělení může provést všechny tyto kroky automaticky.</para>

	<para>V menu dělení se každý fyzický oddíl objeví jako disk s jedním oddílem, který nemůže být smazán, ale který můžete dle libosti využívat.</para>

	<para>Použití LVM je detailněji popsáno v <xref linkend="sect.lvm" />.</para>
      </section>
      <section>
        <title>Zřízení zakódovaných oddílů</title>
        <indexterm><primary>LUKS</primary></indexterm>
        <indexterm><primary>dm-crypt</primary></indexterm>
        <indexterm><primary>dělení</primary><secondary>zakódované</secondary></indexterm>
        <indexterm><primary>zakódování oddílu</primary></indexterm>
        <indexterm><primary>důvěrnost</primary><secondary>soubory</secondary></indexterm>
        <indexterm><primary>soubor</primary><secondary>důvěrnost</secondary></indexterm>

	<para>K zajištění důvěrnosti vašich dat, například v případě ztráty nebo krádeže vašeho počítače nebo pevné paměťové jednotky, je možné zakódovat data na některých oddílech. Tato funkce může být přidána pod kterýkoliv souborový systém, proto, stejně jako pro LVM, Linux (a konkrétně dm-crypt ovladač) používá mapovač zařízení k vytvoření virtuálního oddílu (jehož obsah je chráněn) založeného na pod ním se nalézajícím oddílu, na kterém budou uložena data v kódované formě (díky LUKS, Linuxovému unifikovanému klíčovému nastavení, standardnímu formátu, který umožňuje uložení zakódovaných dat, stejně jako meta-informace, které označují použitý kódovací algoritmus).</para>

        <sidebar id="sidebar.encrypted-swap-partition">
          <title><emphasis>BEZPEČNOST</emphasis> Kódovaný swapový oddíl</title>

	  <para>Jakmile je použitý kódovaný oddíl, kódovací klíč je uložen v paměti (RAM). Protože vyvolání tohoto klíče umožňuje dekódování dat, je nadmíru důležité předejít tomu, abychom zanechali kopii tohoto klíče dostupnou případným zlodějům počítače nebo pevné paměťové jednotky nebo technikovi údržby. To se může velice snadno stát v případě laptopu, protože při jeho hibernaci je obsah RAM uložen ve swapovém oddílu. Když tento oddíl není zakódován, může mít zloděj přístup ke klíči a použít jej k dekódování dat ze zakódovaného oddílu. To je důvod, proč při používání kódovaných oddílů je nezbytně nutné zakódovat také swapový oddíl!</para>

	  <para>Instalátor Debianu varuje uživatele, pokud se pokusí vytvořit kódovaný oddíl, zatímco swapový oddíl kódovaný není.</para>
        </sidebar>

	<para>Pro vytvoření kódovaného oddílu musíte nejdříve určit oddíl k tomuto účelu, který je k dispozici. Aby jste tak učinili, vyberte oddíl a označte jej, že bude použit jako “fyzický oddíl pro zakódování”. Po dělení disku, které obsahovalo fyzický oddíl, který měl být vytvořen, vyberte “Nastavit kódované oddíly”. Software potom navrhne nastartování fyzického oddílu náhodnými daty (čímž více ztíží lokalizaci skutečných dat) a požádá vás o zadání “kódovací vstupní fráze”, kterou budete muset vždy zadat při bootování vašeho počítače, aby jste získali přístup k obsahu zakódovaného oddílu. Jakmile dokončíte tento krok a vrátíte se do menu dělícího nástroje, nové dělení bude k dispozici v “zakódovaném oddílu”, které můžete nastavit jako každé jiné dělení. Ve většině případů je toto dělení použito jako fyzický oddíl pro LVM a tím se chrání několik oddílů (logických oddílů LVM) stejným kódovacím klíčem, včetně swapového oddílu (viz. postranní poznámka <xref linkend="sidebar.encrypted-swap-partition" />).</para>
      </section>
    </section>
    <section>
      <title>Instalace základního systému</title>
      <indexterm><primary>systém</primary><secondary>základní</secondary></indexterm>

      <para>Tento krok, který nevyžaduje žádnou interakci uživatele, nainstaluje balíčky “základního systému”. To zahrnuje nástroje <command>dpkg</command> a <command>apt</command>, které organizují balíčky Debianu, stejně jako programy nezbytné k bootování systému a jeho užívání.</para>

      <figure>
        <title>Instalace základního systému</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-basesystem.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section>
      <title>Nastavení manažera balíčků (<command>apt</command>)</title>
      <indexterm><primary>nastavení</primary><secondary>počáteční nastavení APT</secondary></indexterm>
      <indexterm><primary>APT</primary><secondary>počáteční nastavení</secondary></indexterm>

      <para>Abychom byli schopni nainstalovat další sofrware, APT musí být nastaven a instruován, kde má najít balíčky Debianu. Tento krok je v maximální míře zautomatizován. Začíná dotazem, zda musí použít zdroj balíčků v síti nebo zda má pouze hledat balíčky na CD-ROM.</para>

      <sidebar>
        <title><emphasis>ZPRÁVA</emphasis> Debian CD-ROM v jednotce</title>

	<para>Pokud instalátor zaznamená instalační disk Debianu ve čtecím zařízení CD/DVD, není nutné nastavovat APT k vyhledánání balíčků na síti: APT je automaticky nastaven ke čtení balíčků z jednotky odnímatelného média. Pokud je disk součástí sady, software nabídne “prohledat” další disky za účelem projití všech balíčků na nich uložených.</para>
      </sidebar>

      <para>Pokud je požadováno, aby byly balíčky vzaty ze sítě, další dvě otázky umožní výběr serveru, ze kterého se mají balíčky stáhnout, nejdříve prostřednictvím výběru země a potom kopie datového úložiště, které je v dané zemi k dispozici (v doslovném překladu zrcadla - veřejného serveru, na kterém jsou kopie všech souborů hlavního archivu Debianu).</para>

      <figure>
        <title>Výběr kopie datového úložiště Debianu</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-mirror.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>Nakonec program nabídne použití HTTP proxy serveru. Pokud proxy server není, přístup k internetu bude napřímo. Pokud napíšete <literal>http://proxy.falcot.com:3128</literal>, APT použije Falcot <foreignphrase>proxy/cache</foreignphrase>, program “Squid”. Tato nastavení můžete nalézt, když prohlédnete nastavení internetového prohlížeče na jiném zařízení připojeného k té samé síti.</para>

      <para>The files <filename>Packages.xz</filename> and
      <filename>Sources.xz</filename> are then automatically downloaded to
      update the list of packages recognized by APT.</para>

      <sidebar>
        <title><emphasis>ZPĚT K ZÁKLADŮM</emphasis> HTTP proxy server</title>
        <indexterm><primary>proxy</primary></indexterm>
        <indexterm><primary>proxy cache paměť</primary></indexterm>
        <indexterm><primary>cache paměť, proxy</primary></indexterm>
        <indexterm><primary>Squid</primary></indexterm>

	<para>HTTP proxy server je server, který přeposílá HTTP požadavky pro uživatele sítě. Někdy napomáhá ke zrychlení stahování tím, že uchovává kopie souborů, které jím prošly (potom hovoříme o proxy/cache). V některých případech, je to jediný prostředek pro přístup k externím webovým serverům; v takových případech je nezbytné odpovědět na danou otázku během instalace, aby byl program schopen skrz něj stahovat balíčky Debianu.</para>

	<para>Squid je jméno serverového softwaru užívaného Falcot Corp k nabízení této služby.</para>
      </sidebar>
    </section>
    <section>
      <title>Soutěž v popularitě debianovských balíčků </title>

      <para>Systém Debianu zahrnuje balíček pojmenovaný <emphasis role="pkg">popularity-contest</emphasis>, jehož úkolem je sestavovat statistiky používání balíčků. Každý týden, program sbírá informace o nainstalovných balíčcích a jejich užívání v poslední době a anonymně posílá tyto informace na servery projektu Debianu. Projekt poté může použít tyto informace k určení relativní důležitosti každého z balíčků, což ovlivňuje prioritu, která jim bude přiřezena. V podstatě, “nejpopulárnější” balíčky budou zahrnuty v instalačním CD, které usnadňuje jejich přístup k uživatelům, kteří si je nechtějí stahovat nebo kupovat celou sadu.</para>

      <para>Tento balíček je aktivován pouze na vyžádání, s ohledem na důvěrnost uživatelského užívání.</para>
    </section>
    <section>
      <title>Výběr balíčků pro instalaci</title>

      <para>Následující krok vám umožní si vybrat účel zařízení v širším slova smyslu; deset navržených úkolů odpovídá seznamu balíčků určených k instalaci. Seznam balíčků, které ve skutečnosti budou nainstalovány bude vyladěný a dokončený později, tímto ale jednoduchým způsobem získáte dobrý výchozí bod.</para>

      <para>Some packages are also automatically installed according to the
      hardware detected (thanks to the program
      <command>discover-pkginstall</command> from the <emphasis role="pkg">discover</emphasis> package).</para>

      <figure>
        <title>Výběr úkolů</title>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/inst-tasksel.png" scalefit="1" width="65%" />
          </imageobject>
        </mediaobject>
      </figure>
    </section>
    <section id="sect.installing-grub">
      <title>Instalace bootloaderu GRUB</title>
      <indexterm><primary>loader</primary><secondary>bootloader</secondary></indexterm>
      <indexterm><primary>bootloader</primary></indexterm>
      <indexterm><primary>GRUB</primary></indexterm>

      <para>Bootloader je první program spuštěný BIOSem. Tento program nahraje jádro Linuxu do paměti a spustí jej. Často nabízí menu, které umožňuje uživateli výběr jádra, které má být nahráno nebo operačního systému, který má být nabootován.</para>

      <sidebar id="sidebar.bootloader-dual-boot">
        <title><emphasis>POZOR</emphasis> Bootloader a dvojí bootování</title>
        <indexterm><primary>dvojí bootování</primary></indexterm>

	<para>Tato fáze instalačního procesu Debianu rozpoznává operační systémy již nainstalované na zařízení a automaticky přidává odpovídající vstupy do bootovacího menu, ale ne všechny instalační programy toto dělají.</para>

	<para>Konkrétně, pokud poté instalujete (nebo reinstalujete) Windows, bootloader bude vymazán. Debian bude stále na pevné paměťové jednotce, ale nebude nadále dosažitelný z bootovacího menu. Museli by jste potom bootovat instalační systém Debianu v módu <userinput>rescue</userinput> k nastavení méně exkluzivního bootloaderu. Tato operace je detailněji popsána v instalačním manuálu. <ulink type="block" url="http://www.debian.org/releases/stable/amd64/ch08s07.html" /></para>
      </sidebar>

      <para>Ve výchozím nastavení menu navrhované GRUBem zahrnuje všechna nainstalovaná jádra Linuxu, stejně jako jakýkoliv nalezený operační systém. To je důvod, proč by jste měli přijmout nabídku a instalovat v hlavním souštěcím záznamu. Protože uchovávání starších verzí jádra si uchovává možnost bootovat ten samý systém, pokud je nejnovější instalované jádro vadné nebo špatně uzpůsobeno hardwaru, má často smysl uchovávat starší verze jádra nainstalovaná.</para>

      <para>GRUB je přednastavený bootloader instalovaný Debianem díky jeho technické vyjímečnosti: funguje s většinou souborových systémů a proto nevyžaduje aktualizaci po každé instalaci nového jádra, protože načítá svoje nastavení během bootování a nalezne přesnou pozici nového jádra. Verze 1 GRUBu (nyní známá jako “Grub Legacy”) nemohla pojmout všechny kombinace LVM a sofrwarového RAID; verze 2, nainstalovaná podle výchozího nastavení, je kompletnější. Stále mohou ještě nastat situace, kdy se spíše doporučuje instalovat LILO (jiný bootloader); instalátor to automaticky navrhne.</para>

      <para>Pro více informací o nastavování GRUBu prosím nahlédněte do <xref linkend="sect.config-grub" />.</para>

      <sidebar>
        <title><emphasis>POZOR</emphasis> Bootloadery a architektury</title>

	<para>LILO a GRUB, které jsou zmiňované v této kapitole, jsou bootloadery pro architektury <emphasis>i386</emphasis> a <emphasis>amd64</emphasis>. Pokud instalujete Debian na jinou architekturu, budete potřebovat jiný bootloader. Mezi jinými můžeme jmenovat <command>yaboot</command> nebo <command>quik</command> pro <emphasis>powerpc</emphasis>, <command>silo</command> pro <emphasis>sparc</emphasis>, <command>aboot</command> pro <emphasis>alpha</emphasis>, <command>arcboot</command> pro <emphasis>mips</emphasis>.</para>
      </sidebar>
    </section>
    <section>
      <title>Ukončení instalace a rebootování</title>

      <para>Instalace je nyní kompletní, program vás vyzve k vyjmutí CD ze čtecího zařízení a k restartování počítače.</para>
    </section>
  </section>
  <section id="sect.after-first-boot">
    <title>Po prvním bootování</title>

    <para>Pokud jste aktivovali úkol “prostředí Debian desktop” bez explicitní volby desktopu (nebo s volbou “GNOME”), počítač zobrazí login manažera <command>gdm3</command>.</para>

    <figure>
      <title>První bootování</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/inst-gdm.png" scalefit="1" width="65%" />
        </imageobject>
      </mediaobject>
    </figure>

    <para>Uživatel, který již byl vytvořen, se může přihlásit a začít okamžitě pracovat.</para>
    <section>
      <title>Instalace dalšího softwaru</title>

      <para>Instalované balíčky odpovídají profilům vybraných během instalace. Dva nejčastěji užívané nástroje (které jsou nainstalovány, pokud byl vybraný profil “Debian desktop environment”) jsou <command>apt</command> (přístupný z příkazového řádku) a <command>synaptic</command> (“balíčkový manažer Synaptic” v menu).</para>

      <para>Pro zjednodušení instalace ucelené skupiny programů, Debian vytvoří “úkoly”, které jsou věnovány specifickému užívání (mail server, souborový server, apod.). Již jste měli možnost je zvolit během instalace a znovu se k nim můžete dostat za pomocí nástrojů pro správu balíčků jako <command>aptitude</command> (úkoly jsou vypsané ve zvláštní sekci) a <command>synaptic</command> (prostřednictvím menu <menuchoice> <guimenu>Edit</guimenu> <guimenuitem>označte balíčka podle úkolu…</guimenuitem> </menuchoice>).</para>

      <para>Aptitude je rozhraní k APT v textovém módu celé obrazovky. Umožňuje uživateli procházet seznam dostupných balíčků podle různých kategorií (nainstalované nebo nenainstalované balíčky, podle úkolu, podle sekce apod.) a zobrazit všechny dostupné informace o každém z nich (závislosti, konflikty, apod.). Každý balíček může být označen “instalovat” (aby byl nainstalován, klávesou <keycap>+</keycap>) nebo “odstranit” (aby byl odstraněn, klávesou <keycap>-</keycap>). Všechny tyto operace budou řízeny současně, jakmile je potvrdíte stisknutím klávesy <keycap>g</keycap> (“g” jako “go!”). Pokud jste zapomněli na některé programy, žádné strachy; budete mít možnost spustit <command>aptitude</command> znovu, jakmile se počáteční instalace dokončí.</para>
      <indexterm><primary>aptitude</primary></indexterm>

      <sidebar>
        <title><emphasis>TIP</emphasis> Debian myslí na ty, co nemluví anglicky</title>

	<para>Některé úkoly jsou věnované lokalizaci systému v jiných jazycích než angličtině. Obsahují přeloženou dokumentaci, slovníky a různé jiné balíčky použitelné pro uživatele mluvící jinými jazyky. Příslušné úkoly jsou automaticky vybrány, pokud byl během instalace zvolen jiný jazyk než angličtina.</para>
      </sidebar>

      <sidebar>
        <title><emphasis>KULTURA</emphasis> <command>dselect</command>, staré rozhraní pro instalaci balíčků</title>

	<para>Před <command>aptitude</command>, standardním programem pro výběr balíčků pro instalaci byl <command>dselect</command>, staré grafické rozhraní spojované s <command>dpkg</command>. Protože používat program není pro začátečníky jednoduché, nedoporučuje se.</para>
        <indexterm><primary><command>dselect</command></primary></indexterm>
      </sidebar>

      <para>Of course, it is possible not to select any task to be
      installed. In this case, you can manually install the desired
      software with the <command>apt</command> or
      <command>aptitude</command> command (which are both accessible from
      the command line).</para>

      <sidebar>
        <title><emphasis>SLOVNÍČEK</emphasis> Balíčkové závislosti, konflikty</title>

	<para>V balíčkovém slengu Debianu, “závislost” je jiný balíček nezbytný pro řádnou funkcionalitu daného balíčku. Naopak “konflikt” je balíček, který nemůže být nainstalovaný zároveň s jiným.</para>

	<para>Těmto pojmům se věnujeme detailněji v <xref linkend="packaging-system" />.</para>
      </sidebar>
    </section>
    <section>
      <title>Upgrade systému</title>
      <indexterm><primary>safe-upgrade</primary></indexterm>

      <para>A first <command>apt upgrade</command> (a command
      used to automatically update installed programs) is generally
      required, especially for possible security updates issued since the
      release of the latest Debian stable version. These updates may
      involve some additional questions through <command>debconf</command>,
      the standard Debian configuration tool. For further information on
      these updates conducted by <command>apt</command>, please refer
      to <xref linkend="sect.apt-upgrade" />.</para>
    </section>
  </section>
</chapter>
