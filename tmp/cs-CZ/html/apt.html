<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">Kapitola 6. Údržba a aktualizace: APT nástroje</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-cs-CZ-1.0-1" /><meta
        name="keywords"
        content="apt, apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="The Debian Administrator's Handbook" /><link
        rel="up"
        href="index.html"
        title="The Debian Administrator's Handbook" /><link
        rel="prev"
        href="sect.coexistence-with-other-packaging-systems.html"
        title="5.5. Soužití s jiným balíčkovacím systémem" /><link
        rel="next"
        href="sect.apt-get.html"
        title="6.2. aptitude, apt-get, and apt Commands" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/cs-CZ/stable/apt.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.coexistence-with-other-packaging-systems.html"><strong>Předcházející</strong></a></li><li
          class="home">The Debian Administrator's Handbook</li><li
          class="next"><a
            accesskey="n"
            href="sect.apt-get.html"><strong>Další</strong></a></li></ul><div
        xml:lang="cs-CZ"
        class="chapter"
        lang="cs-CZ"><div
          class="titlepage"><div><div><h1
                class="title"><a
                  xmlns=""
                  id="apt"></a>Kapitola 6. Údržba a aktualizace: APT nástroje</h1></div></div></div><div
          class="toc"><dl
            class="toc"><dt><span
                class="section"><a
                  href="apt.html#sect.apt-sources.list">6.1. Vyplňování souboru <code
                    class="filename">sources.list</code></a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="apt.html#id-1.9.10.6">6.1.1. Syntax</a></span></dt><dt><span
                    class="section"><a
                      href="apt.html#id-1.9.10.7">6.1.2. Úložiště pro uživatele <span
                        class="distribution distribution">Stable</span></a></span></dt><dt><span
                    class="section"><a
                      href="apt.html#id-1.9.10.8">6.1.3. Repositories for <span
                        class="distribution distribution">Testing</span>/<span
                        class="distribution distribution">Unstable</span> Users</a></span></dt><dt><span
                    class="section"><a
                      href="apt.html#id-1.9.10.9">6.1.4. Using Alternate Mirrors</a></span></dt><dt><span
                    class="section"><a
                      href="apt.html#id-1.9.10.10">6.1.5. Non-Official Resources: <code
                        class="literal">mentors.debian.net</code></a></span></dt><dt><span
                    class="section"><a
                      href="apt.html#id-1.9.10.11">6.1.6. Caching Proxy for Debian Packages</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.apt-get.html">6.2. <code
                    class="command">aptitude</code>, <code
                    class="command">apt-get</code>, and <code
                    class="command">apt</code> Commands</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.apt-get.html#id-1.9.11.8">6.2.1. Initialization</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#id-1.9.11.9">6.2.2. Installing and Removing</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#sect.apt-upgrade">6.2.3. System Upgrade</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#sect.apt-config">6.2.4. Configuration Options</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#sect.apt.priorities">6.2.5. Managing Package Priorities</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#sect.apt-mix-distros">6.2.6. Working with Several Distributions</a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-get.html#sect.automatic-tracking">6.2.7. Tracking Automatically Installed Packages</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.apt-cache.html">6.3. The <code
                    class="command">apt-cache</code> Command</a></span></dt><dt><span
                class="section"><a
                  href="sect.apt-frontends.html">6.4. Frontends: <code
                    class="command">aptitude</code>, <code
                    class="command">synaptic</code></a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.apt-frontends.html#sect.aptitude">6.4.1. <code
                        class="command">aptitude</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.apt-frontends.html#id-1.9.13.7">6.4.2. <code
                        class="command">synaptic</code></a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.package-authentication.html">6.5. Checking Package Authenticity</a></span></dt><dt><span
                class="section"><a
                  href="sect.dist-upgrade.html">6.6. Upgrading from One Stable Distribution to the Next</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.dist-upgrade.html#id-1.9.15.3">6.6.1. Recommended Procedure</a></span></dt><dt><span
                    class="section"><a
                      href="sect.dist-upgrade.html#id-1.9.15.4">6.6.2. Handling Problems after an Upgrade</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.regular-upgrades.html">6.7. Keeping a System Up to Date</a></span></dt><dt><span
                class="section"><a
                  href="sect.automatic-upgrades.html">6.8. Automatic Upgrades</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.automatic-upgrades.html#id-1.9.17.5">6.8.1. Configuring <code
                        class="command">dpkg</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.automatic-upgrades.html#id-1.9.17.6">6.8.2. Configuring APT</a></span></dt><dt><span
                    class="section"><a
                      href="sect.automatic-upgrades.html#id-1.9.17.7">6.8.3. Configuring <code
                        class="command">debconf</code></a></span></dt><dt><span
                    class="section"><a
                      href="sect.automatic-upgrades.html#id-1.9.17.8">6.8.4. Handling Command Line Interactions</a></span></dt><dt><span
                    class="section"><a
                      href="sect.automatic-upgrades.html#id-1.9.17.9">6.8.5. The Miracle Combination</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.searching-packages.html">6.9. Searching for Packages</a></span></dt></dl></div><div
          class="highlights"><div
            class="para">
		Co dělá Debian tak populárním u správců je to, jak snadno může být software nainstalován a jak snadno může být celý systém aktualizován. Tato jedinečná výhoda existuje především díky programu <span
              class="emphasis"><em>APT</em></span>, který byl studován správci Falcot Corp se zaujetím.
	</div></div><div
          class="para">
		<a
            id="id-1.9.4.1"
            class="indexterm"></a> <a
            id="id-1.9.4.2"
            class="indexterm"></a> APT je zkratka pro rozvinutý balíčkový systém. Co dělá tento program “rozvinutým” je jeho přístup k balíčkům. On je pouze jednoduše nevyhodnocuje, on je považuje za celek a vytváří nejlepší možnou kombinaci balíčků v závislosti na tom, co je k dispozici a co je kompatabilní (podle závislostí).
	</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>SLOVNÍK</em></span> Balíčkový zdroj a zdrojový kód balíčku</strong></p></div></div></div><div
            class="para">
		Slovo <span
              class="emphasis"><em>zdroj</em></span> může být dvojznačné. Zdrojový kód balíčku — balíček, který obsahuje zdrojový kód programu — by se neměl zaměňovat za balíčkový zdroj — úložiště (internetová stránka, FTP server, CD disk, místní adresář apod.), které obsahuje balíčky.
	</div></div><div
          class="para">
		APT potřubeje, aby se mu poskytl “seznam balíčkových zdrojů”: soubor <code
            class="filename">/etc/apt/sources.list</code> vypisuje různá úložiště (nebo “zdroje”), která vydávají balíčky Debianu. APT poté importuje seznam balíčků vydaných každým z těchto zdrojů. Této operace je dosaženo prostřednictvím stažení <code
            class="filename">Packages.xz</code> nebo varianty, která používá soubory s odlišnou metodu komprese (jako je <code
            class="filename">Packages.gz</code> nebo <code
            class="filename">.bz2</code>) (v případě zdroje binárních balíčků) a <code
            class="filename">Sources.xz</code> nebo varianty (v případě zdroje zdrojových kódů balíčků) a prostřednictvím analýzy jejich obsahu. Pokud už existuje starší kopie těchto souborů, APT je může aktualizovat pouze prostřednictvích stažení odlišností (více v postranní poznámce <a
            class="xref"
            href="sect.apt-get.html#sidebar.apt-pdiff"><span
              class="emphasis"><em>TIP</em></span> Incremental upgrade</a>).
	</div><a
          id="id-1.9.7"
          class="indexterm"></a><a
          id="id-1.9.8"
          class="indexterm"></a><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>ZPĚT K ZÁKLADŮM</em></span> <code
                      class="command">gzip</code>, <code
                      class="command">bzip2</code>, <code
                      class="command">LZMA</code> a <code
                      class="command">XZ</code> komprese</strong></p></div></div></div><a
            id="id-1.9.9.2"
            class="indexterm"></a><a
            id="id-1.9.9.3"
            class="indexterm"></a><a
            id="id-1.9.9.4"
            class="indexterm"></a><a
            id="id-1.9.9.5"
            class="indexterm"></a><div
            class="para">
		Přípona <code
              class="filename">.gz</code> se vztahuje k souboru zkomprimovaného programem <code
              class="command">gzip</code>. <code
              class="command">gzip</code> je rychlý a efektivní tradiční Unixový program určený ke kompresi souborů. Novější nástroje dosahují lepší míry komprese, ale žádají si více zdrojů (výpočtového času a paměti) potřebných ke kompresi a dekompresi souboru. Mezi ně, při seřazení podle četnosti výskytu, patří <code
              class="command">bzip2</code> (generující soubory s příponou <code
              class="filename">.bz2</code>), <code
              class="command">lzma</code> (generující soubory <code
              class="filename">.lzma</code>) a <code
              class="command">xz</code> (generující soubory <code
              class="filename">.xz</code>).
	</div></div><div
          class="section"><div
            class="titlepage"><div><div><h2
                  class="title"><a
                    xmlns=""
                    id="sect.apt-sources.list"></a>6.1. Vyplňování souboru <code
                    class="filename">sources.list</code></h2></div></div></div><a
            id="id-1.9.10.2"
            class="indexterm"></a><a
            id="id-1.9.10.3"
            class="indexterm"></a><a
            id="id-1.9.10.4"
            class="indexterm"></a><a
            id="id-1.9.10.5"
            class="indexterm"></a><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="id-1.9.10.6"></a>6.1.1. Syntax</h3></div></div></div><div
              class="para">
				Každý aktivní řádek souboru <code
                class="filename">/etc/apt/sources.list</code> obsahuje popis zdroje, vytvořený třemi částmi oddělenými mezerami.
			</div><div
              class="para">
				První pole označuje typ zdroje:
			</div><div
              xmlns:d="http://docbook.org/ns/docbook"
              class="itemizedlist"><ul><li
                  class="listitem"><div
                    class="para">
						“<code
                      class="literal">deb</code>” pro binární balíčky,
					</div></li><li
                  class="listitem"><div
                    class="para">
						“<code
                      class="literal">deb-src</code>” pro zdrojové balíčky.
					</div></li></ul></div><div
              class="para">
				The second field gives the base URL of the source (combined with the filenames present in the <code
                class="filename">Packages.xz</code> files, it must give a full and valid URL): this can consist in a Debian mirror or in any other package archive set up by a third party. The URL can start with <code
                class="literal">file://</code> to indicate a local source installed in the system's file hierarchy, with <code
                class="literal">http://</code> to indicate a source accessible from a web server, or with <code
                class="literal">ftp://</code> for a source available on an FTP server. The URL can also start with <code
                class="literal">cdrom:</code> for CD-ROM/DVD-ROM/Blu-ray disc based installations, although this is less frequent, since network-based installation methods are more and more common.
			</div><div
              class="para">
				Syntax posledního pole záleží na struktuře úložiště. V případě, který je nejvíce jednoduchý, můžete prostě označit podadresář (je vyžadováno lomítko na konci) kýženého zdroje (to je často pouze “<code
                class="filename">./</code>”, což znamená nepřítomnost podadresáře — balíčky jsou poté přímo na určeném URL). Ale v nejběžnějším případě budou úložiště strukturována stejně, jako kopie datového úložiště Debianu, s mnohočetnými distribucemi, každá s mnohočetými komponenty. V těchto případech uveďte jméno vybrané distribuce (prostřednictvím “kódového označení” — více v seznamu v postranní poznámce <a
                class="xref"
                href="sect.foundation-documents.html#sidebar.bruce-perens"><span
                  class="emphasis"><em>KOMUNITA</em></span> Bruce Perens, kontroverzní vůdce</a> — nebo prostředníctvím “sad” — <code
                class="literal">stable</code>, <code
                class="literal">testing</code>, <code
                class="literal">unstable</code>), potom komponenty (nebo sekce) ke zpřístupnění (vyberte mezi <code
                class="literal">main</code>, <code
                class="literal">contrib</code> a <code
                class="literal">non-free</code> v typických kopiích datových úložišť Debianu).
			</div><div
              class="sidebar"><a
                xmlns=""
                id="sidebar.sections"></a><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>SLOVNÍK</em></span> <code
                          class="literal">main</code>, <code
                          class="literal">contrib</code> a <code
                          class="literal">non-free</code> archivy</strong></p></div></div></div><a
                id="id-1.9.10.6.7.2"
                class="indexterm"></a><a
                id="id-1.9.10.6.7.3"
                class="indexterm"></a><a
                id="id-1.9.10.6.7.4"
                class="indexterm"></a><a
                id="id-1.9.10.6.7.5"
                class="indexterm"></a><a
                id="id-1.9.10.6.7.6"
                class="indexterm"></a><a
                id="id-1.9.10.6.7.7"
                class="indexterm"></a><a
                id="id-1.9.10.6.7.8"
                class="indexterm"></a><div
                class="para">
				Debian používá tři sekce k rozlišení balíčků podle licencí, vybraných autory každého z produktů. <code
                  class="literal">Main</code> sdružuje všechny balíčky, které plně odpovídají debianovským směrnicím volného softwaru.
			</div><div
                class="para">
				Archiv <code
                  class="literal">non-free</code> je jiný, protože obsahuje software, který úplně neodpovídá těmto principům, ale který může být nicméně distribuován bez jakýchkoliv restrikcí. Tenot archiv, který není oficiální součástí Debianu, je služba pro uživatele, kteří mohou potřebovat některý z těchto programů — každopádně Debian vždy doporučuje upřednostnění svobodného softwaru. Existence této sekce představuje vážný problém pro Richarda M. Stallmana a odrazuje Nadaci svobodného softwaru od doporučování Debianu uživatelům.
			</div><div
                class="para">
				<code
                  class="literal">Contrib</code> (distribuce) je soubor open source softwaru, který nemůže fungovat bez některých nesvobodných součástí. Tyto součásti mohou být software z <code
                  class="literal">non-free</code> sekce nebo nesvobodné soubory jako jsou herní média, BIOSY konzolí, apod. <code
                  class="literal">Contrib</code> také obsahuje svobodný software, jehož kompilace vyžaduje proprietární prvky. To byl z počátku případ kancelářského balíku OpenOffice.org, který dříve vyžadoval proprietární prostředí Javy.
			</div></div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>TIP</em></span> soubory <code
                          class="filename">/etc/apt/sources.list.d/*.list</code></strong></p></div></div></div><div
                class="para">
				Pokud je odkazováno na mnoho balíčkových zdrojů, může být užitečné je rozdělit do více souborů. Každá část je potom uložena v <code
                  class="filename">/etc/apt/sources.list.d/<em
                    class="replaceable">jméno souboru</em>.list</code> (více v postranní poznámce <a
                  class="xref"
                  href="sect.apt-get.html#sidebar.directory.d"><span
                    class="emphasis"><em>BACK TO BASICS</em></span> Directories ending in <code
                    class="filename">.d</code></a>).
			</div></div><a
              id="id-1.9.10.6.9"
              class="indexterm"></a><div
              class="para">
				Vstupy <code
                class="literal">cdrom</code> popisují CD/DVD, které máte. Oproti ostatním vstupům, CD není vždy k dispozici, protože musí být vložen do mechaniky a protože pouze jeden disk může být čten v jeden časový okamžik. Z těchto důvodů je s těmito zdroji nakládáno trochu jiným způsobem a musí být přidány za pomoci programu <code
                class="command">apt-cdrom</code>, obvykle spuštěným s parametrem <code
                class="literal">add</code>. Posledně jmenovaný poté vyžaduje, aby byl do mechaniky vložen disk a projde jeho obsah za účelem nalezení souborů <code
                class="filename">balíčků</code>. Použije tyto soubory k aktualizaci své databáze dostupných balíčků (tato operace je obvykle provedena příkazem <code
                class="command">apt update</code>). Od té doby může APT vyžadovat vložení disku, pokud bude potřebovat jeden z těchto balíčků.
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="id-1.9.10.7"></a>6.1.2. Úložiště pro uživatele <span
                      class="distribution distribution">Stable</span></h3></div></div></div><div
              class="para">
				Zde je standardní <code
                class="filename">sources.list</code> pro systém běhu <span
                class="distribution distribution">Stable</span> verze Debianu:
			</div><div
              class="example"><a
                xmlns=""
                id="example.stable-sources-list"></a><p
                class="title"><strong>Příklad 6.1. Soubor <code
                    class="filename">/etc/apt/sources.list</code> pro uživatele Debianu Stable</strong></p><div
                class="example-contents"><pre
                  class="programlisting"># Security updates
deb http://security.debian.org/ stretch/updates main contrib non-free
deb-src http://security.debian.org/ stretch/updates main contrib non-free

## Debian mirror

# Base repository
deb http://deb.debian.org/debian stretch main contrib non-free
deb-src http://deb.debian.org/debian stretch main contrib non-free

# Stable updates
deb http://deb.debian.org/debian stretch-updates main contrib non-free
deb-src http://deb.debian.org/debian stretch-updates main contrib non-free

# Stable backports
deb http://deb.debian.org/debian stretch-backports main contrib non-free
deb-src http://deb.debian.org/debian stretch-backports main contrib non-free
</pre></div></div><div
              class="para">
				This file lists all sources of packages associated with the <span
                class="distribution distribution">Stretch</span> version of Debian (the current <span
                class="distribution distribution">Stable</span> as of this writing). We opted to name “stretch” explicitly instead of using the corresponding “stable“ alias (<code
                class="literal">stable</code>, <code
                class="literal">stable-updates</code>, <code
                class="literal">stable-backports</code>) because we don't want to have the underlying distribution changed outside of our control when the next stable release comes out.
			</div><div
              class="para">
				Nejvíce balíčků pochází ze “základního úložiště”, které zahrnuje všechny balíčky, ale je jen zřídka aktualizované (přibližně jednou za dva měsíce při “bodu uvolněni”). Ostatní úložiště jsou dílčí (neobsahují všechny balíčky) a mohou poskytovat aktualizace (balíčky s novějšími verzemi), které by APT mohl nainstalovat. Následující část vysvětlí účel a pravidla, podle kterých se řídí každé z těchto úložišť.
			</div><div
              class="para">
				Note that when the desired version of a package is available on several repositories, the first one listed in the <code
                class="filename">sources.list</code> file will be used. For this reason, non-official sources are usually added at the end of the file.
			</div><div
              class="para">
				As a side note, most of what this section says about <span
                class="distribution distribution">Stable</span> applies equally well to <span
                class="distribution distribution">Oldstable</span> since the latter is just an older <span
                class="distribution distribution">Stable</span> that is maintained in parallel.
			</div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        xmlns=""
                        id="sect.security-updates"></a>6.1.2.1. Security Updates</h4></div></div></div><a
                id="id-1.9.10.7.8.2"
                class="indexterm"></a><a
                id="id-1.9.10.7.8.3"
                class="indexterm"></a><a
                id="id-1.9.10.7.8.4"
                class="indexterm"></a><div
                class="para">
					The security updates are not hosted on the usual network of Debian mirrors but on <code
                  class="literal">security.debian.org</code> (on a small set of machines maintained by the <a
                  class="link"
                  href="sect.debian-internals.html#dsa-team">Debian System Administrators</a>). This archive contains security updates (prepared by the Debian Security Team and/or by package maintainers) for the <span
                  class="distribution distribution">Stable</span> distribution.
				</div><div
                class="para">
					The server can also host security updates for <span
                  class="distribution distribution">Testing</span> but this doesn't happen very often since those updates tend to reach <span
                  class="distribution distribution">Testing</span> via the regular flow of updates coming from <span
                  class="distribution distribution">Unstable</span>.
				</div></div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        xmlns=""
                        id="sect.stable-updates"></a>6.1.2.2. Stable Updates</h4></div></div></div><a
                id="id-1.9.10.7.9.2"
                class="indexterm"></a><a
                id="id-1.9.10.7.9.3"
                class="indexterm"></a><a
                id="id-1.9.10.7.9.4"
                class="indexterm"></a><div
                class="para">
					Stable updates are not security sensitive but are deemed important enough to be pushed to users before the next stable point release.
				</div><div
                class="para">
					This repository will typically contain fixes for critical bugs which could not be fixed before release or which have been introduced by subsequent updates. Depending on the urgency, it can also contain updates for packages that have to evolve over time… like <span
                  class="pkg pkg">spamassassin</span>'s spam detection rules, <span
                  class="pkg pkg">clamav</span>'s virus database, or the daylight-saving time rules of all timezones (<span
                  class="pkg pkg">tzdata</span>).
				</div><div
                class="para">
					In practice, this repository is a subset of the <code
                  class="literal">proposed-updates</code> repository, carefully selected by the Stable Release Managers.
				</div></div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        xmlns=""
                        id="sect.proposed-updates"></a>6.1.2.3. Proposed Updates</h4></div></div></div><a
                id="id-1.9.10.7.10.2"
                class="indexterm"></a><a
                id="id-1.9.10.7.10.3"
                class="indexterm"></a><div
                class="para">
					Once published, the <span
                  class="distribution distribution">Stable</span> distribution is only updated about once every 2 months. The <code
                  class="literal">proposed-updates</code> repository is where the expected updates are prepared (under the supervision of the Stable Release Managers).
				</div><div
                class="para">
					The security and stable updates documented in the former sections are always included in this repository, but there is more too, because package maintainers also have the opportunity to fix important bugs that do not deserve an immediate release.
				</div><div
                class="para">
					Anyone can use this repository to test those updates before their official publication. The extract below uses the <code
                  class="literal">stretch-proposed-updates</code> alias which is both more explicit and more consistent since <code
                  class="literal">jessie-proposed-updates</code> also exists (for the <span
                  class="distribution distribution">Oldstable</span> updates):
				</div><pre
                class="programlisting">deb http://ftp.debian.org/debian stretch-proposed-updates main contrib non-free
</pre></div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        xmlns=""
                        id="sect.backports"></a>6.1.2.4. Stable Backports</h4></div></div></div><a
                id="id-1.9.10.7.11.2"
                class="indexterm"></a><a
                id="id-1.9.10.7.11.3"
                class="indexterm"></a><a
                id="id-1.9.10.7.11.4"
                class="indexterm"></a><div
                class="para">
					The <code
                  class="literal">stable-backports</code> repository hosts “package backports”. The term refers to a package of some recent software which has been recompiled for an older distribution, generally for <span
                  class="distribution distribution">Stable</span>.
				</div><div
                class="para">
					When the distribution becomes a little dated, numerous software projects have released new versions that are not integrated into the current <span
                  class="distribution distribution">Stable</span> (which is only modified to address the most critical problems, such as security problems). Since the <span
                  class="distribution distribution">Testing</span> and <span
                  class="distribution distribution">Unstable</span> distributions can be more risky, package maintainers sometimes offer recompilations of recent software applications for <span
                  class="distribution distribution">Stable</span>, which has the advantage to limit potential instability to a small number of chosen packages. <div
                  xmlns=""
                  class="url">→ <a
                    xmlns="http://www.w3.org/1999/xhtml"
                    href="http://backports.debian.org">http://backports.debian.org</a></div>
				</div><a
                id="id-1.9.10.7.11.7"
                class="indexterm"></a><div
                class="para">
					Backports from <code
                  class="literal">stable-backports</code> are always created from packages available in <span
                  class="distribution distribution">Testing</span>. This ensures that all installed backports will be upgradable to the corresponding stable version once the next stable release of Debian is available.
				</div><div
                class="para">
					Even though this repository provides newer versions of packages, APT will not install them unless you give explicit instructions to do so (or unless you have already done so with a former version of the given backport):
				</div><pre
                class="screen"><code
                  class="computeroutput">$ </code><strong
                  class="userinput"><code>sudo apt-get install <em
                      class="replaceable">package</em>/stretch-backports
</code></strong><code
                  class="computeroutput">$ </code><strong
                  class="userinput"><code>sudo apt-get install -t stretch-backports <em
                      class="replaceable">package</em>
</code></strong></pre></div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="id-1.9.10.8"></a>6.1.3. Repositories for <span
                      class="distribution distribution">Testing</span>/<span
                      class="distribution distribution">Unstable</span> Users</h3></div></div></div><div
              class="para">
				Here is a standard <code
                class="filename">sources.list</code> for a system running the <span
                class="distribution distribution">Testing</span> or <span
                class="distribution distribution">Unstable</span> version of Debian:
			</div><div
              class="example"><a
                xmlns=""
                id="example.testing-sources-list"></a><p
                class="title"><strong>Příklad 6.2. <code
                    class="filename">/etc/apt/sources.list</code> file for users of Debian <span
                    class="distribution distribution">Testing</span>/<span
                    class="distribution distribution">Unstable</span></strong></p><div
                class="example-contents"><pre
                  class="programlisting">
# Unstable
deb http://deb.debian.org/debian unstable main contrib non-free
deb-src http://deb.debian.org/debian unstable main contrib non-free

# Testing
deb http://deb.debian.org/debian testing main contrib non-free
deb-src http://deb.debian.org/debian testing main contrib non-free

# Stable
deb http://deb.debian.org/debian stable main contrib non-free
deb-src http://deb.debian.org/debian stable main contrib non-free

# Security updates
deb http://security.debian.org/ stable/updates main contrib non-free
deb http://security.debian.org/ testing/updates main contrib non-free
deb-src http://security.debian.org/ stable/updates main contrib non-free
deb-src http://security.debian.org/ testing/updates main contrib non-free
</pre></div></div><div
              class="para">
				With this <code
                class="filename">sources.list</code> file APT will install packages from <span
                class="distribution distribution">Unstable</span>. If that is not desired, use the <code
                class="literal">APT::Default-Release</code> setting (see <a
                class="xref"
                href="sect.apt-get.html#sect.apt-upgrade">6.2.3 – „System Upgrade“</a>) to instruct APT to pick packages from another distribution (most likely <span
                class="distribution distribution">Testing</span> in this case).
			</div><div
              class="para">
				There are good reasons to include all those repositories, even though a single one should be enough. <span
                class="distribution distribution">Testing</span> users will appreciate the possibility to cherry-pick a fixed package from <span
                class="distribution distribution">Unstable</span> when the version in <span
                class="distribution distribution">Testing</span> is affected by an annoying bug. On the opposite, <span
                class="distribution distribution">Unstable</span> users bitten by unexpected regressions have the possibility to downgrade packages to their (supposedly working) <span
                class="distribution distribution">Testing</span> version.
			</div><div
              class="para">
				The inclusion of <span
                class="distribution distribution">Stable</span> is more debatable but it often gives access to some packages which have been removed from the development versions. It also ensures that you get the latest updates for packages which have not been modified since the last stable release.
			</div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        xmlns=""
                        id="id-1.9.10.8.7"></a>6.1.3.1. The <span
                        class="distribution distribution">Experimental</span> Repository</h4></div></div></div><a
                id="id-1.9.10.8.7.2"
                class="indexterm"></a><div
                class="para">
					The archive of <span
                  class="distribution distribution">Experimental</span> packages is present on all Debian mirrors, and contains packages which are not in the <span
                  class="distribution distribution">Unstable</span> version yet because of their substandard quality — they are often software development versions or pre-versions (alpha, beta, release candidate…). A package can also be sent there after undergoing subsequent changes which can generate problems. The maintainer then tries to uncover them with help from advanced users who can handle important issues. After this first stage, the package is moved into <span
                  class="distribution distribution">Unstable</span>, where it reaches a much larger audience and where it will be tested in much more detail.
				</div><div
                class="para">
					<span
                  class="distribution distribution">Experimental</span> is generally used by users who do not mind breaking their system and then repairing it. This distribution gives the possibility to import a package which a user wants to try or use as the need arises. That is exactly how Debian approaches it, since adding it in APT's <code
                  class="filename">sources.list</code> file does not lead to the systematic use of its packages. The line to be added is:
				</div><div
                class="informalexample"><pre
                  class="programlisting">deb http://deb.debian.org/debian experimental main contrib non-free
</pre></div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="id-1.9.10.9"></a>6.1.4. Using Alternate Mirrors</h3></div></div></div><a
              id="id-1.9.10.9.2"
              class="indexterm"></a><div
              class="para">
				The <code
                class="filename">sources.list</code> examples in this chapter refer to package repositories hosted on <code
                class="literal">deb.debian.og</code>. Those URLs will redirect you to servers which are close to you and which are managed by Content Delivery Networks (<acronym
                class="acronym">CDN</acronym>) whose main role is to store multiple copies of the files across the world to deliver them as fast as possible to users. The CDN companies that Debian is working with are Debian partners who are offering their services freely to Debian. While none of those servers are under direct control of Debian, the fact that the whole archive is sealed by GPG signatures makes it a non-issue.
			</div><a
              id="id-1.9.10.9.4"
              class="indexterm"></a><a
              id="id-1.9.10.9.5"
              class="indexterm"></a><div
              class="para">
				Picky users who are not satisfied with the performance of <code
                class="literal">deb.debian.org</code> can try to find a better mirror in the official mirror list: <div
                xmlns=""
                class="url">→ <a
                  xmlns="http://www.w3.org/1999/xhtml"
                  href="https://www.debian.org/mirror/list">https://www.debian.org/mirror/list</a></div>
			</div><div
              class="para">
				But when you don't know which mirror is best for you, this list is of not much use. Fortunately for you, Debian maintains DNS entries of the form <code
                class="literal">ftp.<em
                  class="replaceable">country-code</em>.debian.org</code> (e.g. <code
                class="literal">ftp.us.debian.org</code> for the USA, <code
                class="literal">ftp.fr.debian.org</code> for France, etc.) which are covering many countries and which are pointing to one (or more) of the best mirrors available within that country.
			</div><a
              id="id-1.9.10.9.8"
              class="indexterm"></a><div
              class="para">
				As an alternative to <code
                class="literal">deb.debian.org</code>, there used to be <code
                class="literal">httpredir.debian.org</code>. This service would identify a mirror close to you (among the list of official mirrors, using GeoIP mainly) and would redirect APT's requests to that mirror. This service has been deprecated due to reliability concerns and now <code
                class="literal">httpredir.debian.org</code> provides the same CDN-based service as <code
                class="literal">deb.debian.org</code>.
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="id-1.9.10.10"></a>6.1.5. Non-Official Resources: <code
                      class="literal">mentors.debian.net</code></h3></div></div></div><a
              id="id-1.9.10.10.2"
              class="indexterm"></a><div
              class="para">
				There are numerous non-official sources of Debian packages set up by advanced users who have recompiled some software (Ubuntu made this popular with their Personal Package Archive service), by programmers who make their creation available to all, and even by Debian developers who offer pre-versions of their package online.
			</div><div
              class="para">
				The <code
                class="literal">mentors.debian.net</code> site is interesting (although it only provides source packages), since it gathers packages created by candidates to the status of official Debian developer or by volunteers who wish to create Debian packages without going through that process of integration. These packages are made available without any guarantee regarding their quality; make sure that you check their origin and integrity and then test them before you consider using them in production.
			</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>COMMUNITY</em></span> The <code
                          class="literal">debian.net</code> sites</strong></p></div></div></div><a
                id="id-1.9.10.10.5.2"
                class="indexterm"></a><div
                class="para">
				The <span
                  class="emphasis"><em>debian.net</em></span> domain is not an official resource of the Debian project. Each Debian developer may use that domain name for their own use. These websites can contain unofficial services (sometimes personal sites) hosted on a machine which does not belong to the project and set up by Debian developers, or even prototypes about to be moved on to <span
                  class="emphasis"><em>debian.org</em></span>. Two reasons can explain why some of these prototypes remain on <span
                  class="emphasis"><em>debian.net</em></span>: either no one has made the necessary effort to transform it into an official service (hosted on the <span
                  class="emphasis"><em>debian.org</em></span> domain, and with a certain guarantee of maintenance), or the service is too controversial to be officialized.
			</div></div><div
              class="para">
				Installing a package means giving root rights to its creator, because they decide on the contents of the initialization scripts which are run under that identity. Official Debian packages are created by volunteers who have been co-opted and reviewed and who can seal their packages so that their origin and integrity can be checked.
			</div><div
              class="para">
				In general, be wary of a package whose origin you don't know and which isn't hosted on one of the official Debian servers: evaluate the degree to which you can trust the creator, and check the integrity of the package. <div
                xmlns=""
                class="url">→ <a
                  xmlns="http://www.w3.org/1999/xhtml"
                  href="http://mentors.debian.net/">http://mentors.debian.net/</a></div>
			</div><div
              class="sidebar"><a
                xmlns=""
                id="sidebar.snapshot.debian.org"></a><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>GOING FURTHER</em></span> Old package versions: <code
                          class="literal">snapshot.debian.org</code></strong></p></div></div></div><a
                id="id-1.9.10.10.8.2"
                class="indexterm"></a><div
                class="para">
				The <code
                  class="literal">snapshot.debian.org</code> service, introduced in April 2010, can be used to “go backwards in time” and to find an old version of a package. It can be used for example to identify which version of a package introduced a regression, and more concretely, to come back to the former version while waiting for the regression fix.
			</div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="id-1.9.10.11"></a>6.1.6. Caching Proxy for Debian Packages</h3></div></div></div><a
              id="id-1.9.10.11.2"
              class="indexterm"></a><a
              id="id-1.9.10.11.3"
              class="indexterm"></a><div
              class="para">
				When an entire network of machines is configured to use the same remote server to download the same updated packages, any administrator knows that it would be beneficial to have an intermediate proxy acting as a network-local cache (see sidebar <a
                class="xref"
                href="sect.apt-cache.html#sidebar.cache"><span
                  class="emphasis"><em>VOCABULARY</em></span> Cache</a>).
			</div><div
              class="para">
				You can configure APT to use a "standard" proxy (see <a
                class="xref"
                href="sect.apt-get.html#sect.apt-config">6.2.4 – „Configuration Options“</a> for the APT side, and <a
                class="xref"
                href="sect.http-ftp-proxy.html">11.6 – „HTTP/FTP Proxy“</a> for the proxy side), but the Debian ecosystem offers better options to solve this problem. The dedicated software presented in this section are smarter than a plain proxy cache because they can rely on the specific structure of APT repositories (for instance they know when individual files are obsolete or not, and thus adjust the time during which they are kept).
			</div><a
              id="id-1.9.10.11.6"
              class="indexterm"></a><a
              id="id-1.9.10.11.7"
              class="indexterm"></a><div
              class="para">
				<span
                class="pkg pkg">apt-cacher</span> and <span
                class="pkg pkg">apt-cacher-ng</span> work like usual proxy cache servers. APT's <code
                class="filename">sources.list</code> is left unchanged, but APT is configured to use them as proxy for outgoing requests.
			</div><a
              id="id-1.9.10.11.9"
              class="indexterm"></a><div
              class="para">
				<span
                class="pkg pkg">approx</span>, on the other hand, acts like an HTTP server that “mirrors” any number of remote repositories in its top-level URLs. The mapping between those top-level directories and the remote URLs of the repositories is stored in <code
                class="filename">/etc/approx/approx.conf</code>:
			</div><pre
              class="programlisting">
# &lt;name&gt; &lt;repository-base-url&gt;
debian   http://deb.debian.org/debian
security http://security.debian.org
</pre><div
              class="para">
				<span
                class="pkg pkg">approx</span> runs by default on port 9999 via a systemd socket and requires the users to adjust their <code
                class="filename">sources.list</code> file to point to the approx server:
			</div><pre
              class="programlisting"># Sample sources.list pointing to a local approx server
deb http://apt.falcot.com:9999/security stretch/updates main contrib non-free
deb http://apt.falcot.com:9999/debian stretch main contrib non-free
</pre></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.coexistence-with-other-packaging-systems.html"><strong>Předcházející</strong>5.5. Soužití s jiným balíčkovacím systémem</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Nahoru</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Domů</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.apt-get.html"><strong>Další</strong>6.2. aptitude, apt-get, and apt Commands</a></li></ul></body></html>
