<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">6.4. 前置：aptitude、synaptic</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-zh-CN-1.0-1" /><meta
        name="keywords"
        content="高级包管理工具(Advanced Packaging Tool), apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="Debian 管理员手册" /><link
        rel="up"
        href="apt.html"
        title="第 6 章 维护和更新：APT 工具" /><link
        rel="prev"
        href="sect.apt-cache.html"
        title="6.3. The apt-cache 命令" /><link
        rel="next"
        href="sect.package-authentication.html"
        title="6.5. 检查套件真伪" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/zh-CN/stable/sect.apt-frontends.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.apt-cache.html"><strong>上一页</strong></a></li><li
          class="home">Debian 管理员手册</li><li
          class="next"><a
            accesskey="n"
            href="sect.package-authentication.html"><strong>下一页</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.apt-frontends"></a>6.4. 前置：<code
                  class="command">aptitude</code>、<code
                  class="command">synaptic</code></h2></div></div></div><a
          id="id-1.9.13.2"
          class="indexterm"></a><a
          id="id-1.9.13.3"
          class="indexterm"></a><a
          id="id-1.9.13.4"
          class="indexterm"></a><div
          class="para">
			APT 是 C++ 写成程序，甚原代码在 <code
            class="command">libapt-pkg</code> 共享程序库内。以此共享程序库创建读者接口 (前置)，因为很容易再利用在程序库内的原代码。过去 <code
            class="command">apt-get</code> 祗当做 <code
            class="command">libapt-pkg</code> 的测试前置，但此事实也渐趋模糊。
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.aptitude"></a>6.4.1. <code
                    class="command">aptitude</code></h3></div></div></div><div
            class="para">
				<code
              class="command">aptitude</code> 是交互程序，可用于终端机的半图形模式可浏览已安装与可得套件，搜索所有可用信息，并选择安装或移除的套件。此程序专为管理者而设计，缺省的对象比 <code
              class="command">apt-get</code> 的对象更聪慧，且其接口更容易理解。
			</div><div
            class="figure"><a
              xmlns=""
              id="id-1.9.13.6.3"></a><div
              class="figure-contents"><div
                class="mediaobject"><img
                  src="images/aptitude.png"
                  alt="The aptitude 套件管理者" /></div></div><p
              class="title"><strong>图 6.1. The <code
                  class="command">aptitude</code> 套件管理者</strong></p></div><div
            class="para">
				开始的时候，<code
              class="command">aptitude</code> 依状态显示所有的套件 (已安装、未安装、或已安装在不在镜射站 — 其他的区块显示工作、虚拟套件、与最近才出现在镜射站的添加套件)。还有其他的查看方法，提供主题式浏览。所有的情况下，<code
              class="command">aptitude</code> 在屏幕显示各主题与套件的清单。以树状组织主题，可以用 <span
              class="keycap"><strong>Enter</strong></span>、<span
              class="keycap"><strong>[</strong></span> 与 <span
              class="keycap"><strong>]</strong></span> 按键展开与收起枝叶。<span
              class="keycap"><strong>+</strong></span> 应用于标示可安装的套件，<span
              class="keycap"><strong>-</strong></span> 标示可移除的套件与 <span
              class="keycap"><strong>_</strong></span> 标示可清除的套件 (这些按键也可用遟主题，对应的行动适用于主题的所有套件)。<span
              class="keycap"><strong>u</strong></span> 用于更新可用套件清单与 <span
              class="keycap"><strong>Shift</strong></span>+<span
              class="keycap"><strong>u</strong></span> 准备全系统的更新。<span
              class="keycap"><strong>g</strong></span> 切换摘要查看要求的改变 (并再次键入 <span
              class="keycap"><strong>g</strong></span> 纳入此等改变)，与 <span
              class="keycap"><strong>q</strong></span> 离开现在的查看。若您在初始的查看，将关闭 <code
              class="command">aptitude</code>。
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>文档</em></span> <code
                        class="command">aptitude</code></strong></p></div></div></div><div
              class="para">
				此区块不包括使用 <code
                class="command">aptitude</code> 的详情，祗专注于提供急救用的工具包。<code
                class="command">aptitude</code> 的文档较完整，建议您使用 <span
                class="pkg pkg">aptitude-doc-en</span> 套件内的完整手册 (见 <code
                class="filename">/usr/share/doc/aptitude/html/en/index.html</code>)。
			</div></div><div
            class="para">
				键入 <span
              class="keycap"><strong>/</strong></span> 及搜索的键词，就能搜索套件。键词对应至套件的名称，也可应用于描述内容 (若前置 <code
              class="literal">~d</code>、区块 (前置 <code
              class="literal">~s</code>) 或文档内的其他字词。同样的键词可以筛选显示套件的清单：键入 <span
              class="keycap"><strong>l</strong></span> 键 (如同在 <span
              class="foreignphrase"><em
                class="foreignphrase">limit</em></span> 之内) 与其他键词。
			</div><div
            class="para">
				管理 Debian 套件的 “自动旗标” (见 <a
              class="xref"
              href="sect.apt-get.html#sect.automatic-tracking">第 6.2.7 节 “自动追踪已安装的套件”</a>)，对 <code
              class="command">aptitude</code> 而言是小事一椿。可以用 <span
              class="keycap"><strong>Shift</strong></span>+<span
              class="keycap"><strong>m</strong></span> 浏览已安装并标示为自动的套件或以 <span
              class="keycap"><strong>m</strong></span> 键移除标示。在套件清单内，“自动套件” 标示为 “A”。此功能也可简单看到机器内正在使用的套件，不必看那些程序库与相依性繁琐的细节。相关的键词可以与 <span
              class="keycap"><strong>l</strong></span> (启动筛选模式) 一起使用的是 <code
              class="literal">~i!~M</code>。它的作用是祗看已安装的套件 (<code
              class="literal">~i</code>) 不是被标示为自动(<code
              class="literal">!~M</code>) 的套件。
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>工具</em></span> 在命令行接口使用 <code
                        class="command">aptitude</code></strong></p></div></div></div><div
              class="para">
				经由命令行或交互接口可以近用 <code
                class="command">aptitude</code> 大部份的功能。命令行看来像是 <code
                class="command">apt-get</code> 与 <code
                class="command">apt-cache</code>。
			</div><div
              class="para">
				也能从命令行近用 <code
                class="command">aptitude</code> 的高端功能。使用交互版相同的套件搜索模式。例如，清除 “手动安装” 套件、在地安装的程序不再需要程序库或 Perl 模块，就可把对应的套件标示为自动：
			</div><pre
              class="screen"><code
                class="computeroutput"># </code><strong
                class="userinput"><code>aptitude markauto '~slibs|~sperl'</code></strong></pre><div
              class="para">
				从这里您可看到 <code
                class="command">aptitude</code> 搜索模式系统的威力，即时选取 <code
                class="literal">libs</code> 与 <code
                class="literal">perl</code> 区块的所有套件。
			</div><div
              class="para">
				小心对应，部份套件被标记为自动且其他套件均未相依于它们，该等套件就会被自动移除 (经过确认程序)。
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.9.13.6.9"></a>6.4.1.1. 管理推荐、建议与工作</h4></div></div></div><div
              class="para">
					<code
                class="command">aptitude</code> 另个有趣的功能是尊重套件间的建议，但给使用以个案方式选择不安装的自由。例如，<span
                class="pkg pkg">gnome</span> 套件建议 <span
                class="pkg pkg">gdebi</span> (及其他选择)。选择前者安装时，后者也被选取 (若未安装在系统内则标记为自动)。键入 <span
                class="keycap"><strong>g</strong></span> 将使其更明显：<span
                class="pkg pkg">gdebi</span> 显示在满足相依性的自动安装套件清单里的待决摘要画面。然而，在确认前可以不选择，而自行决定不要安装。
				</div><div
              class="para">
					此推荐追踪功能不适用于更新。例如，若 <span
                class="pkg pkg">gnome</span> 新版建议一个不包括稍前版本的套件，就不会安装它。然而，还是列在屏幕，管理者仍可点击并安装它。
				</div><div
              class="para">
					同时把套件间的建议列入考量，但调整入特别的情况。例如，自从 <span
                class="pkg pkg">gnome</span> 建议 <span
                class="pkg pkg">dia-gnome</span>，后者显示在屏幕的待决区 (其他套件的建议区)。这样子，就能看见且管理者可以决定是否把它们列入考量。毕竟祗是建议而不是相依或提议，套件仍不会被列入自动 — 需要读者的人工介入 (因此，套件不会被标示为自动)。
				</div><div
              class="para">
					在同样的精神下，记得 <code
                class="command">aptitude</code> 以智能的手法使用工作的概念。在屏幕的套件清单中显示工作，可以安装或移除选定的完整工作，或浏览包括选定较小工作的套件清单。
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.9.13.6.10"></a>6.4.1.2. 较佳的解决算法</h4></div></div></div><div
              class="para">
					总结本段的内容，在解决困难情境时，<code
                class="command">aptitude</code> 的演算较 <code
                class="command">apt-get</code> 更为复杂。需要运行一组工作且可能带领至另个支离的系统，<code
                class="command">aptitude</code> 评估若干可能的状况以递减关联的方式呈现。然而，这些算法不是失败的证明。幸运的是，总有手动选择运行的可能。现在的选择带领至矛盾的地方时，屏幕的上方就指出若干 “破碎” 的套件 (and you can directly navigate to those packages by pressing <span
                class="keycap"><strong>b</strong></span>)。就可能以人工方式创建解决此问题的方案。尤其是，可以按 <span
                class="keycap"><strong>Enter</strong></span> 键选取近用多个可用的版本。选定的版本可以解决问题，就勇敢不迟疑地使用其功能。破碎套件渐趋于零后，您可安全地进入待决区的摘要画面，于使用前再次确认。
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>说明</em></span> <code
                          class="command">aptitude</code> 的记录档</strong></p></div></div></div><div
                class="para">
					如同 <code
                  class="command">dpkg</code>，<code
                  class="command">aptitude</code> 追踪运行动作存在其记录档内 (<code
                  class="filename">/var/log/aptitude</code>)。然而，两个命令分别在不同层次工作，各自的记录档有不同的信息。当 <code
                  class="command">dpkg</code> 记录对各别套件的一步步运作，<code
                  class="command">aptitude</code> 则记录系统更新之类的高端运作。
				</div><div
                class="para">
					小心，记录档祗包括 <code
                  class="command">aptitude</code> 工作的摘要。若另个前端 (或即使是 <code
                  class="command">dpkg</code> 自身) 祗是偶而用到，则 <code
                  class="command">aptitude</code> 的记录档将祗包括工作的部份，所以不能依赖它创建系统的过去。
				</div></div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.9.13.7"></a>6.4.2. <code
                    class="command">synaptic</code></h3></div></div></div><div
            class="para">
				<code
              class="command">synaptic</code> 是 Debian 的套件图形管理器，在 GTK+/GNOME 的基础上提供清楚有效的图形接口。它以很多的立即可用筛选器提供快速近用添加的套件、安装套件、可升级套件、过时套件等。经由这些清单浏览，选定对套件的工作 (安装、升级、移除、清除)；不会立即运行此等工作，但把它们放入工作清单。单键按下可运行的工作，接着就可运行。
			</div><div
            class="figure"><a
              xmlns=""
              id="id-1.9.13.7.3"></a><div
              class="figure-contents"><div
                class="mediaobject"><img
                  src="images/synaptic.png"
                  alt="synaptic 套件管理器" /></div></div><p
              class="title"><strong>图 6.2. <code
                  class="command">synaptic</code> 套件管理器</strong></p></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.apt-cache.html"><strong>上一页</strong>6.3. The apt-cache 命令</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>上一级</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>起始页</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.package-authentication.html"><strong>下一页</strong>6.5. 检查套件真伪</a></li></ul></body></html>
