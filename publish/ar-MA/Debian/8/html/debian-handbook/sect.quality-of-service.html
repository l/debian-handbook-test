<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">10.3. جودة الخدمة</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-ar-MA-1.0-1" /><meta
        name="keywords"
        content="شبكة, البوابات, ‏TCP/IP, ‏IPv6, ‏DNS, ‏Bind, ‏DHCP, ‏QoS" /><link
        rel="home"
        href="index.html"
        title="دفتر مدير دبيان" /><link
        rel="up"
        href="network-infrastructure.html"
        title="فصل 10. البنية التحتية للشبكات" /><link
        rel="prev"
        href="sect.virtual-private-network.html"
        title="10.2. الشبكة الظاهرية الخاصة" /><link
        rel="next"
        href="sect.dynamic-routing.html"
        title="10.4. التوجيه الديناميكي" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/ar-MA/stable/sect.quality-of-service.html" /></head><body
      dir="rtl"><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.virtual-private-network.html"><strong>السابق</strong></a></li><li
          class="home">دفتر مدير دبيان</li><li
          class="next"><a
            accesskey="n"
            href="sect.dynamic-routing.html"><strong>التالي</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.quality-of-service"></a>10.3. جودة الخدمة</h2></div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.qos-principe"></a>10.3.1. المبدأ والآلية</h3></div></div></div><div
            class="para">
				يشير مصطلح جودة الخدمة <span
              class="emphasis"><em>Quality of Service</em></span> (أو <span
              class="emphasis"><em>QoS</em></span> اختصاراً) لمجموعة من التقنيات التي تضمن أو تحسن جودة الخدمة المقدمة للتطبيقات. من أشهر هذه التقنيات تصنيف بيانات الشبكة في فئات، وتمييز معالجة البيانات وفقًا للفئة التي تنتمي إليها. التطبيق الرئيسي لهذه الخدمة هو <span
              class="emphasis"><em>traffic shaping</em></span>، الذي يحدد معدلات نقل البيانات للاتصالات المتعلقة بخدمات أو أجهزة معينة حتى لا تستهلك كل السرعة المتاحة على حساب خدمات مهمة أخرى. هذه التقنية مفيدة خصوصًا مع رزم TCP، بما أن هذا البروتوكول يتكيّف آلياً مع سرعة الشبكة المتاحة.
			</div><a
            id="id-1.13.6.2.3"
            class="indexterm"></a><a
            id="id-1.13.6.2.4"
            class="indexterm"></a><a
            id="id-1.13.6.2.5"
            class="indexterm"></a><a
            id="id-1.13.6.2.6"
            class="indexterm"></a><div
            class="para">
				من الممكن أيضًا تغيير أولويات البيانات، وهذا يسمح برفع أولوية رزم الخدمات التفاعلية (مثل <code
              class="command">ssh</code> و<code
              class="command">telnet</code>) أو الخدمات التي تتعامل مع كميات قليلة فقط من البيانات.
			</div><div
            class="para">
				تتضمن نوى دبيان المزايا المطلوبة لخدمة QoS مع جميع الوحدات المرتبطة بها. هناك العديد من الوحدات، وكل منها تقدم خدمة مختلفة، من خلال تقديم مُجَدْوِلاتٍ خاصة لأرتال الانتظار الخاصة برزم IP؛ إن المجال الواسع من المجدولات المتوفرة يغطي جميع أنواع الاحتياجات الممكنة.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>ثقافة</em></span> LARTC ‏— <span
                        class="emphasis"><em>Linux Advanced Routing &amp; Traffic Control</em></span></strong></p></div></div></div><div
              class="para">
				إن وثيقة HOWTO المسماة <span
                class="emphasis"><em>Linux Advanced Routing &amp; Traffic Control</em></span> هي الوثيقة المرجعية التي تغطي كل شيء يتعلق بجودة الخدمة في الشبكات. <div
                xmlns=""
                class="url">→ <a
                  xmlns="http://www.w3.org/1999/xhtml"
                  href="http://www.lartc.org/howto/">http://www.lartc.org/howto/</a></div>
			</div><a
              id="id-1.13.6.2.9.3"
              class="indexterm"></a><a
              id="id-1.13.6.2.9.4"
              class="indexterm"></a><a
              id="id-1.13.6.2.9.5"
              class="indexterm"></a></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.qos-config"></a>10.3.2. الإعداد والتطبيق</h3></div></div></div><div
            class="para">
				تضبط متغيرات QoS عبر الأمر <code
              class="command">tc</code> (المتوفر في الحزمة <span
              class="pkg pkg">iproute</span>). بما أن واجهة هذا الأمر معقدة للغاية، يستحسن استخدام أدوات ذات مستوى أعلى.
			</div><a
            id="id-1.13.6.3.3"
            class="indexterm"></a><a
            id="id-1.13.6.3.4"
            class="indexterm"></a><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.qos-wondershaper"></a>10.3.2.1. تقليل زمن الوصول: <code
                      class="command">wondershaper</code></h4></div></div></div><div
              class="para">
					إن الهدف الرئيسي لبرنامج <code
                class="command">wondershaper</code> (في الحزمة ذات الاسم نفسه) هو تقليل أزمنة الوصول بغض النظر عن حمل الشبكة. يتحقق هذا من خلال حد حركة البيانات الكلية إلى قيمة أصغر بقليل من قيمة إشباع الخط.
				</div><a
              id="id-1.13.6.3.5.3"
              class="indexterm"></a><a
              id="id-1.13.6.3.5.4"
              class="indexterm"></a><a
              id="id-1.13.6.3.5.5"
              class="indexterm"></a><div
              class="para">
					بعد إعداد الواجهة الشبكية، يتم ضبط هذا التقييد في حركة البيانات عبر الأمر <code
                class="command">wondershaper <em
                  class="replaceable">interface</em> <em
                  class="replaceable">download_rate</em> <em
                  class="replaceable">upload_rate</em></code>. يمكن أن تكون الواجهة إما <code
                class="literal">eth0</code> أو <code
                class="literal">ppp0</code> على سبيل المثال، ويُقدَّر كلٌ من معدلي النقل بالكيلوبت بالثانية. يعطل الأمر <code
                class="command">wondershaper remove <em
                  class="replaceable">interface</em></code> التحكم بحركة البيانات على الواجهة المحددة.
				</div><div
              class="para">
					بالنسبة لاتصالات إيثرنت، أفضل حل هو استدعاء هذا السكربت تلقائياً بعد إعداد الواجهة الشبكية. يتم هذا بإضافة التعليمتين التوجيهيتين <code
                class="literal">up</code> (تشير إلى أمر يتم تنفيذه بعد إعداد الواجهة الشبكية) و<code
                class="literal">down</code> (تشير إلى أمر يتم تنفيذه قبل إلغاء إعداد الواجهة الشبكية) إلى الملف <code
                dir="ltr"
                class="filename">/etc/network/interfaces</code> وإضافة الأمرين السابقين كما يلي:
				</div><div
              class="example"><a
                xmlns=""
                id="example.network-interfaces"></a><p
                class="title"><strong>مثال 10.9. التغيرات في الملف <code
                    dir="ltr"
                    class="filename">/etc/network/interfaces</code></strong></p><div
                class="example-contents"><pre
                  class="programlisting">
iface eth0 inet dhcp
    up /sbin/wondershaper eth0 500 100
    down /sbin/wondershaper remove eth0
</pre></div></div><div
              class="para">
					في حالة اتصالات PPP، يمكن تفعيل التحكم بحركة البيانات مباشرة بعد بدء الاتصال عبر إنشاء سكربت يستدعي <code
                class="command">wondershaper</code> وتخزينه في <code
                class="filename">/etc/ppp/ip-up.d/</code>.
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>التعمق أكثر</em></span> الإعداد المثالي</strong></p></div></div></div><div
                class="para">
					يصف الملف <code
                  dir="ltr"
                  class="filename">/usr/share/doc/wondershaper/README.Debian.gz</code> –بشيء من التفصيل– طريقة الإعداد التي ينصح بها مشرف الحزمة. على وجه الخصوص، ينصح بقياس سرعتي التنزيل والرفع لتقدير الحدود الحقيقية بأفضل ما يمكن.
				</div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.qos-config-standard"></a>10.3.2.2. الإعداد القياسي</h4></div></div></div><div
              class="para">
					إذا لم يستخدم أي إعداد QoS خاص، سوف تستخدم النواة لينكس مجدول الأرتال <code
                class="literal">pfifo_fast</code>، الذي يوفر بعض المزايا المفيدة. كل رزمة IP لها أولوية تعتمد على حقل ToS (أي <span
                class="emphasis"><em>Type of Service</em></span>) الخاص بهذه الرزمة؛ ويكفي تعديل هذا الحقل للاستفادة من مزايا الجدولة. هناك خمس قيم ممكنة:
				</div><div
              xmlns:d="http://docbook.org/ns/docbook"
              class="itemizedlist"><ul><li
                  class="listitem"><div
                    class="para">
							خدمة عادية (0) (Normal-Service)؛
						</div></li><li
                  class="listitem"><div
                    class="para">
							تقليل الكلفة (2) (Minimize-Cost)؛
						</div></li><li
                  class="listitem"><div
                    class="para">
							رفع الوثوقية (4) (Maximize-Reliability)؛
						</div></li><li
                  class="listitem"><div
                    class="para">
							رفع مستوى النقل (8) (Maximize-Throughput)؛
						</div></li><li
                  class="listitem"><div
                    class="para">
							تقليل التأخير (16) (Minimize-Delay).
						</div></li></ul></div><a
              id="id-1.13.6.3.6.4"
              class="indexterm"></a><a
              id="id-1.13.6.3.6.5"
              class="indexterm"></a><div
              class="para">
					يمكن للتطبيق الذي يولد رزم IP تحديد قيمة الحقل ToS، أو يمكن تعديلها آنياً باستخدام <span
                class="emphasis"><em>netfilter</em></span>. القواعد التالية كافية لزيادة استجابة خدمة في مخدم SSH:
				</div><pre
              class="programlisting scale">
iptables -t mangle -A PREROUTING -p tcp --sport ssh -j TOS --set-tos Minimize-Delay
iptables -t mangle -A PREROUTING -p tcp --dport ssh -j TOS --set-tos Minimize-Delay
</pre></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.virtual-private-network.html"><strong>السابق</strong>10.2. الشبكة الظاهرية الخاصة</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>أعلى</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>البداية</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.dynamic-routing.html"><strong>التالي</strong>10.4. التوجيه الديناميكي</a></li></ul></body></html>
