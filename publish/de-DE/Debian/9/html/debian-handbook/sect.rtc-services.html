<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">11.8. Echtzeit-Kommunikationsdienste</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-de-DE-1.0-1" /><meta
        name="keywords"
        content="Postfix, Apache, NFS, Samba, Squid, OpenLDAP, SIP" /><link
        rel="home"
        href="index.html"
        title="Das Debian Administrationshandbuch" /><link
        rel="up"
        href="network-services.html"
        title="Kapitel 11. Netzwerkdienste: Postfix, Apache, NFS, Samba, Squid, LDAP, SIP, XMPP, TURN" /><link
        rel="prev"
        href="sect.ldap-directory.html"
        title="11.7. LDAP-Verzeichnis" /><link
        rel="next"
        href="advanced-administration.html"
        title="Kapitel 12. Erweiterte Verwaltung" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/de-DE/stable/sect.rtc-services.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.ldap-directory.html"><strong>Zurück</strong></a></li><li
          class="home">Das Debian Administrationshandbuch</li><li
          class="next"><a
            accesskey="n"
            href="advanced-administration.html"><strong>Weiter</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.rtc-services"></a>11.8. Echtzeit-Kommunikationsdienste</h2></div></div></div><div
          class="para">
			Real-Time Communication (RTC) Dienste beinhalten Sprache, Video/Webcam, Instant Messaging (IM) und Desktop Sharing. Dieses Kapitel gibt eine kurze Einführung in drei der für den Betrieb von RTC erforderlichen Dienste, darunter ein TURN-Server, SIP-Server und XMPP-Server. Ausführliche Informationen zur Planung, Installation und Verwaltung dieser Dienste finden Sie im Real-Time Communications Quick Start Guide, der Beispiele speziell für Debian enthält. <div
            xmlns=""
            class="url">→ <a
              xmlns="http://www.w3.org/1999/xhtml"
              href="http://rtcquickstart.org">http://rtcquickstart.org</a></div>
		</div><a
          id="id-1.14.11.3"
          class="indexterm"></a><a
          id="id-1.14.11.4"
          class="indexterm"></a><a
          id="id-1.14.11.5"
          class="indexterm"></a><a
          id="id-1.14.11.6"
          class="indexterm"></a><div
          class="para">
			Sowohl SIP als auch XMPP können die gleiche Funktionalität bieten. SIP ist etwas bekannter für Sprache und Video, während XMPP traditionell als IM-Protokoll angesehen wird. Allerdings können beide für jeden dieser Zwecke verwendet werden. Um die Konnektivitätsmöglichkeiten zu maximieren, wird empfohlen, beide parallel zu betreiben.
		</div><a
          id="id-1.14.11.8"
          class="indexterm"></a><a
          id="id-1.14.11.9"
          class="indexterm"></a><div
          class="para">
			Diese Dienste basieren auf X.509-Zertifikaten, sowohl für die Authentifizierung als auch für Vertraulichkeit. Siehe <a
            class="xref"
            href="sect.virtual-private-network.html#sect.easy-rsa">Abschnitt 10.2.1.1, „Public-Key-Infrastrultur: <span
              class="emphasis"><em>easy-rsa</em></span>“</a> für Details zur Erstellung. Alternativ dazu bietet die <span
            class="emphasis"><em>Real-Time Communications Quick Start Guide</em></span> auch nützliche Erklärungen: <div
            xmlns=""
            class="url">→ <a
              xmlns="http://www.w3.org/1999/xhtml"
              href="http://rtcquickstart.org/guide/multi/tls.html">http://rtcquickstart.org/guide/multi/tls.html</a></div>
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.rtc-dns-settings"></a>11.8.1. DNS-Einstellungen für RTC-Dienste</h3></div></div></div><div
            class="para">
				RTC-Dienste erfordern DNS SRV- und NAPTR-Einträge. Eine Beispielkonfiguration, die in der Zonendatei für <code
              class="literal">falcot.com</code> abgelegt werden kann:
			</div><a
            id="id-1.14.11.11.3"
            class="indexterm"></a><a
            id="id-1.14.11.11.4"
            class="indexterm"></a><pre
            class="programlisting">
; the server where everything will run
server1            IN     A      198.51.100.19
server1            IN     AAAA   2001:DB8:1000:2000::19

; IPv4 only for TURN for now, some clients are buggy with IPv6
turn-server        IN     A      198.51.100.19

; IPv4 and IPv6 addresses for SIP
sip-proxy          IN     A      198.51.100.19
sip-proxy          IN     AAAA   2001:DB8:1000:2000::19

; IPv4 and IPv6 addresses for XMPP
xmpp-gw            IN     A      198.51.100.19
xmpp-gw            IN     AAAA   2001:DB8:1000:2000::19

; DNS SRV and NAPTR for STUN / TURN
_stun._udp  IN SRV    0 1 3467 turn-server.falcot.com.
_turn._udp  IN SRV    0 1 3467 turn-server.falcot.com.
@           IN NAPTR  10 0 "s" "RELAY:turn.udp" "" _turn._udp.falcot.com.

; DNS SRV and NAPTR records for SIP
_sips._tcp  IN SRV    0 1 5061 sip-proxy.falcot.com.
@           IN NAPTR  10 0 "s" "SIPS+D2T" "" _sips._tcp.falcot.com.

; DNS SRV records for XMPP Server and Client modes:
_xmpp-client._tcp  IN     SRV    5 0 5222 xmpp-gw.falcot.com.
_xmpp-server._tcp  IN     SRV    5 0 5269 xmpp-gw.falcot.com.</pre></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.turn-server"></a>11.8.2. TURN-Server</h3></div></div></div><div
            class="para">
				TURN ist ein Dienst, der Clients hinter NAT-Routern und Firewalls hilft, die effizienteste Art der Kommunikation mit anderen Clients zu finden und die Medienströme weiterzuleiten, wenn kein direkter Medienpfad gefunden werden kann. Es wird dringend empfohlen, den TURN-Server zu installieren, bevor die anderen RTC-Dienste den Endbenutzern angeboten werden.
			</div><a
            id="id-1.14.11.12.3"
            class="indexterm"></a><div
            class="para">
				TURN und das zugehörige ICE-Protokoll sind offene Standards. Um von diesen Protokollen zu profitieren, die Konnektivität zu maximieren und die Frustration der Benutzer zu minimieren, ist es wichtig sicherzustellen, dass jede Client-Software ICE und TURN unterstützt.
			</div><a
            id="id-1.14.11.12.5"
            class="indexterm"></a><div
            class="para">
				Damit der ICE-Algorithmus effektiv funktioniert, muss der Server zwei öffentliche IPv4-Adressen haben.
			</div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.turn-server-install"></a>11.8.2.1. Den TURN-Server installieren</h4></div></div></div><div
              class="para">
					Das Paket <span
                class="pkg pkg">resiprocate-turn-server</span> Paket installieren.
				</div><div
              class="para">
					Bearbeiten Sie die Konfigurationsdatei <code
                class="filename">/etc/reTurn/reTurnServer.config</code>. Das Wichtigste ist, die IP-Adressen des Servers einzugeben.
				</div><pre
              class="programlisting">
# your IP addresses go here:
TurnAddress = 198.51.100.19
TurnV6Address = 2001:DB8:1000:2000::19
AltStunAddress = 198.51.100.20
# your domain goes here, it must match the value used
# to hash your passwords if they are already hashed
# using the HA1 algorithm:
AuthenticationRealm = myrealm

UserDatabaseFile = /etc/reTurn/users.txt
UserDatabaseHashedPasswords = true</pre><div
              class="para">
					Dienst neu starten.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.turn-server-management"></a>11.8.2.2. TURN-Benutzer verwalten</h4></div></div></div><div
              class="para">
					Verwenden Sie das Dienstprogramm htdigest, um die Benutzerliste des TURN-Servers zu verwalten.
				</div><pre
              class="screen"><code
                class="computeroutput"># </code><strong
                class="userinput"><code>htdigest /etc/reTurn/users.txt myrealm joe</code></strong></pre><div
              class="para">
					Verwenden Sie das HUP-Signal, damit der Server die Datei <code
                class="filename">/etc/reTurn/users.txt</code> nach dem Ändern neu lädt oder aktivieren Sie die automatische Reload-Funktion in <code
                class="filename">/etc/reTurn/reTurnServer.config</code>.
				</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.sip-server"></a>11.8.3. SIP Proxy-Server</h3></div></div></div><div
            class="para">
				Ein SIP-Proxy-Server verwaltet die ein- und ausgehenden SIP-Verbindungen zwischen anderen Organisationen, SIP-Trunking-Providern, SIP-Telefonanlagen wie Asterisk, SIP-Telefonen, SIP-basierten Softphones und WebRTC-Anwendungen.
			</div><a
            id="id-1.14.11.13.3"
            class="indexterm"></a><a
            id="id-1.14.11.13.4"
            class="indexterm"></a><a
            id="id-1.14.11.13.5"
            class="indexterm"></a><a
            id="id-1.14.11.13.6"
            class="indexterm"></a><div
            class="para">
				Es wird dringend empfohlen, den SIP-Proxy zu installieren und zu konfigurieren, bevor Sie eine SIP-Telefonanlage einrichten. Der SIP-Proxy normalisiert einen Großteil des Datenverkehrs, der die Telefonanlage erreicht und sorgt für mehr Konnektivität und Ausfallsicherheit.
			</div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.sip-server-install"></a>11.8.3.1. SIP-Proxy installieren</h4></div></div></div><div
              class="para">
					Installieren Sie das Paket <span
                class="pkg pkg">repro</span>. Die Verwendung des Pakets von <span
                class="distribution distribution">jessie-backports</span> wird dringend empfohlen, da es die neuesten Verbesserungen zur Maximierung der Konnektivität und Ausfallsicherheit enthält.
				</div><a
              id="id-1.14.11.13.8.3"
              class="indexterm"></a><div
              class="para">
					Bearbeiten Sie die Konfigurationsdatei <code
                class="filename">/etc/repro/repro/repro.config</code>. Das Wichtigste ist, die IP-Adressen des Servers einzugeben. Das folgende Beispiel zeigt, wie man sowohl normale SIP- als auch WebSockets/WebRTCs mit TLS, IPv4 und IPv6 einrichtet:
				</div><pre
              class="programlisting">
# Transport1 will be for SIP over TLS connections
# We use port 5061 here but if you have clients connecting from
# locations with firewalls you could change this to listen on port 443
Transport1Interface = 198.51.100.19:5061
Transport1Type = TLS
Transport1TlsDomain = falcot.com
Transport1TlsClientVerification = Optional
Transport1RecordRouteUri = sip:falcot.com;transport=TLS
Transport1TlsPrivateKey = /etc/ssl/private/falcot.com-key.pem
Transport1TlsCertificate = /etc/ssl/public/falcot.com.pem

# Transport2 is the IPv6 version of Transport1
Transport2Interface = 2001:DB8:1000:2000::19:5061
Transport2Type = TLS
Transport2TlsDomain = falcot.com
Transport2TlsClientVerification = Optional
Transport2RecordRouteUri = sip:falcot.com;transport=TLS
Transport2TlsPrivateKey = /etc/ssl/private/falcot.com-key.pem
Transport2TlsCertificate = /etc/ssl/public/falcot.com.pem

# Transport3 will be for SIP over WebSocket (WebRTC) connections
# We use port 8443 here but you could use 443 instead
Transport3Interface = 198.51.100.19:8443
Transport3Type = WSS
Transport3TlsDomain = falcot.com
# This would require the browser to send a certificate, but browsers
# don't currently appear to be able to, so leave it as None:
Transport3TlsClientVerification = None
Transport3RecordRouteUri = sip:falcot.com;transport=WSS
Transport3TlsPrivateKey = /etc/ssl/private/falcot.com-key.pem
Transport3TlsCertificate = /etc/ssl/public/falcot.com.pem

# Transport4 is the IPv6 version of Transport3
Transport4Interface = 2001:DB8:1000:2000::19:8443
Transport4Type = WSS
Transport4TlsDomain = falcot.com
Transport4TlsClientVerification = None
Transport4RecordRouteUri = sip:falcot.com;transport=WSS
Transport4TlsPrivateKey = /etc/ssl/private/falcot.com-key.pem
Transport4TlsCertificate = /etc/ssl/public/falcot.com.pem

# Transport5: this could be for TCP connections to an Asterisk server
# in your internal network.  Don't allow port 5060 through the external
# firewall.
Transport5Interface = 198.51.100.19:5060
Transport5Type = TCP
Transport5RecordRouteUri = sip:198.51.100.19:5060;transport=TCP

HttpBindAddress = 198.51.100.19, 2001:DB8:1000:2000::19
HttpAdminUserFile = /etc/repro/users.txt

RecordRouteUri = sip:falcot.com;transport=tls
ForceRecordRouting = true
EnumSuffixes = e164.arpa, sip5060.net, e164.org
DisableOutbound = false
EnableFlowTokens = true
EnableCertificateAuthenticator = True</pre><div
              class="para">
					Verwenden Sie das Dienstprogramm <code
                class="command">htdigest</code>, um das Admin-Passwort für das Web-Interface zu verwalten. Der Benutzername muss <span
                class="emphasis"><em>admin</em></span> sein und der Realmname muss mit dem in <code
                class="filename">repro.config</code> angegebenen Wert übereinstimmen.
				</div><pre
              class="screen"><code
                class="computeroutput"># </code><strong
                class="userinput"><code>htdigest /etc/repro/users.txt repro admin</code></strong></pre><div
              class="para">
					Starten Sie den Dienst neu, um die neue Konfiguration zu verwenden.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.sip-server-management"></a>11.8.3.2. Den SIP-Proxy verwalten</h4></div></div></div><div
              class="para">
					Gehen Sie zum Webinterface unter <code
                class="literal">http://sip-proxy.falcot.com:5080</code>, um die Konfiguration durch Hinzufügen von Domänen, lokalen Benutzern und statischen Routen abzuschließen.
				</div><div
              class="para">
					Der erste Schritt ist das Hinzufügen der lokalen Domäne. Der Vorgang muss nach dem Hinzufügen oder Entfernen von Domänen aus der Liste neu gestartet werden.
				</div><div
              class="para">
					Der Proxy weiß, wie man Anrufe zwischen lokalen Benutzern und vollen SIP-Adressen weiterleitet, die Routing-Konfiguration ist nur notwendig, um das Standardverhalten zu überschreiben, z.B. um Telefonnummern zu erkennen, ein Präfix hinzuzufügen und sie an einen SIP-Provider weiterzuleiten.
				</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.xmpp-server"></a>11.8.4. XMPP-Server</h3></div></div></div><div
            class="para">
				Ein XMPP-Server verwaltet die Konnektivität zwischen lokalen XMPP-Benutzern und XMPP-Benutzern in anderen Domänen im öffentlichen Internet.
			</div><a
            id="id-1.14.11.14.3"
            class="indexterm"></a><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>WÖRTERVERZEICHNIS</em></span> XMPP oder Jabber?</strong></p></div></div></div><a
              id="id-1.14.11.14.4.2"
              class="indexterm"></a><div
              class="para">
				XMPP wird manchmal als Jabber bezeichnet. Tatsächlich ist Jabber ein Warenzeichen und XMPP ist der offizielle Name des Standards.
			</div><a
              id="id-1.14.11.14.4.4"
              class="indexterm"></a></div><div
            class="para">
				Prosody ist ein beliebter XMPP-Server, der zuverlässig auf Debian-Servern läuft.
			</div><a
            id="id-1.14.11.14.6"
            class="indexterm"></a><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.xmpp-server-install"></a>11.8.4.1. Installieren des XMPP-Servers</h4></div></div></div><div
              class="para">
					Installieren Sie das Paket <span
                class="pkg pkg">repro</span>. Die Verwendung des Pakets von <span
                class="distribution distribution">jessie-backports</span> wird dringend empfohlen, da es die neuesten Verbesserungen zur Maximierung der Konnektivität und Ausfallsicherheit enthält.
				</div><a
              id="id-1.14.11.14.7.3"
              class="indexterm"></a><div
              class="para">
					Überprüfen Sie die Konfigurationsdatei <code
                class="filename">/etc/prosody/prosody.cfg.lua</code>. Das Wichtigste ist das Einfügen von JIDs der Benutzer, die den Server verwalten dürfen.
				</div><pre
              class="programlisting">
admins = { "joe@falcot.com" }</pre><div
              class="para">
					Außerdem wird für jede Domäne eine eigene Konfigurationsdatei benötigt. Kopieren Sie das Beispiel aus <code
                class="filename">/etc/prosody/conf.avail/example.com.cfg.lua</code> und verwenden Sie es als Ausgangspunkt. Hier ist <code
                class="literal">falcot.com.cfg.lua</code>:
				</div><pre
              class="programlisting">
VirtualHost "falcot.com"
        enabled = true
        ssl = {
                key = "/etc/ssl/private/falcot.com-key.pem";
                certificate = "/etc/ssl/public/falcot.com.pem";
                }</pre><div
              class="para">
					Um die Domain zu aktivieren, muss ein Symlink von <code
                class="filename">/etc/prosody/conf.d/</code> vorhanden sein. Erstellen Sie es so:
				</div><pre
              class="screen"><code
                class="computeroutput"># </code><strong
                class="userinput"><code>ln -s /etc/prosody/conf.avail/falcot.com.cfg.lua /etc/prosody/conf.d/</code></strong></pre><div
              class="para">
					Starten Sie den Dienst neu, um die neue Konfiguration zu verwenden.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.xmpp-server-management"></a>11.8.4.2. Verwalten des XMPP-Servers</h4></div></div></div><div
              class="para">
					Einige Verwaltungsvorgänge können mit dem Kommandozeilenprogramm <code
                class="literal">prosodyctl</code> durchgeführt werden. Zum Beispiel, um das unter <code
                class="filename">/etc/prosody/prosody.cfg.lua</code> angegebene Administratorkonto hinzuzufügen:
				</div><pre
              class="programlisting">
# prosodyctl adduser joe@falcot.com</pre><div
              class="para">
					Finden Sie in der <a
                href="http://prosody.im/doc/configure"> Prosody online documentation</a> weitere Details zur Anpassung der Konfiguration.
				</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.rtc-port-443"></a>11.8.5. Laufende Dienste auf Port 443</h3></div></div></div><div
            class="para">
				Einige Administratoren bevorzugen alle ihre RTC-Dienste auf Port 443 laufen zu lassen. Dies hilft Benutzern, sich von entfernten Orten wie Hotels und Flughäfen aus zu verbinden, wo andere Ports blockiert werden können oder der Internetverkehr über HTTP-Proxy-Server geleitet wird.
			</div><div
            class="para">
				Um diese Strategie zu nutzen, benötigt jeder Dienst (SIP, XMPP und TURN) eine andere IP-Adresse. Alle Dienste können sich weiterhin auf demselben Host befinden, da Linux mehrere IP-Adressen auf einem einzigen Host unterstützt. Die Portnummer 443 muss in den Konfigurationsdateien für jeden Prozess und auch in den DNS-SRV-Einträgen angegeben werden.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.rtc-webrtc"></a>11.8.6. WebRTC hinzufügen</h3></div></div></div><div
            class="para">
				Falcot möchte Kunden direkt von der Website aus telefonieren lassen. Die Falcot-Administratoren wollen WebRTC auch als Teil ihres Disaster-Recovery-Plans nutzen, so dass sich die Mitarbeiter zu Hause über Webbrowser in die Telefonanlage des Unternehmens einloggen und im Notfall normal arbeiten können.
			</div><a
            id="id-1.14.11.16.3"
            class="indexterm"></a><a
            id="id-1.14.11.16.4"
            class="indexterm"></a><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>IN DER PRAXIS</em></span> WebRTC ausprobieren</strong></p></div></div></div><a
              id="id-1.14.11.16.5.2"
              class="indexterm"></a><div
              class="para">
				Wenn Sie WebRTC noch nicht ausprobiert haben, gibt es verschiedene Webseiten, die eine Online-Demonstration sowie Testmöglichkeiten bieten. <div
                xmlns=""
                class="url">→ <a
                  xmlns="http://www.w3.org/1999/xhtml"
                  href="http://www.sip5060.net/test-calls">http://www.sip5060.net/test-calls</a></div>
			</div></div><div
            class="para">
				WebRTC ist eine sich schnell entwickelnde Technologie und es ist wichtig, Pakete aus der <span
              class="distribution distribution">jessie-backports</span> oder <span
              class="distribution distribution">Testing</span> Distributionen zu verwenden.
			</div><div
            class="para">
				JSCommunicator ist ein generisches, markenfreies WebRTC-Telefon, das kein serverseitiges Scripting wie PHP benötigt. Es wurde ausschließlich mit HTML, CSS und JavaScript erstellt. Es ist die Basis für viele weitere WebRTC-Dienste und Module für erweiterte Web-Publishing-Frameworks. <div
              xmlns=""
              class="url">→ <a
                xmlns="http://www.w3.org/1999/xhtml"
                href="http://jscommunicator.org">http://jscommunicator.org</a></div>
			</div><a
            id="id-1.14.11.16.8"
            class="indexterm"></a><div
            class="para">
				Das Paket <span
              class="pkg pkg">jscommunicator-web-phone</span> ist der schnellste Weg, ein WebRTC-Telefon in eine Website zu installieren. Es wird ein SIP-Proxy mit einem WebSocket-Transport benötigt. Die Anweisungen in <a
              class="xref"
              href="sect.rtc-services.html#sect.sip-server-install">Abschnitt 11.8.3.1, „SIP-Proxy installieren“</a> enthalten die notwendigen Details, um den WebSocket-Transport in der <span
              class="pkg pkg">repro</span> SIP-Proxy zu aktivieren.
			</div><div
            class="para">
				Nach der Installation von <span
              class="pkg pkg">jscommunicator-web-phone</span> gibt es verschiedene Möglichkeiten, es zu verwenden. Eine einfache Methode besteht darin, die Konfiguration von <code
              class="filename">/etc/jscommunicator-web-phone/apache.conf</code> in eine virtuelle Apache-Host-Konfiguration einzubinden oder zu kopieren.
			</div><div
            class="para">
				Sobald die Web-Telefondateien im Webserver verfügbar sind, passen Sie den <code
              class="filename">/etc/jscommunicator-web-phone/config.js</code> so an, dass er auf den TURN-Server und den SIP-Proxy zeigt. Zum Beispiel:
			</div><pre
            class="programlisting">
JSCommSettings = {

  // Web server environment
  webserver: {
    url_prefix: null            // If set, prefix used to construct sound/ URLs
  },

  // STUN/TURN media relays
  stun_servers: [],
  turn_servers: [
    { server:"turn:turn-server.falcot.com?transport=udp", username:"joe", password:"j0Ep455d" }
  ],

  // WebSocket connection
  websocket: {
      // Notice we use the falcot.com domain certificate and port 8443
      // This matches the Transport3 and Transport4 example in
      // the falcot.com repro.config file
    servers: 'wss://falcot.com:8443',
    connection_recovery_min_interval: 2,
    connection_recovery_max_interval: 30
  },

  ...</pre><div
            class="para">
				Erweiterte Click-to-Call-Websites verwenden normalerweise serverseitiges Scripting, um die Datei <code
              class="literal">config.js</code> dynamisch zu erzeugen. Der <a
              href="http://drucall.org">DruCall</a> Quellcode zeigt, wie man dies mit PHP macht.
			</div><a
            id="id-1.14.11.16.14"
            class="indexterm"></a><div
            class="para">
				Dieses Kapitel hat nur einen Bruchteil der verfügbaren Serversoftware dargestellt; jedoch wurden die meisten der üblichen Netzwerkdienste beschrieben. Jetzt ist es Zeit für ein noch technischeres Kapitel: wir werden tiefer in die Einzelheiten einiger Konzepte eindringen, sowie Masseneinsätze und Virtualisierungen beschreiben.
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.ldap-directory.html"><strong>Zurück</strong>11.7. LDAP-Verzeichnis</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Nach oben</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Zum Anfang</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="advanced-administration.html"><strong>Weiter</strong>Kapitel 12. Erweiterte Verwaltung</a></li></ul></body></html>
