<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">9.9. Kvoter (Quotas)</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-nb-NO-1.0-1" /><meta
        name="keywords"
        content="Systemoppstart, Initskript, SSH, Telnet, Rettigheter, Tillatelser, Overvåking, Inetd, Cron, Sikkerhetskopiering, Hot-plugging, PCMCIA, APM, ACPI" /><link
        rel="home"
        href="index.html"
        title="Debian-administratorens håndbok" /><link
        rel="up"
        href="unix-services.html"
        title="Kapittel 9. Unix-tjenester" /><link
        rel="prev"
        href="sect.asynchronous-task-scheduling-anacron.html"
        title="9.8. Å planlegge asynkrone oppgaver: anacron" /><link
        rel="next"
        href="sect.backup.html"
        title="9.10. Sikkerhetskopiering" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/nb-NO/stable/sect.quotas.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.asynchronous-task-scheduling-anacron.html"><strong>Forrige</strong></a></li><li
          class="home">Debian-administratorens håndbok</li><li
          class="next"><a
            accesskey="n"
            href="sect.backup.html"><strong>Neste</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.quotas"></a>9.9. Kvoter (Quotas)</h2></div></div></div><a
          id="id-1.12.12.2"
          class="indexterm"></a><div
          class="para">
			Kvotesystemet kan begrense diskplass avsatt til en bruker, eller gruppe av brukere. For å sette det opp må du ha en kjerne som støtter det (utarbeidet med <code
            class="varname">CONFIG_QUOTA</code> alternativ) - som er tilfellet med Debian-kjernene. Kvotehåndteringsprogrammet finnes i <span
            class="pkg pkg">quota</span> Debian-pakken.
		</div><div
          class="para">
			For å aktivere kvoter i et filsystem må du angi <code
            class="literal">usrquota</code> og <code
            class="literal">grpquota</code>-valgene i <code
            class="filename">/etc/fstab</code> for henholdsvis bruker- og gruppekvotene. Deretter vil restarting av maskinen oppdatere kvotene i fravær av diskaktivitet (en nødvendig betingelse for riktig bokføring av allerede brukt diskplass).
		</div><div
          class="para">
			Kommandoen <code
            class="command">edquota <em
              class="replaceable">bruker</em></code> (eller <code
            class="command">edquota -g <em
              class="replaceable">gruppe</em></code>) tillater deg å endre grensene mens bruken av gjeldende diskplass undersøkes.
		</div><a
          id="id-1.12.12.6"
          class="indexterm"></a><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>GÅR VIDERE</em></span> Å definere kvoter med et skript</strong></p></div></div></div><a
            id="id-1.12.12.7.2"
            class="indexterm"></a><div
            class="para">
			Programmet <code
              class="command">setquota</code> kan bli brukt i et skript for automatisk å forandre mange kvoter. Dets manualside <span
              class="citerefentry"><span
                class="refentrytitle">setquota</span>(8)</span> gir detaljer om syntaksen som kan brukes.
		</div></div><div
          class="para">
			Kvotesystemet lar deg sette fire grenser:
		</div><div
          xmlns:d="http://docbook.org/ns/docbook"
          class="itemizedlist"><ul><li
              class="listitem"><div
                class="para">
					to grenser (kalt «myk» og «hard») refererer til det antall blokker som brukes. Hvis filsystemet ble opprettet med en blokk-størrelse på 1 kibibyte, inneholder en blokk 1024 byte fra den samme filen. Ikke fylte blokker forårsaker dermed tap av diskplass . En kvote på 100 blokker, som teoretisk tillater lagring av 102.400 byte, vil imidlertid være fylt med bare 100 filer på 500 byte hver, og bare representere 50.000 byte totalt.
				</div></li><li
              class="listitem"><div
                class="para">
					to grenser (myke og harde) refererer til antall brukte inoder. Hver fil opptar minst en inode for å lagre informasjon om den (tillatelser, eier, tidsstempel for siste tilgang, etc.). Det er derfor en grense på antallet brukerfiler .
				</div></li></ul></div><div
          class="para">
			En «myk» grense kan overskrides midlertidig; Brukeren vil bare bli advart om at de overstiger kvoten fra <code
            class="command">warnquota</code>-kommandoen, som vanligvis er utløst av <code
            class="command">cron</code>. En «hard» grense kan aldri bli overskredet: Systemet vil nekte enhver operasjon som vil føre til at en hard kvote blir overskredet.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>ORDFORRÅD</em></span> Blokker og inoder</strong></p></div></div></div><a
            id="id-1.12.12.11.2"
            class="indexterm"></a><a
            id="id-1.12.12.11.3"
            class="indexterm"></a><div
            class="para">
			Filsystemet deler harddisken inn i blokker - små sammenhengende områder. Størrelsen på disse blokkene er definert ved etableringen av filsystemet, og varierer vanligvis mellom 1 og 8 kibibytes.
		</div><div
            class="para">
			En blokk kan enten brukes til å lagre de virkelige dataene fra en fil, eller til metadata som brukes av filsystemet. Blant disse metadataene vil du særlig finne inoder. En inode bruker en blokk på harddisken (men denne blokken er det ikke tatt hensyn til i blokkvoten, bare i inodekvoten), og inneholder både informasjon om filen som den tilsvarer (navn, eier, tillatelser, etc .) og pekere til datablokker som faktisk brukes. For meget store filer som opptar flere blokker enn det er mulig å referere til i en enkelt inode, er det et indirekte blokkeringssystem; inoden refererer til en liste med blokker som ikke direkte inneholder data, men en annen liste med blokker.
		</div></div><a
          id="id-1.12.12.12"
          class="indexterm"></a><div
          class="para">
			Med <code
            class="command">edquota -t</code>-kommandoen, kan du definere en maksimal tillatt «nådeperiode» («grace period») innenfor hvilken en myk grense kan overskrides. Etter denne perioden, vil den myke grensen bli behandlet som en hard grense, og brukeren vil måtte redusere sin bruk av diskplass til denne grensen, for å kunne skrive noe på harddisken.
		</div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>GÅR VIDERE</em></span> Å sette en oppstartskvote (standardkvote) for nye brukere.</strong></p></div></div></div><div
            class="para">
			For å sette opp en kvote til nye brukere automatisk må du konfigurere en brukermal (med <code
              class="command">edquota</code>, eller <code
              class="command">setquota</code>), og indikere brukernavnet deres i <code
              class="varname">QUOTAUSER</code>-variabelen i <code
              class="filename">/etc/adduser.conf</code>-filen. Denne kvotekonfigurasjonen vil da automatisk bli brukt på hver nye bruker som opprettes med <code
              class="command">adduser</code>-kommandoen.
		</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.asynchronous-task-scheduling-anacron.html"><strong>Forrige</strong>9.8. Å planlegge asynkrone oppgaver: anacron</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Opp</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Hjem</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.backup.html"><strong>Neste</strong>9.10. Sikkerhetskopiering</a></li></ul></body></html>
