<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">6.7. Mantendo um Sistema Atualizado</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-pt-BR-1.0-1" /><meta
        name="keywords"
        content="apt, apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="O Manual do Administrador Debian" /><link
        rel="up"
        href="apt.html"
        title="Capítulo 6. Manutenções e atualizações: As ferramentas APT" /><link
        rel="prev"
        href="sect.dist-upgrade.html"
        title="6.6. Atualizando de uma Versão Estável para a Próxima" /><link
        rel="next"
        href="sect.automatic-upgrades.html"
        title="6.8. Atualizações Automáticas" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/pt-BR/stable/sect.regular-upgrades.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.dist-upgrade.html"><strong>Anterior</strong></a></li><li
          class="home">O Manual do Administrador Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.automatic-upgrades.html"><strong>Próxima</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.regular-upgrades"></a>6.7. Mantendo um Sistema Atualizado</h2></div></div></div><div
          class="para">
			A distribuição Debian é dinâmica e muda continuamente. A maioria das mudanças ficam nas versões <span
            class="distribution distribution">Testing</span> e <span
            class="distribution distribution">Unstable</span>, mas mesmo a <span
            class="distribution distribution">Stable</span> é atualizada de tempos em tempos, geralmente por algo relativo a segurança. Qualquer que seja a versão do Debian que o sistema rodar, é geralmente uma boa ideia mantê-la atualizada, de forma que você possa se beneficiar das recentes evoluções e consertos de bug.
		</div><div
          class="para">
			Mesmo que seja obviamente possível executar periodicamente uma ferramenta para verificar por atualizações disponíveis e executar as atualizações, tal tarefa repetitiva é tediosa, especialmente quando for feita em várias máquinas. Felizmente, assim como muitas tarefas repetitivas, ela pode ser parcialmente automatizada, e um conjunto de ferramentas já foi desenvolvido para isto.
		</div><div
          class="para">
			A primeira destas ferramentas é a <code
            class="command">apticron</code>, no pacote de mesmo nome. Seu principal efeito é executar um script diariamente (via <code
            class="command">cron</code>). O script atualiza a lista de pacotes disponíveis, e, se alguns pacotes instalados não estão na versão mais recente, ele envia um email com uma lista destes pacotes e com as mudanças que foram feitas nas novas versões. Obviamente, este pacote foca principalmente em usuários do Debian <span
            class="distribution distribution">Stable</span>, já que os emails diários podem ser muito longos para versões de ritmo mais rápido do Debian. Quando atualizações são disponibilizadas, o <code
            class="command">apticron</code> automaticamente baixa elas. Mas não as instala — o administrador ainda tem que fazer isto — mas ter os pacotes já baixados e disponíveis localmente (no cache do APT) torna o serviço mais rápido.
		</div><div
          class="para">
			Administrators in charge of several computers will no doubt appreciate being informed of pending upgrades, but the upgrades themselves are still as tedious as they used to be. Periodic upgrades can be enabled: it uses a <code
            class="command">systemd</code> timer unit or <code
            class="command">cron</code>. If <span
            class="pkg pkg">systemd</span> is not installed the <code
            class="filename">/etc/cron.daily/apt-compat</code> script (in the <span
            class="pkg pkg">apt</span> package) comes in handy. This script is run daily (and non-interactively) by <code
            class="command">cron</code>. To control the behavior, use APT configuration variables (which are therefore stored in a file <code
            class="filename">/etc/apt/apt.conf.d/10periodic</code>). The main variables are:
		</div><div
          class="variablelist"><dl
            class="variablelist"><dt><span
                class="term"><code
                  class="literal">APT::Periodic::Update-Package-Lists</code></span></dt><dd><div
                class="para">
						Esta opção especifica a frequência (em dias) na qual a lista de pacotes é atualizada. Usuários do <code
                  class="command">apticron</code> podem seguir sem esta variável, já que o <code
                  class="command">apticron</code> já faz esta tarefa.
					</div></dd><dt><span
                class="term"><code
                  class="literal">APT::Periodic::Download-Upgradeable-Packages</code></span></dt><dd><div
                class="para">
						De novo, esta opção indica uma frequência (em dias), agora para o download dos pacotes em si. Novamente, os usuários do <code
                  class="command">apticron</code> não precisam disto.
					</div></dd><dt><span
                class="term"><code
                  class="literal">APT::Periodic::AutocleanInterval</code></span></dt><dd><div
                class="para">
						Esta opção cobre uma funcionalidade que o <code
                  class="command">apticron</code> não tem. Ela controla quão frequentemente pacotes obsoletos (aqueles não referenciados por mais nenhuma distribuição) são removidos do cache do APT. Isto mantém o cache do APT num tamanho razoável e evita que você tenha que se preocupar com esta tarefa.
					</div></dd><dt><span
                class="term"><code
                  class="literal">APT::Periodic::Unattended-Upgrade</code></span></dt><dd><a
                id="id-1.9.16.6.4.2.1"
                class="indexterm"></a><div
                class="para">
						Quando esta opção está ativada, o script será executado diariamente <code
                  class="command">unattended-upgrade</code> (do pacote <span
                  class="pkg pkg">unattended-upgrades</span>) que - como o próprio nome sugere - pode automatizar o processo de atualização de alguns pacotes (por padrão, ele só cuida de atualizações de segurança, mas isso pode ser personalizado em <code
                  class="filename">/etc/apt/apt.conf.d/50unattended-upgrades</code>). Observe que esta opção pode ser definida com a ajuda de debconf executando <code
                  class="command">dpkg-reconfigure -plow unattended-upgrades</code>.
					</div></dd></dl></div><div
          class="para">
			Other options can allow you to control the cache cleaning behavior with more precision. They are not listed here, but they are described in the <code
            class="filename">/usr/lib/apt/apt.systemd.daily</code> script.
		</div><a
          id="id-1.9.16.8"
          class="indexterm"></a><div
          class="para">
			These tools work very well for servers, but desktop users generally prefer a more interactive system. The package <span
            class="pkg pkg">gnome-packagekit</span> provides an icon in the notification area of desktop environments when updates are available; clicking on this icon then runs <code
            class="command">gpk-update-viewer</code>, a simplified interface to perform updates. You can browse through available updates, read the short description of the relevant packages and the corresponding <code
            class="filename">changelog</code> entries, and select whether to apply the update or not on a case-by-case basis.
		</div><div
          class="figure"><a
            xmlns=""
            id="id-1.9.16.10"></a><div
            class="figure-contents"><div
              class="mediaobject"><img
                src="images/gnome-packagekit.png"
                alt="Atualizando com gpk-update-viewer" /></div></div><p
            class="title"><strong>Figura 6.3. Atualizando com <code
                class="command">gpk-update-viewer</code></strong></p></div><div
          class="para">
			This tool is no longer installed in the default GNOME desktop. The new philosophy is that security updates should be automatically installed, either in the background or, preferably, when you shutdown your computer so as to not confuse any running application.
		</div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.dist-upgrade.html"><strong>Anterior</strong>6.6. Atualizando de uma Versão Estável para a Pró...</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Acima</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Principal</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.automatic-upgrades.html"><strong>Próxima</strong>6.8. Atualizações Automáticas</a></li></ul></body></html>
