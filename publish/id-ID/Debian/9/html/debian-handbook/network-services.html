<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">Bab 11. Layanan Jaringan: Postfix, Apache, NFS, Samba, Squid, LDAP, SIP, XMPP, TURN</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-id-ID-1.0-1" /><meta
        name="keywords"
        content="Postfix, Apache, NFS, Samba, Squid, OpenLDAP, SIP" /><link
        rel="home"
        href="index.html"
        title="Buku Panduan Administrator Debian" /><link
        rel="up"
        href="index.html"
        title="Buku Panduan Administrator Debian" /><link
        rel="prev"
        href="sect.network-diagnosis-tools.html"
        title="10.8. Alat Diagnosis Jaringan" /><link
        rel="next"
        href="sect.http-web-server.html"
        title="11.2. Server Web (HTTP)" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/id-ID/stable/network-services.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.network-diagnosis-tools.html"><strong>Sebelumnya</strong></a></li><li
          class="home">Buku Panduan Administrator Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.http-web-server.html"><strong>Lanjut</strong></a></li></ul><div
        xml:lang="id-ID"
        class="chapter"
        lang="id-ID"><div
          class="titlepage"><div><div><h1
                class="title"><a
                  xmlns=""
                  id="network-services"></a>Bab 11. Layanan Jaringan: Postfix, Apache, NFS, Samba, Squid, LDAP, SIP, XMPP, TURN</h1></div></div></div><div
          class="toc"><dl
            class="toc"><dt><span
                class="section"><a
                  href="network-services.html#sect.smtp-mail-server">11.1. Server Mail</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="network-services.html#id-1.14.4.7">11.1.1. Instalasi Postfix</a></span></dt><dt><span
                    class="section"><a
                      href="network-services.html#sect.configuring-virtual-domains">11.1.2. Mengkonfigurasi Domain Virtual</a></span></dt><dt><span
                    class="section"><a
                      href="network-services.html#sect.restrictions-for-receiving-and-sending">11.1.3. Pembatasan Penerimaan dan Pengiriman</a></span></dt><dt><span
                    class="section"><a
                      href="network-services.html#sect.setting-up-greylisting">11.1.4. Menyiapkan <span
                        class="foreignphrase"><em
                          class="foreignphrase">greylisting</em></span></a></span></dt><dt><span
                    class="section"><a
                      href="network-services.html#id-1.14.4.11">11.1.5. Mengubah Filter Berdasarkan Penerima</a></span></dt><dt><span
                    class="section"><a
                      href="network-services.html#sect.postfix-antivirus">11.1.6. Mengintegrasikan Antivirus</a></span></dt><dt><span
                    class="section"><a
                      href="network-services.html#sect.authenticated-smtp">11.1.7. SMTP Terotentikasi</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.http-web-server.html">11.2. Server Web (HTTP)</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.http-web-server.html#id-1.14.5.9">11.2.1. Memasang Apache</a></span></dt><dt><span
                    class="section"><a
                      href="sect.http-web-server.html#id-1.14.5.10">11.2.2. Mengkonfigurasi Host Virtual</a></span></dt><dt><span
                    class="section"><a
                      href="sect.http-web-server.html#id-1.14.5.11">11.2.3. Direktif Umum</a></span></dt><dt><span
                    class="section"><a
                      href="sect.http-web-server.html#id-1.14.5.12">11.2.4. Penganalisis Log</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.ftp-file-server.html">11.3. Server Berkas FTP</a></span></dt><dt><span
                class="section"><a
                  href="sect.nfs-file-server.html">11.4. Server Berkas NFS</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.nfs-file-server.html#id-1.14.7.10">11.4.1. Mengamankan NFS</a></span></dt><dt><span
                    class="section"><a
                      href="sect.nfs-file-server.html#id-1.14.7.11">11.4.2. Server NFS</a></span></dt><dt><span
                    class="section"><a
                      href="sect.nfs-file-server.html#id-1.14.7.12">11.4.3. Klien NFS</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.windows-file-server-with-samba.html">11.5. Setting Up Windows Shares with Samba</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.windows-file-server-with-samba.html#id-1.14.8.9">11.5.1. Server Samba</a></span></dt><dt><span
                    class="section"><a
                      href="sect.windows-file-server-with-samba.html#id-1.14.8.10">11.5.2. Klien Samba</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.http-ftp-proxy.html">11.6. Proksi HTTP/FTP</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.http-ftp-proxy.html#id-1.14.9.8">11.6.1. Memasang</a></span></dt><dt><span
                    class="section"><a
                      href="sect.http-ftp-proxy.html#id-1.14.9.9">11.6.2. Mengkonfigurasi sebuah Singgahan</a></span></dt><dt><span
                    class="section"><a
                      href="sect.http-ftp-proxy.html#id-1.14.9.10">11.6.3. Mengkonfigurasi suatu Penyaring</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.ldap-directory.html">11.7. Direktori LDAP</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.ldap-directory.html#id-1.14.10.7">11.7.1. Memasang</a></span></dt><dt><span
                    class="section"><a
                      href="sect.ldap-directory.html#id-1.14.10.8">11.7.2. Mengisi Direktori</a></span></dt><dt><span
                    class="section"><a
                      href="sect.ldap-directory.html#id-1.14.10.9">11.7.3. Mengelola akun dengan LDAP</a></span></dt></dl></dd><dt><span
                class="section"><a
                  href="sect.rtc-services.html">11.8. Layanan Komunikasi Real-Time</a></span></dt><dd><dl><dt><span
                    class="section"><a
                      href="sect.rtc-services.html#sect.rtc-dns-settings">11.8.1. Pengaturan DNS untuk layanan RTC</a></span></dt><dt><span
                    class="section"><a
                      href="sect.rtc-services.html#sect.turn-server">11.8.2. Server TURN</a></span></dt><dt><span
                    class="section"><a
                      href="sect.rtc-services.html#sect.sip-server">11.8.3. Server Proksi SIP</a></span></dt><dt><span
                    class="section"><a
                      href="sect.rtc-services.html#sect.xmpp-server">11.8.4. Server XMPP</a></span></dt><dt><span
                    class="section"><a
                      href="sect.rtc-services.html#sect.rtc-port-443">11.8.5. Menjalankan layanan pada port 443</a></span></dt><dt><span
                    class="section"><a
                      href="sect.rtc-services.html#sect.rtc-webrtc">11.8.6. Menambahkan WebRTC</a></span></dt></dl></dd></dl></div><div
          class="highlights"><div
            class="para">
		Layanan jaringan adalah program-program yang berinteraksi secara langsung dengan para pengguna dalam pekerjaan mereka sehari-hari. Mereka adalah puncak gunung es sistem informasi, dan bab ini akan memfokuskan pada mereka; bagian tak terlihat tempat mereka bertumpu adalah infrastruktur yang sudah kita terangkan sebelumnya.
	</div><div
            class="para">
		Kebanyakan layanan jaringan moderm memerlukan teknologi enkripsi agar beroperasi secara aman dan terpercaya, khususnya ketika digunakan pada internet publik. Sertifikat X.509 (yang mana dapat direferensikan sebagai Sertifikat SSL atau Sertifikat TLS) sering digunakan untuk tujuan ini. Sebuah sertifikat untuk domain tertentu seringkali dapat berbagi antara lebih dari satu layanan dibahas pada bagian ini.
	</div><a
            id="id-1.14.3.3"
            class="indexterm"></a><a
            id="id-1.14.3.4"
            class="indexterm"></a><a
            id="id-1.14.3.5"
            class="indexterm"></a></div><div
          class="section"><div
            class="titlepage"><div><div><h2
                  class="title"><a
                    xmlns=""
                    id="sect.smtp-mail-server"></a>11.1. Server Mail</h2></div></div></div><div
            class="para">
			Administrator Falcot Corp memilih Postfix untuk server surel elektroniknya, karena keandalan dan kemudahan konfigurasinya. Memang, desainnya memberlakukan bahwa setiap tugas diimplementasikan dalam sebuah proses dengan seperangkat izin minimum yang dibutuhkan, yang merupakan langkah mitigasi yang besar terhadap masalah keamanan.
		</div><a
            id="id-1.14.4.3"
            class="indexterm"></a><a
            id="id-1.14.4.4"
            class="indexterm"></a><a
            id="id-1.14.4.5"
            class="indexterm"></a><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>ALTERNATIF</em></span> Server Exim4</strong></p></div></div></div><a
              id="id-1.14.4.6.2"
              class="indexterm"></a><div
              class="para">
			Debian menggunakan Exim4 sebagai peladen posel bawaan (instalasi awal menyertakan Exim4). Konfigurasi disediakan oleh paket yang terpisah, <span
                class="pkg pkg">exim4-config</span>, dan diatur secara otomatis berdasarkan jawaban dari pertanyaan Debconf yang mirip dengan pertanyaan yang diajukan oleh paket <span
                class="pkg pkg">postfix</span>.
		</div><div
              class="para">
			Konfigurasi dapat berupa berkas tunggal (<code
                class="filename">/etc/exim4/exim4.conf.template</code>) atau terpecah dalam beberapa potongan konfigurasi tersimpan di bawah <code
                class="filename">/etc/exim4/conf.d/</code>. Keduanya, berkas tersebut digunakan olehperintah <code
                class="command">update-exim4.conf</code> sebagai palet untuk menghasilkan <code
                class="filename">/var/lib/exim4/config.autogenerated</code>. Yang terakhir adalah berkas yang digunakan oleh Exim4. Berkat mekanisme ini, nilai yang dihasilkan melalui konfigurasi debconf Exim --yang tersimpan dalam <code
                class="filename">/etc/exim4/update-exim4.conf.conf</code>-- dapat disuntikkan ke dalam berkas konfigurasi Exim, bahkan ketika administrator atau paket lain telah mengubah konfigurasi bawaan Exim.
		</div><div
              class="para">
			Sintaks berkas konfigurasi Exim4 memiliki kekhasan dan kurva belajarnya; namun, begitu keanehan ini dipahami, Exim4 merupakan peladen surel yang sangat lengkap dan hebat, yang dibuktikan dengan puluhan halaman dokumentasi. <div
                xmlns=""
                class="url">→ <a
                  xmlns="http://www.w3.org/1999/xhtml"
                  href="http://www.exim.org/docs.html">http://www.exim.org/docs.html</a></div>
		</div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="id-1.14.4.7"></a>11.1.1. Instalasi Postfix</h3></div></div></div><div
              class="para">
				Paket <span
                class="pkg pkg">postfix</span> menyertakan daemon SMTP utama. Paket lain (seperti <span
                class="pkg pkg">postfix-ldap</span> dan <span
                class="pkg pkg">postfix-pgsql</span>) menambahkan fungsionalitas tambahakan ke Postfix, termasuk mengakses basisdata terpetakan. Anda hanya perlu menginstallnya jika Anda tahu Anda memerlukannya.
			</div><div
              class="sidebar"><a
                xmlns=""
                id="sidebar.smtp"></a><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>KEMBALI KE DASAR</em></span> SMTP</strong></p></div></div></div><a
                id="id-1.14.4.7.3.2"
                class="indexterm"></a><a
                id="id-1.14.4.7.3.3"
                class="indexterm"></a><a
                id="id-1.14.4.7.3.4"
                class="indexterm"></a><div
                class="para">
				SMTP (<span
                  class="emphasis"><em>Simple Mail Transfer Protocol</em></span>) protokol yang digunakan oleh peladen posel untuk bertukar dan mengarahkan posel.
			</div></div><div
              class="para">
				Beberapa pertanyaan Debconf ditanyakan saat instalasi paket tersebut. Jawabannya memungkinkan menghasilkan versi pertama berkas konfigurasi <code
                class="filename">/etc/postfix/main.cf</code>.
			</div><div
              class="para">
				Pertanyaan pertama berkaitan dengan jenis pengaturan. Hanya dua jawaban relevan yang diajukan jika ada server yang tersambung ke internet, "situs internet" dan "internet dengan smarthost". Yang pertama sesuai untuk server yang menerima email masuk dan mengirim email keluar langsung ke penerimanya, dan karenanya cocok untuk kasus Falcot Corp. Yang terakhir ini sesuai untuk server yang menerima email masuk secara normal, namun mengirimkan email keluar melalui server SMTP menengah — ”smarthost” — bukan langsung ke server penerima. Ini sangat berguna bagi individu dengan alamat IP dinamis, karena banyak server email menolak pesan yang datang langsung dari alamat IP semacam itu. Dalam kasus ini, smarthost biasanya adalah SMTP server milik ISP, yang selalu dikonfigurasi untuk menerima email dari pelanggan ISP dan meneruskannya dengan tepat. Pengaturan ini (dengan smarthost) selalu relevan untuk server yang tidak terhubung secara permanen ke internet, karena menghindari harus mengatur antrian pesan tidak terkirim yang perlu dicoba ulang di waktu yang lain.
			</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>KOSAKATA</em></span> ISP</strong></p></div></div></div><a
                id="id-1.14.4.7.6.2"
                class="indexterm"></a><div
                class="para">
				ISP merupakan akronim dari "Internet Service Provider" (penyedia layanan internet). Sebuah entitas, seringkali berupa perusaan komersial, yang menyediakan koneksi internet dan layanan dasar yang sesuai (email, berita, dan lain-lain).
			</div><div
                class="para">
			</div></div><div
              class="para">
				Pertanyaan kedua berkaitan dengan nama lengkap mesin, digunakan untuk menghasilkan alamat email dari nama pengguna lokal; nama lengkap mesin sebagai bagian setelah simbol-at ("@"). Dalam kasus Falcot, jawabannya seharusnya <code
                class="literal">mail.falcot.com</code>. Pertanyaan ini yang diajukan secara default, namun konfigurasi yang diembannya tidak cukup lengkap untuk kebutuhan Falcot, karenanya administrator menjalankan perintah <code
                class="command">dpkg-reconfigure postfix</code> agar dapat menyesuaikan lebih banyak parameter.
			</div><div
              class="para">
				Salah satu pertanyaan tambahan yang diajukan untuk semua nama domain yang berhubungan dengan mesin. Daftar bawaan yang menyertakan nama lengkapnya sebagaimana sedikit padanan untuk <code
                class="literal">localhost</code>, namun domain utama <code
                class="literal">falcot.com</code> perlu ditambahkan sendiri. Lebih umumnya, pertanyaan ini seharusnya biasanya dijawab dengan seluruh nama domain yang mana mesin ini seharusnya melayani sebagai sebuah MX server; dengan kata lain, seluruh nama domain yang mana disebutkan DNS bahwa mesin ini akan menerima surel. Informasi ini berpangkal pada variabel <code
                class="literal">mydestination</code> pada berkas konfigurasi Postfix — <code
                class="filename">/etc/postfix/main.cf</code>.
			</div><a
              id="id-1.14.4.7.9"
              class="indexterm"></a><a
              id="id-1.14.4.7.10"
              class="indexterm"></a><div
              class="figure"><a
                xmlns=""
                id="id-1.14.4.7.11"></a><div
                class="figure-contents"><div
                  class="mediaobject"><img
                    src="images/mail-server.png"
                    alt="Aturan record DNS MX saat mengirimkan surel" /></div></div><p
                class="title"><strong>Gambar 11.1. Aturan record DNS <span
                    class="emphasis"><em>MX</em></span> saat mengirimkan surel</strong></p></div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>EXTRA</em></span> Query record MX</strong></p></div></div></div><div
                class="para">
				Ketika DNS tidak memilik record MX untuk sebuah domain, peladen surel akan mencoba mengirim pesan ke host-nya sendiri, dengan menggunakan record A (atau AAAA dalam IPv6).
			</div></div><div
              class="para">
				Dalam beberapa kasus, instalasi juga dapat meminta jaringan apa yang harus diperbolehkan untuk mengirim surel melalui mesin. Dengan konfigurasi default, Postfix hanya menerima surel yang datang dari mesin itu sendiri; jaringan lokal biasanya akan ditambahkan. Administrator Falcot Corp menambahkan <code
                class="literal">192.168.0.0/16</code> ke jawaban default. Jika pertanyaan itu tidak muncul, variabel yang relevan dalam berkas konfigurasi adalah <code
                class="literal">mynetworks</code>, seperti yang terlihat dalam contoh di bawah ini.
			</div><div
              class="para">
				Surel lokal juga dapat dikirimkan melalui <code
                class="command">procmail</code>. Alat ini memungkinkan pengguna untuk memilah surel masuk mereka menurut aturan yang disimpan dalam berkas <code
                class="filename">~/.procmailrc</code> mereka.
			</div><a
              id="id-1.14.4.7.15"
              class="indexterm"></a><a
              id="id-1.14.4.7.16"
              class="indexterm"></a><a
              id="id-1.14.4.7.17"
              class="indexterm"></a><div
              class="para">
				Setelah langkah pertama ini, para administrator mendapat berkas konfigurasi berikut; ini akan digunakan sebagai titik awal untuk menambahkan beberapa fungsi tambahan di bagian berikutnya.
			</div><div
              class="example"><a
                xmlns=""
                id="id-1.14.4.7.19"></a><p
                class="title"><strong>Contoh 11.1. Berkas<code
                    class="filename">/etc/postfix/main.cf</code> awal</strong></p><div
                class="example-contents"><pre
                  class="programlisting">
# See /usr/share/postfix/main.cf.dist for a commented, more complete version


# Debian specific:  Specifying a file name will cause the first
# line of that file to be used as the name.  The Debian default
# is /etc/mailname.
#myorigin = /etc/mailname

smtpd_banner = $myhostname ESMTP $mail_name (Debian/GNU)
biff = no

# appending .domain is the MUA's job.
append_dot_mydomain = no

# Uncomment the next line to generate "delayed mail" warnings
#delay_warning_time = 4h

readme_directory = no

# TLS parameters
smtpd_tls_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem
smtpd_tls_key_file=/etc/ssl/private/ssl-cert-snakeoil.key
smtpd_use_tls=yes
smtpd_tls_session_cache_database = btree:${data_directory}/smtpd_scache
smtp_tls_session_cache_database = btree:${data_directory}/smtp_scache

# See /usr/share/doc/postfix/TLS_README.gz in the postfix-doc package for
# information on enabling SSL in the smtp client.

smtpd_relay_restrictions = permit_mynetworks permit_sasl_authenticated defer_unauth_destination
myhostname = mail.falcot.com
alias_maps = hash:/etc/aliases
alias_database = hash:/etc/aliases
myorigin = /etc/mailname
mydestination = mail.falcot.com, falcot.com, localhost.localdomain, localhost
relayhost = 
mynetworks = 127.0.0.0/8 [::ffff:127.0.0.0]/104 [::1]/128 192.168.0.0/16
mailbox_command = procmail -a "$EXTENSION"
mailbox_size_limit = 0
recipient_delimiter = +
inet_interfaces = all
inet_protocols = all</pre></div></div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>KEAMANAN</em></span> Sertifikat SSL <span
                          class="emphasis"><em>Snake oil</em></span></strong></p></div></div></div><div
                class="para">
				Sertifikat <span
                  class="emphasis"><em>minyak ular</em></span>, seperti "obat" <span
                  class="emphasis"><em>minyak ular</em></span> yang dijual oleh dukun palsu di jaman dahulu, benar-benar tidak memiliki nilai: Anda tidak dapat mengandalkan mereka untuk mengotentikasi server karena mereka sertifikat yang ditandatangani sendiri yang dihasilkan secara otomatis. Namun mereka sangat berguna untuk meningkatkan privasi pertukaran.
			</div><div
                class="para">
				Pada umumnya mereka hanya boleh digunakan untuk tujuan pengujian, dan layanan normal harus menggunakan sertifikat nyata; ini dapat dihasilkan dengan prosedur yang dijelaskan dalam <a
                  class="xref"
                  href="sect.virtual-private-network.html#sect.easy-rsa">Bagian 10.2.1.1, “Infrastruktur Kunci Publik: <span
                    class="emphasis"><em>easy-rsa</em></span>”</a>.
			</div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="sect.configuring-virtual-domains"></a>11.1.2. Mengkonfigurasi Domain Virtual</h3></div></div></div><a
              id="id-1.14.4.8.2"
              class="indexterm"></a><a
              id="id-1.14.4.8.3"
              class="indexterm"></a><div
              class="para">
				Server surat dapat menerima surel yang ditujukan kepada domain lain selain domain utama; ini kemudian dikenal sebagai domain virtual. Dalam kebanyakan kasus di mana hal ini terjadi, surel pada akhirnya tidak ditujukan ke pengguna lokal. Postfix menyediakan dua fitur menarik untuk menangani virtual domain.
			</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>HATI-HATI</em></span> Domain virtual dan domain kanonik</strong></p></div></div></div><div
                class="para">
				Tak satu pun dari domain virtual boleh dirujuk dalam variabel <code
                  class="literal">mydestination</code>; variabel ini hanya berisi nama-nama domain "kanonik" yang secara langsung terkait dengan mesin dan pengguna lokal.
			</div></div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        xmlns=""
                        id="id-1.14.4.8.6"></a>11.1.2.1. Domain Alias Virtual</h4></div></div></div><a
                id="id-1.14.4.8.6.2"
                class="indexterm"></a><a
                id="id-1.14.4.8.6.3"
                class="indexterm"></a><div
                class="para">
					Suatu domain alias virtual hanya berisi alias, yaitu alamat-alamat yang hanya meneruskan surel ke alamat lain.
				</div><div
                class="para">
					Domain seperti itu diaktifkan dengan menambahkan nama ke variabel <code
                  class="literal">virtual_alias_domains</code>, dan mereferensi berkas pemetaan alamat dalam variabel <code
                  class="literal">virtual_alias_maps</code>.
				</div><div
                class="example"><a
                  xmlns=""
                  id="id-1.14.4.8.6.6"></a><p
                  class="title"><strong>Contoh 11.2. Direktif yang ditambahkan dalam berkas <code
                      class="filename">/etc/postfix/main.cf</code></strong></p><div
                  class="example-contents"><pre
                    class="programlisting">
virtual_alias_domains = falcotsbrand.com
virtual_alias_maps = hash:/etc/postfix/virtual</pre></div></div><div
                class="para">
					Berkas <code
                  class="filename">/etc/postfix/virtual</code> menjelaskan pemetaan dengan sintaks yang agak sederhana: setiap baris berisi dua field yang dipisahkan oleh spasi; field pertama adalah nama alias, field kedua adalah daftar alamat surel tujuan pengalihan. Sintaks khusus <code
                  class="literal">@domain.com</code> mencakup semua sisa alias dalam suatu domain.
				</div><div
                class="example"><a
                  xmlns=""
                  id="id-1.14.4.8.6.8"></a><p
                  class="title"><strong>Contoh 11.3. Contoh berkas <code
                      class="filename">/etc/postfix/virtual</code></strong></p><div
                  class="example-contents"><pre
                    class="programlisting">
webmaster@falcotsbrand.com  jean@falcot.com
contact@falcotsbrand.com    laure@falcot.com, sophie@falcot.com
# The alias below is generic and covers all addresses within 
# the falcotsbrand.com domain not otherwise covered by this file.
# These addresses forward email to the same user name in the
# falcot.com domain.
@falcotsbrand.com           @falcot.com</pre></div></div></div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        xmlns=""
                        id="id-1.14.4.8.7"></a>11.1.2.2. Domain Kotak Surat Virtual</h4></div></div></div><div
                class="sidebar"><div
                  class="titlepage"><div><div><p
                        class="title"><strong><span
                            class="emphasis"><em>HATI-HATI</em></span> Gabungan domain virtual?</strong></p></div></div></div><div
                  class="para">
					Postfix tidak mengizinkan menggunakan domain yang sama sekaligus di <code
                    class="literal">virtual_alias_domains</code> dan <code
                    class="literal">virtual_mailbox_domains</code>. Namun, setiap domain <code
                    class="literal">virtual_mailbox_domains</code> secara implisit dimasukkan ke dalam <code
                    class="literal">virtual_alias_domains</code>, yang memungkinkan untuk mencampur alias dan kotak surat dalam suatu domain virtual.
				</div></div><a
                id="id-1.14.4.8.7.3"
                class="indexterm"></a><a
                id="id-1.14.4.8.7.4"
                class="indexterm"></a><div
                class="para">
					Pesan-pesan yang ditujukan ke kotak surat domain virtual disimpan dalam kotak surat yang tidak ditugaskan ke pengguna sistem lokal.
				</div><div
                class="para">
					Memfungsikan kotak surat domain virtual memerlukan menamai domain ini dalam variabel <code
                  class="literal">virtual_mailbox_domains</code>, dan mereferensi ke berkas pemetaan kotak surat di <code
                  class="literal">virtual_mailbox_maps</code>. Parameter <code
                  class="literal">virtual_mailbox_base</code> berisi direktori di mana kotak pesan akan disimpan.
				</div><div
                class="para">
					Parameter <code
                  class="literal">virtual_uid_maps</code> (dan <code
                  class="literal">virtual_gid_maps</code>) mengacu ke berkas yang berisi pemetaan antara alamat surel dan sistem pengguna (dan kelompok) yang "memiliki" kotak surat yang sesuai. Agar semua kotak surat dimiliki oleh pemilik/kelompok yang sama, sintaks <code
                  class="literal">static:5000</code> menetapkan UID/GID tertentu (yang bernilai 5000 di sini).
				</div><div
                class="example"><a
                  xmlns=""
                  id="id-1.14.4.8.7.8"></a><p
                  class="title"><strong>Contoh 11.4. Direktif yang ditambahkan dalam berkas <code
                      class="filename">/etc/postfix/main.cf</code></strong></p><div
                  class="example-contents"><pre
                    class="programlisting">
virtual_mailbox_domains = falcot.org
virtual_mailbox_maps = hash:/etc/postfix/vmailbox
virtual_mailbox_base = /var/mail/vhosts</pre></div></div><div
                class="para">
					Sekali lagi, sintaks berkas <code
                  class="filename">/etc/postfix/vmailbox</code> cukup sederhana: dua field dipisahkan dengan spasi. Field pertama adalah alamat surel dalam salah satu domain virtual, dan field kedua adalah lokasi kotak surat yang terkait (relatif terhadap direktori yang ditentukan dalam <span
                  class="emphasis"><em>virtual_mailbox_base</em></span>). Jika nama kotak surat berakhir dengan garis miring (<code
                  class="literal">/</code>), surel akan disimpan dalam format <span
                  class="emphasis"><em>maildir</em></span>; jika tidak, format tradisional <span
                  class="emphasis"><em>mbox</em></span> akan digunakan. Format <span
                  class="emphasis"><em>maildir</em></span> menggunakan seluruh direktori untuk menyimpan kotak surat, masing-masing pesan disimpan dalam berkas terpisah. Dalam format <span
                  class="emphasis"><em>mbox</em></span>, seluruh kotak surat disimpan dalam satu berkas, dan setiap baris yang dimulai dengan "<code
                  class="literal">From </code>" (<code
                  class="literal">From</code> diikuti dengan spasi) menandai awal pesan baru.
				</div><div
                class="example"><a
                  xmlns=""
                  id="id-1.14.4.8.7.10"></a><p
                  class="title"><strong>Contoh 11.5. Berkas <code
                      class="filename">/etc/postfix/vmailbox</code></strong></p><div
                  class="example-contents"><pre
                    class="programlisting">
# Surel Jean disimpan sebagai maildir, dengan
# satu berkas per surel dalam suatu direktori
# terdedikasi
jean@falcot.org falcot.org/jean/
# Surel Sophie's disimpan dalam suatu berkas "mbox"
# tradisional dengan semua surel disambung ke dalam
# satu berkas tunggal
sophie@falcot.org falcot.org/sophie</pre></div></div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="sect.restrictions-for-receiving-and-sending"></a>11.1.3. Pembatasan Penerimaan dan Pengiriman</h3></div></div></div><div
              class="para">
				Meningkatnya jumlah surel massal yang tidak diminta (<span
                class="emphasis"><em>spam</em></span>) memerlukan menjadi semakin ketat ketika memutuskan surel mana yang mesti diterima oleh server. Bagian ini menyajikan beberapa strategi yang termasuk dalam Postfix.
			</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>KULTUR</em></span> Masalah spam</strong></p></div></div></div><a
                id="id-1.14.4.9.3.2"
                class="indexterm"></a><div
                class="para">
				"Spam" adalah istilah umum yang digunakan untuk menamai semua surel komersial yang tidak diinginkan (juga dikenal sebagai UCE) yang membanjiri kotak surat elektronik kita; individu-individu yang tidak bermoral yang mengirim mereka dikenal sebagai spammer. Mereka tidak peduli tentang gangguan yang mereka sebabkan, karena mengirimkan surel biayanya sangat rendah, dan hanya persentase yang sangat kecil dari penerima yang perlu tertarik dengan tawaran agar operasi spam menghasilkan lebih daripada biaya. Prosesnya kebanyakan otomatis, dan alamat surel yang dibuat publik (misalnya, di forum web, atau di arsip milis, atau di blog, dan sebagainya) akan ditemukan oleh robot spammer, dan menjadi sasaran pesan tak diharapkan yang tidak pernah berakhir.
			</div><div
                class="para">
				Semua administrator sistem mencoba untuk menghadapi gangguan dengan filter spam, tapi tentu saja spammer terus menyesuaikan diri dengan mencoba menghindari filter ini. Beberapa bahkan menyewa jaringan mesin yang terkompromi oleh worm dari berbagai sindikat kejahatan. Statistik baru-baru ini memperkirakan bahwa hingga 95% dari semua surel yang beredar di Internet adalah spam!
			</div></div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        xmlns=""
                        id="id-1.14.4.9.4"></a>11.1.3.1. Pembatasan Akses Berbasis IP</h4></div></div></div><div
                class="para">
					Direktif <code
                  class="literal">smtpd_client_restrictions</code> mengendalikan mesin mana yang diperbolehkan untuk berkomunikasi dengan server surel.
				</div><div
                class="example"><a
                  xmlns=""
                  id="id-1.14.4.9.4.3"></a><p
                  class="title"><strong>Contoh 11.6. Pembatasan Berbasis Alamat Klien</strong></p><div
                  class="example-contents"><pre
                    class="programlisting">
smtpd_client_restrictions = permit_mynetworks,
    warn_if_reject reject_unknown_client,
    check_client_access hash:/etc/postfix/access_clientip,
    reject_rbl_client sbl-xbl.spamhaus.org,
    reject_rbl_client list.dsbl.org</pre></div></div><div
                class="para">
					Ketika suatu variabel berisi daftar aturan, seperti pada contoh di atas, aturan-aturan ini dievaluasi berurutan, dari pertama sampai terakhir. Setiap aturan dapat menerima pesan, menolak, atau menyerahkan keputusan ke aturan berikutnya. Sebagai akibatnya, urutan penting, dan sekedar mempertukarkan dua aturan dapat menyebabkan perilaku yang sangat berbeda.
				</div><div
                class="para">
					Direktif <code
                  class="literal">permit_mynetworks</code>, yang digunakan sebagai aturan pertama, menerima semua surel yang datang dari mesin jaringan lokal (seperti yang didefinisikan oleh variabel konfigurasi <span
                  class="emphasis"><em>mynetworks</em></span>).
				</div><div
                class="para">
					Direktif kedua biasanya akan menolak surel yang datang dari mesin tanpa konfigurasi DNS yang sepenuhnya valid. Sebuah konfigurasi yang valid berarti bahwa alamat IP dapat di-resolve ke suatu nama, dan bahwa nama ini, pada gilirannya, di-resolve ke alamat IP. Pembatasan ini sering terlalu ketat, karena banyak server surel yang tidak memiliki reverse DNS untuk alamat IP mereka. Ini menjelaskan mengapa para administrator Falcot mengawali pengubah <code
                  class="literal">warn_if_reject</code> ke direktif <code
                  class="literal">reject_unknown_client</code>: pengubah ini mengubah penolakan menjadi peringatan sederhana yang tercatat dalam log. Administrator dapat kemudian mengawasi jumlah pesan yang akan ditolak jika aturan yang benar-benar ditegakkan, dan membuat keputusan kemudian jika mereka ingin memberlakukan aturan itu.
				</div><div
                class="sidebar"><div
                  class="titlepage"><div><div><p
                        class="title"><strong><span
                            class="emphasis"><em>TIP</em></span> tabel <span
                            class="emphasis"><em>access</em></span></strong></p></div></div></div><div
                  class="para">
					Kriteria pembatasan termasuk tabel yang dapat dimodifikasi oleh administrator berisi daftar kombinasi pengirim, alamat IP, dan nama host yang diperbolehkan atau dilarang. Tabel ini dapat dibuat dari salinan berkas terkompresi <code
                    class="filename">/usr/share/doc/postfix-doc/examples/access.gz</code>. Model ini didokumentasikan mandiri dalam komentar, yang berarti setiap tabel menjelaskan sintaksnya sendiri.
				</div><div
                  class="para">
					Tabel <code
                    class="filename">/etc/postfix/access_clientip</code> menampung daftar alamat IP dan jaringan; <code
                    class="filename">/etc/postfix/access_helo</code> berisi daftar nama domain; <code
                    class="filename">/etc/postfix/access_sender</code> berisi alamat surel pengirim. Semua berkas ini harus diubah menjadi tabel hash (format yang dioptimalkan untuk akses cepat) setelah setiap perubahan, dengan perintah <code
                    class="command">postmap /etc/postfix/<em
                      class="replaceable">berkas</em></code>.
				</div></div><div
                class="para">
					Direktif ketiga memungkinkan administrator untuk mengatur blacklist dan whitelist server surel, disimpan dalam berkas <code
                  class="filename">/etc/postfix/access_clientip</code>. Server di whitelist dianggap sebagai dipercaya, dan surel yang datang dari sana tidak diperiksa memakai aturan penyaringan berikut.
				</div><div
                class="para">
					Dua aturan terakhir menolak pesan yang berasal dari server yang tercantum dalam salah satu blacklist yang ditunjukkan. RBL adalah akronim untuk <span
                  class="emphasis"><em>Remote Black List</em></span>; ada beberapa daftar seperti itu, tetapi mereka semua memuat daftar server yang dikonfigurasi secara buruk yang dipakai oleh spammer untuk me-relay surel mereka, maupun pe-relay surel yang tak terduga seperti mesin-mesin yang terinfeksi worm atau virus.
				</div><a
                id="id-1.14.4.9.4.10"
                class="indexterm"></a><a
                id="id-1.14.4.9.4.11"
                class="indexterm"></a><div
                class="sidebar"><div
                  class="titlepage"><div><div><p
                        class="title"><strong><span
                            class="emphasis"><em>TIPS</em></span> Daftar putih dan RBL</strong></p></div></div></div><div
                  class="para">
					Blacklist kadang-kadang mencakup server sah yang telah mengalami insiden. Dalam situasi ini, semua surel yang datang dari salah satu server tersebut akan ditolak kecuali apabila server tercantum dalam daftar putih yang didefinisikan oleh <code
                    class="filename">/etc/postfix/access_clientip</code>.
				</div><div
                  class="para">
					Kehati-hatian karena itu merekomendasikan memasukkan di whitelist semua server terpercaya yang biasanya kita terima banyak surel dari mereka.
				</div></div></div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        xmlns=""
                        id="id-1.14.4.9.5"></a>11.1.3.2. Memeriksa Validitas Perintah <code
                        class="literal">EHLO</code> atau <code
                        class="literal">HELO</code></h4></div></div></div><div
                class="para">
					Setiap pertukaran SMTP dimulai dengan perintah <code
                  class="literal">HELO</code> (atau <code
                  class="literal">EHLO</code>), diikuti oleh nama server email pengirim; memeriksa validitas nama ini bisa menarik.
				</div><a
                id="id-1.14.4.9.5.3"
                class="indexterm"></a><a
                id="id-1.14.4.9.5.4"
                class="indexterm"></a><div
                class="example"><a
                  xmlns=""
                  id="id-1.14.4.9.5.5"></a><p
                  class="title"><strong>Contoh 11.7. Pembatasan pada nama yang diumumkan di <code
                      class="literal">EHLO</code></strong></p><div
                  class="example-contents"><pre
                    class="programlisting">
smtpd_helo_restrictions = permit_mynetworks,
    reject_invalid_hostname,
    check_helo_access hash:/etc/postfix/access_helo,
    reject_non_fqdn_hostname,
    warn_if_reject reject_unknown_hostname</pre></div></div><div
                class="para">
					Direktir <code
                  class="literal">permit_mynetworks</code> pertama memungkinkan semua mesin di jaringan lokal untuk memperkenalkan diri dengan bebas. Hal ini penting, karena beberapa program email tidak menghormati bagian dari protokol SMTP ini secara cukup memadai, dan mereka dapat memperkenalkan diri dengan nama-nama yang tidak masuk akal.
				</div><div
                class="para">
					Aturan <code
                  class="literal">reject_invalid_hostname</code> menolak surel ketika <code
                  class="literal">EHLO</code> mengumumkan daftar nama host yang secara sintaksis salah. Aturan <code
                  class="literal">reject_non_fqdn_hostname</code> menolak pesan ketika nama host yang diumumkan bukan fully-qualified domain name (yang memuat nama domain maupun nama host). Aturan <code
                  class="literal">reject_unknown_hostname</code> menolak pesan jika nama yang diumumkan tidak ada di DNS. Karena aturan terakhir ini sayangnya mengarah ke penolakan yang terlalu banyak, para administrator mengubah efeknya menjadi peringatan sederhana dengan pengubah <code
                  class="literal">warn_if_reject</code> sebagai langkah pertama; mereka mungkin memutuskan untuk menghapus pengubah ini pada tahap berikutnya, setelah audit hasil peraturan ini.
				</div><div
                class="para">
					Menggunakan <code
                  class="literal">permit_mynetworks</code> sebagai aturan pertama memiliki efek samping yang menarik: aturan berikutnya hanya diterapkan ke host di luar jaringan lokal. Hal ini memungkinkan mencekal semua host yang mengumumkan diri mereka sebagai bagian dari <code
                  class="literal">falcot.com</code>, misalnya dengan menambahkan baris <code
                  class="literal">falcot.com REJECT Anda tidak berada dalam jaringan kami!</code> ke dalam berkas <code
                  class="filename">/ postfix/dll/access_helo</code>.
				</div></div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        xmlns=""
                        id="id-1.14.4.9.6"></a>11.1.3.3. Menerima atau Menolak Berdasarkan Pengirim yang Diumumkan</h4></div></div></div><div
                class="para">
					Setiap pesan memiliki pengirim, diumumkan oleh perintah <code
                  class="literal">MAIL FROM</code> dari protokol SMTP; sekali lagi, informasi ini dapat divalidasi dalam beberapa cara yang berbeda.
				</div><a
                id="id-1.14.4.9.6.3"
                class="indexterm"></a><a
                id="id-1.14.4.9.6.4"
                class="indexterm"></a><div
                class="example"><a
                  xmlns=""
                  id="id-1.14.4.9.6.5"></a><p
                  class="title"><strong>Contoh 11.8. Pemeriksaan pengirim</strong></p><div
                  class="example-contents"><pre
                    class="programlisting">
smtpd_sender_restrictions = 
    check_sender_access hash:/etc/postfix/access_sender,
    reject_unknown_sender_domain, reject_unlisted_sender,
    reject_non_fqdn_sender</pre></div></div><div
                class="para">
					Tabel <code
                  class="filename">/etc/postfix/access_sender</code> memetakan beberapa perlakuan khusus untuk beberapa pengirim. Ini biasanya berarti memasukkan beberapa pengirim ke daftar putih atau daftar hitam.
				</div><div
                class="para">
					Aturan <code
                  class="literal">reject_unknown_sender_domain</code> memerlukan domain pengirim yang valid, karena dibutuhkan untuk alamat yang valid. Aturan <code
                  class="literal">reject_unlisted_sender</code> menolak pengirim lokal jika alamat tidak ada; hal ini mencegah surel dari yang dikirim dari alamat yang tidak valid dalam domain <code
                  class="literal">falcot.com</code>, dan pesan yang berasal dari <code
                  class="literal">joe.bloggs@falcot.com</code> hanya diterima jika alamat tersebut benar-benar ada.
				</div><div
                class="para">
					Akhirnya, aturan <code
                  class="literal">reject_non_fqdn_sender</code> menolak surel yang mengaku berasal dari alamat tanpa fully-qualified domain name. Dalam prakteknya, ini berarti menolak surel yang datang dari <code
                  class="literal">user@machine</code>: alamat harus diumumkan sebagai <code
                  class="literal">user@machine.example.com</code> atau <code
                  class="literal">user@example.com</code>.
				</div></div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        xmlns=""
                        id="id-1.14.4.9.7"></a>11.1.3.4. Menerima atau Menolak Berdasarkan Penerima</h4></div></div></div><div
                class="para">
					Setiap surel yang memiliki minimal satu penerima, diumumkan dengan perintah <code
                  class="literal">RCPT TO</code> dalam protokol SMTP. Alamat ini juga memerlukan validasi, bahkan jika itu mungkin kurang relevan daripada pemeriksaan atas alamat pengirim.
				</div><a
                id="id-1.14.4.9.7.3"
                class="indexterm"></a><a
                id="id-1.14.4.9.7.4"
                class="indexterm"></a><div
                class="example"><a
                  xmlns=""
                  id="id-1.14.4.9.7.5"></a><p
                  class="title"><strong>Contoh 11.9. Pemeriksaan penerima</strong></p><div
                  class="example-contents"><pre
                    class="programlisting">
smtpd_recipient_restrictions = permit_mynetworks, 
    reject_unauth_destination, reject_unlisted_recipient, 
    reject_non_fqdn_recipient</pre></div></div><div
                class="para">
					<code
                  class="literal">reject_unauth_destination</code> adalah aturan dasar yang mempersyaratkan pesan dari luar ditujukan kepada kami; pesan yang dikirim ke alamat yang tidak dilayani oleh server ini akan ditolak. Tanpa aturan ini, server menjadi relay terbuka yang memungkinkan spammer untuk mengirim surel yang tidak diinginkan; aturan ini wajib, dan itu paling baik disertakan di bagian awal dari daftar, sehingga tidak ada aturan lainnya mungkin mengotorisasi pesan sebelum tujuan telah diperiksa.
				</div><div
                class="para">
					Aturan <code
                  class="literal">reject_unlisted_recipient</code> menolak pesan yang dikirim ke pengguna lokal yang tidak ada. Ini masuk akal. Akhirnya, aturan <code
                  class="literal">reject_non_fqdn_recipient</code> menolak alamat yang bukan fully-qualified; ini menjadikannya mustahil untuk mengirim surel ke <code
                  class="literal">jean</code> atau <code
                  class="literal">jean@machine</code>, dan memerlukan menggunakan alamat lengkap, seperti <code
                  class="literal">jean@machine.falcot.com</code> atau <code
                  class="literal">jean@falcot.com</code>.
				</div></div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        xmlns=""
                        id="id-1.14.4.9.8"></a>11.1.3.5. Pembatasan Terkait dengan Perintah <code
                        class="literal">DATA</code></h4></div></div></div><div
                class="para">
					Perintah <code
                  class="literal">DATA</code> SMTP dikirimkan sebelum isi pesan. Tidak memberikan informasi apapun per se, selain mengumumkan apa yang datang berikutnya. Masih bisa dipersyaratkan untuk pemeriksaan.
				</div><a
                id="id-1.14.4.9.8.3"
                class="indexterm"></a><div
                class="example"><a
                  xmlns=""
                  id="id-1.14.4.9.8.4"></a><p
                  class="title"><strong>Contoh 11.10. Pemeriksaan <code
                      class="literal">DATA</code></strong></p><div
                  class="example-contents"><pre
                    class="programlisting">
smtpd_data_restrictions = reject_unauth_pipelining</pre></div></div><div
                class="para">
					Direktif <code
                  class="literal">reject_unauth_pipelining</code> menyebabkan pesan ditolak jika pihak pengirim mengirim perintah sebelum balasan atas perintah sebelumnya dikirim. Ini penjaga terhadap optimasi yang umum digunakan oleh robot spammer, karena mereka biasanya tidak peduli isi balasan dan fokus hanya pada mengirim surel sebanyak mungkin dalam waktu sependek mungkin.
				</div></div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        xmlns=""
                        id="id-1.14.4.9.9"></a>11.1.3.6. Menerapkan Pembatasan</h4></div></div></div><div
                class="para">
					Meskipun perintah di atas memvalidasi informasi di berbagai tahap pertukaran SMTP, Postfix hanya mengirimkan penolakan sebenarnya sebagai jawaban atas perintah <code
                  class="literal">RCPT TO</code>.
				</div><div
                class="para">
					Ini berarti bahwa bahkan jika pesan tersebut ditolak karena perintah <code
                  class="literal">EHLO</code> yang tidak valid, Postfix tahu pengirim dan penerima ketika mengumumkan penolakan. Ini kemudian mencatat log pesan yang lebih eksplisit daripada yang bisa dilakukan jika transaksi telah terputus dari awal. Selain itu, sejumlah klien SMTP tidak mengharapkan kegagalan pada perintah SMTP awal, dan klien ini akan kurang terganggu oleh penolakan akhir ini.
				</div><div
                class="para">
					Keuntungan akhir pilihan ini adalah bahwa aturan dapat mengumpulkan informasi selama berbagai tahap pertukaran SMTP; hal ini memungkinkan mendefinisikan izin lebih halus, seperti menolak koneksi non-lokal jika itu mengumumkan dirinya dengan pengirim lokal.
				</div></div><div
              class="section"><div
                class="titlepage"><div><div><h4
                      class="title"><a
                        xmlns=""
                        id="id-1.14.4.9.10"></a>11.1.3.7. Penyaringan Berdasarkan Isi Pesan</h4></div></div></div><div
                class="para">
					Sistem validasi dan pembatasan tidak akan lengkap tanpa cara untuk menerapkan pemeriksaan ke isi pesan. Postfix membedakan pemeriksaan yang berlaku ke header surel dari mereka yang berlaku ke tubuh surel.
				</div><div
                class="example"><a
                  xmlns=""
                  id="id-1.14.4.9.10.3"></a><p
                  class="title"><strong>Contoh 11.11. Memfungsikan penyaring berbasis konten</strong></p><div
                  class="example-contents"><pre
                    class="programlisting">
header_checks = regexp:/etc/postfix/header_checks
body_checks = regexp:/etc/postfix/body_checks</pre></div></div><a
                id="id-1.14.4.9.10.4"
                class="indexterm"></a><div
                class="para">
					Kedua berkas berisi daftar ekspresi reguler (umumnya dikenal sebagai <span
                  class="emphasis"><em>regexps</em></span> atau <span
                  class="emphasis"><em>regexes</em></span>) dan tindakan menjadi dipicu ketika header surel (atau tubuh) cocok dengan ekspresi yang terkait.
				</div><div
                class="sidebar"><div
                  class="titlepage"><div><div><p
                        class="title"><strong><span
                            class="emphasis"><em>LIHAT CEPAT</em></span> Tabel regex</strong></p></div></div></div><div
                  class="para">
					Berkas <code
                    class="filename">/usr/share/doc/postfix-doc/examples/header_checks.gz</code> berisi banyak komentar penjelasan dan dapat digunakan sebagai titik awal untuk membuat berkas <code
                    class="filename">/etc/postfix/header_checks</code> dan <code
                    class="filename">/etc/postfix /body_checks</code>.
				</div></div><div
                class="example"><a
                  xmlns=""
                  id="id-1.14.4.9.10.7"></a><p
                  class="title"><strong>Contoh 11.12. Berkas contoh <code
                      class="filename">/etc/postfix/header_checks</code></strong></p><div
                  class="example-contents"><pre
                    class="programlisting">
/^X-Mailer: GOTO Sarbacane/ REJECT I fight spam (GOTO Sarbacane)
/^Subject: *Your email contains VIRUSES/ DISCARD virus notification</pre></div></div><div
                class="sidebar"><a
                  xmlns=""
                  id="sidebar.regexp"></a><div
                  class="titlepage"><div><div><p
                        class="title"><strong><span
                            class="emphasis"><em>KEMBALI KE DASAR</em></span> Ekspresi reguler</strong></p></div></div></div><div
                  class="para">
					Istilah <span
                    class="emphasis"><em>ekspresi reguler</em></span> (disingkat menjadi <span
                    class="emphasis"><em>regexp</em></span> atau <span
                    class="emphasis"><em>regex</em></span>) mengacu ke notasi generik untuk mengekspresikan deskripsi dari isi dan/atau struktur serangkaian karakter. Karakter khusus tertentu memungkinkan mendefinisikan alternatif (misalnya, <code
                    class="literal">foo|bar</code> cocok dengan "foo" atau "bar"), set karakter yang diizinkan (misalnya, <code
                    class="literal">[0-9]</code> berarti setiap digit, dan <code
                    class="literal">.</code> — dot — berarti sebarang karakter), kuantifikasi (<code
                    class="literal">s?</code> cocok dengan <code
                    class="literal">s</code> atau string kosong, dengan kata lain 0 atau 1 kali munculnya <code
                    class="literal">s</code>; <code
                    class="literal">s+</code> cocok dengan satu atau lebih karakter <code
                    class="literal">s</code> berturut-turut; dan seterusnya). Kurung memungkinkan pengelompokan hasil pencarian.
				</div><div
                  class="para">
					Sintaks yang tepat dari ungkapan-ungkapan ini bervariasi di seluruh alat yang menggunakan mereka, tapi fitur dasarnya sama. <div
                    xmlns=""
                    class="url">→ <a
                      xmlns="http://www.w3.org/1999/xhtml"
                      href="http://en.wikipedia.org/wiki/Regular_expression">http://en.wikipedia.org/wiki/Regular_expression</a></div>
				</div></div><div
                class="para">
					Yang pertama memeriksa header yang menyebutkan perangkat lunak surel; jika <code
                  class="literal">GOTO Sarbacane</code> (software surel massal) ditemukan, pesan tersebut akan ditolak. Ekspresi kedua mengendalikan subjek pesan; jika itu menyebutkan pemberitahuan virus, kita bisa memutuskan untuk tidak menolak pesan tetapi untuk membuangnya segera sebagai gantinya.
				</div><div
                class="para">
					Menggunakan filter ini adalah pedang bermata dua, karena mudah untuk membuat aturan yang terlalu generik dan kehilangan surel yang sah sebagai akibatnya. Dalam kasus ini, tidak hanya pesan akan hilang, tapi pengirimnya akan mendapatkan pesan kesalahan yang tidak diinginkan (dan menjengkelkan).
				</div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="sect.setting-up-greylisting"></a>11.1.4. Menyiapkan <span
                      class="foreignphrase"><em
                        class="foreignphrase">greylisting</em></span></h3></div></div></div><a
              id="id-1.14.4.10.2"
              class="indexterm"></a><div
              class="para">
				"Greylisting" adalah teknik penyaringan yang pesan awalnya ditolak dengan kode kesalahan sementara, dan hanya diterima pada percobaan lebih lanjut setelah penundaan. Hal ini sangat efisien terhadap spam yang dikirim oleh banyak mesin yang terinfeksi oleh virus dan worm karena software ini jarang bertindak sebagai agen SMTP penuh (dengan memeriksa kode kesalahan dan mencoba kembali pesan gagal kemudian), terutama karena banyak dari alamat yang dipanen sebenarnya tidak sah dan mencoba kembali berarti kehilangan waktu.
			</div><div
              class="para">
				Postfix tidak menyediakan greylist secara native, tapi ada fitur dimana keputusan untuk menerima atau menolak pesan tertentu dapat diserahkan ke program eksternal. Paket <span
                class="pkg pkg">postgrey</span> memuat program seperti itu, dirancang untuk berinteraksi dengan layanan delegasi kebijakan akses ini.
			</div><div
              class="para">
				Setelah <span
                class="pkg pkg">postgrey</span> terinstal, itu berjalan sebagai daemon dan mendengarkan pada port 10023. Postfix kemudian dapat dikonfigurasi untuk menggunakannya, dengan menambahkan parameter <code
                class="literal">check_policy_service</code> sebagai pembatasan tambahan:
			</div><pre
              class="programlisting">
smtpd_recipient_restrictions = permit_mynetworks,
    [...]
    check_policy_service inet:127.0.0.1:10023</pre><div
              class="para">
				Setiap kali Postfix mencapai aturan ini dalam set aturan, itu akan menyambung ke daemon <code
                class="command">postgrey</code> dan mengirim informasi mengenai pesan yang relevan. Pada sisinya, Postgrey mempertimbangkan triplet alamat IP/pengirim/penerima triplet dan memeriksa basis data apakah triplet yang sama telah terlihat baru-baru ini. Jika demikian, Postgrey menjawab bahwa pesan harus diterima; jika tidak, jawaban menunjukkan bahwa pesan harus ditolak untuk sementara, dan triplet dicatat dalam basis data.
			</div><div
              class="para">
				Kelemahan utama dari greylist adalah bahwa pesan yang sah tertunda, yang tidak selalu bisa diterima. Hal ini juga meningkatkan beban pada server yang mengirim banyak surel yang sah.
			</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>DALAM PRAKTEK</em></span> Kekurangan dari greylisting</strong></p></div></div></div><div
                class="para">
				Secara teori, greylist hanya harus menunda surat pertama dari pengirim yang diberikan kepada penerima tertentu, dan penundaan umumnya dalam orde menit. Kenyataannya, bagaimanapun, dapat sedikit berbeda. Beberapa ISP besar menggunakan cluster server SMTP, dan ketika pesan awalnya ditolak, server yang mencoba ulang transmisi mungkin tidak akan sama seperti yang pertama. Ketika itu terjadi, kedua server mendapat pesan kesalahan sementara karena greylist, dan seterusnya; mungkin butuh beberapa jam sampai transmisi ini dicoba oleh server yang sudah telah terlibat, karena server SMTP biasanya meningkatkan penundaan antara pengulangan di setiap kegagalan.
			</div><div
                class="para">
				Sebagai akibatnya, alamat IP yang masuk dapat bervariasi dengan berjalannya waktu bahkan untuk pengirim tunggal. Tapi lebih jauh lagi: bahkan alamat pengirim dapat berubah. Sebagai contoh, banyak milis server menyandikan tambahan informasi dalam alamat pengirim untuk dapat menangani pesan kesalahan (dikenal sebagai <span
                  class="emphasis"><em>bounces</em></span>). Setiap pesan baru yang dikirim ke milis kemudian mungkin perlu pergi melalui greylist, yang berarti itu harus disimpan (secara sementara) pada server pengirim. Untuk milis yang sangat besar (dengan puluhan ribu pelanggan), ini dapat segera menjadi masalah.
			</div><div
                class="para">
				Untuk memitigasi kelemahan ini, Postgrey mengelola daftar putih dari situs-situs seperti itu, dan pesan yang berasal dari mereka segera diterima tanpa melalui greulist. Daftar ini dengan mudah dapat disesuaikan dengan kebutuhan lokal, karena disimpan dalam berkas <code
                  class="filename">/etc/postgrey/whitelist_clients</code>.
			</div></div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>LEBIH LANJUT</em></span> Greylisting selektif dengan <span
                          class="pkg pkg">milter-greylist</span></strong></p></div></div></div><div
                class="para">
				Kelemahan dari greylist dapat dimitigsai dengan hanya menggunakan greylist pada subset dari klien yang sudah dianggap sebagai kemungkinan sumber spam (karena mereka tercantum dalam daftar hitam DNS). Hal ini tidak mungkin dengan <span
                  class="pkg pkg">postgrey</span> tapi <span
                  class="pkg pkg">milter-greylist</span> dapat digunakan dengan cara itu.
			</div><div
                class="para">
				Dalam skenario itu, karena blacklist DNS tidak pernah memicu penolakan definitif, menjadi masuk akal untuk menggunakan blacklist agresif, termasuk daftar semua alamat IP dinamis dari klien ISP (seperti <code
                  class="literal">pbl.spamhaus.org</code> atau <code
                  class="literal">dul.dnsbl.Sorbs.net</code>).
			</div><div
                class="para">
				Karena milter-greylist menggunakan antarmuka milter Sendmail, konfigurasi sisi postfix-nya terbatas ke "<code
                  class="literal">smtpd_milters = unix:/var/run/milter-greylist/milter-greylist.sock</code>". Halaman manual <span
                  class="citerefentry"><span
                    class="refentrytitle">greylist.conf</span>(5)</span> mendokumentasikan <code
                  class="filename">/etc/milter-greylist/greylist.conf</code> dan banyak cara untuk mengkonfigurasi milter-greylist. Anda juga harus menyunting <code
                  class="filename">/etc/default/milter-greylist</code> untuk benar-benar mengaktifkan layanan.
			</div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="id-1.14.4.11"></a>11.1.5. Mengubah Filter Berdasarkan Penerima</h3></div></div></div><div
              class="para">
				<a
                class="xref"
                href="network-services.html#sect.restrictions-for-receiving-and-sending">Bagian 11.1.3, “Pembatasan Penerimaan dan Pengiriman”</a> dan <a
                class="xref"
                href="network-services.html#sect.setting-up-greylisting">Bagian 11.1.4, “Menyiapkan <span
                  class="foreignphrase"><em
                    class="foreignphrase">greylisting</em></span>”</a> meninjau banyak kemungkinan pembatasan. Mereka semua memiliki kegunaan dalam membatasi jumlah spam yang diterima, tetapi mereka semua juga memiliki kelemahan. Maka semakin umum untuk menyesuaikan set filter tergantung pada penerima. Pada Falcot Corp, greylist menarik bagi sebagian pengguna, tapi mengganggu pekerjaan beberapa pengguna yang membutuhkan latensi rendah dalam surel mereka (seperti layanan dukungan teknis). Demikian pula, layanan komersial kadang-kadang memiliki masalah menerima surel dari beberapa penyedia Asia yang mungkin tercantum di daftar hitam; layanan ini meminta alamat tak tersaring untuk bisa berkorespondensi.
			</div><div
              class="para">
				Postfix menyediakan kustomisasi filter dengan konsep "kelas pembatasan". Kelas dideklarasikan dalam parameter <code
                class="literal">smtpd_restriction_classes</code>, dan didefinisikan dengan cara yang sama sebagai <code
                class="literal">smtpd_recipient_restrictions</code>. Direktif <code
                class="literal">check_recipient_access</code> kemudian mendefinisikan tabel pemetaan penerima tertentu untuk seperangkat batasan.
			</div><div
              class="example"><a
                xmlns=""
                id="id-1.14.4.11.4"></a><p
                class="title"><strong>Contoh 11.13. Mendefinisikan kelas pembatasan dalam <code
                    class="filename">main.cf</code></strong></p><div
                class="example-contents"><pre
                  class="programlisting">smtpd_restriction_classes = greylisting, aggressive, permissive

greylisting = check_policy_service inet:127.0.0.1:10023
aggressive = reject_rbl_client sbl-xbl.spamhaus.org,
        check_policy_service inet:127.0.0.1:10023
permissive = permit

smtpd_recipient_restrictions = permit_mynetworks,
        reject_unauth_destination,
        check_recipient_access hash:/etc/postfix/recipient_access</pre></div></div><div
              class="example"><a
                xmlns=""
                id="id-1.14.4.11.5"></a><p
                class="title"><strong>Contoh 11.14. Berkas <code
                    class="filename">/etc/postfix/recipient_access</code></strong></p><div
                class="example-contents"><pre
                  class="programlisting">
# Unfiltered addresses
postmaster@falcot.com  permissive
support@falcot.com     permissive
sales-asia@falcot.com  permissive

# Aggressive filtering for some privileged users
joe@falcot.com         aggressive

# Special rule for the mailing-list manager
sympa@falcot.com       reject_unverified_sender

# Greylisting by default
falcot.com             greylisting</pre></div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="sect.postfix-antivirus"></a>11.1.6. Mengintegrasikan Antivirus</h3></div></div></div><a
              id="id-1.14.4.12.2"
              class="indexterm"></a><div
              class="para">
				Banyak virus yang beredar sebagai lampiran surel membuat penting untuk mengatur antivirus di titik entri jaringan perusahaan, karena meskipun sudah ada kampanye kesadaran, beberapa pengguna masih akan membuka lampiran dari pesan yang jelas-jelas mencurigakan.
			</div><div
              class="para">
				Para administrator Falcot memilih <code
                class="command">clamav</code> untuk antivirus gratis mereka. Paket utama adalah <span
                class="pkg pkg">clamav</span>, tetapi mereka juga memasang beberapa paket tambahan seperti <span
                class="pkg pkg">arj</span>, <span
                class="pkg pkg">unzoo</span>, <span
                class="pkg pkg">unrar</span>, dan <span
                class="pkg pkg">lha</span>, karena mereka diperlukan oleh antivirus untuk menganalisis lampiran yang diarsipkan dalam salah satu format ini.
			</div><a
              id="id-1.14.4.12.5"
              class="indexterm"></a><a
              id="id-1.14.4.12.6"
              class="indexterm"></a><div
              class="para">
				Tugas antarmuka antara antivirus dan server surel jatuh ke <code
                class="command">clamav-milter</code>. <span
                class="emphasis"><em>milter</em></span> (singkatan dari <span
                class="emphasis"><em>mail filter</em></span>) adalah sebuah program penyaringan yang dirancang khusus untuk menyambung dengan server surel. Suatu milter menggunakan standar antarmuka pemrograman aplikasi (API) yang memberikan kinerja lebih baik daripada filter eksternal ke server surel. Milters awalnya diperkenalkan oleh <span
                class="emphasis"><em>Sendmail</em></span>, tetapi <span
                class="emphasis"><em>Postfix</em></span> segera mengikutinya.
			</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>LIHAT SEKILAS</em></span> Milter untuk Spamassassin</strong></p></div></div></div><a
                id="id-1.14.4.12.8.2"
                class="indexterm"></a><div
                class="para">
				Paket <span
                  class="pkg pkg">spamass-milter</span> menyediakan sebuah milter berbasis <span
                  class="emphasis"><em>SpamAssassin</em></span>, detektor spam terkenal. Dapat digunakan untuk menandai pesan sebagai mungkin spam (dengan menambahkan sebuah header tambahan) dan/atau menolak pesan sama sekali jika nilai "spamminess" mereka melampaui ambang batas tertentu.
			</div></div><div
              class="para">
				Setelah paket <span
                class="pkg pkg">clamav-milter</span> diinstal, milter harus ditata ulang untuk berjalan pada sebuah port TCP bukan pada named socket yang default. Hal ini dapat dicapai dengan <code
                class="command">dpkg-reconfigure clamav-milter</code>. Ketika diminta untuk "Antarmuka komunikasi dengan Sendmail", jawablah "<code
                class="literal">inet:10002@127.0.0.1</code>".
			</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>CATATAN</em></span> Port TCP nyata vs soket bernama</strong></p></div></div></div><div
                class="para">
				Alasan mengapa kita menggunakan port TCP nyata daripada soket bernama adalah bahwa daemon postfix sering dijalankan dengan mode chroot dan tidak memiliki akses ke direktori tempat soket bernama. Anda juga dapat memutuskan untuk tetap menggunakan soket bernama dan memilih lokasi chroot (<code
                  class="filename">/var/spool/postfix/</code>).
			</div></div><div
              class="para">
				Konfigurasi ClamAV standar cocok untuk kebanyakan situasi, tetapi beberapa parameter penting masih dapat disesuaikan dengan <code
                class="command">dpkg-reconfigure clamav-base</code>.
			</div><div
              class="para">
				Langkah terakhir melibatkan meemberitahu Postfix untuk menggunakan filter yang baru-baru ini dikonfigurasi. Ini bisa dilakukan sekedar dengan menambahkan direktif berikut untuk <code
                class="filename">/etc/postfix/main.cf</code>:
			</div><pre
              class="programlisting">
# Virus check with clamav-milter
smtpd_milters = inet:[127.0.0.1]:10002</pre><div
              class="para">
				Jika antivirus yang menyebabkan masalah, baris ini dapat dijadikan komentar dan <code
                class="command">service postfix reload</code> harus dijalankan sehingga perubahan ini diperhitungkan.
			</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>DALAM PRAKTEK</em></span> Menguji antivirus</strong></p></div></div></div><div
                class="para">
				Setelah antivirus disiapkan, perilaku yang benar harus diuji. Cara termudah untuk melakukannya adalah dengan mengirim surel percobaan dengan lampiran yang berisi berkas <code
                  class="filename">eicar.com</code> (atau <code
                  class="filename">eicar.com.zip</code>), yang dapat diunduh secara daring: <div
                  xmlns=""
                  class="url">→ <a
                    xmlns="http://www.w3.org/1999/xhtml"
                    href="http://www.eicar.org/86-0-Intended-use.html">http://www.eicar.org/86-0-Intended-use.html</a></div>
			</div><div
                class="para">
				Berkas ini bukan virus yang benar, tetapi berkas uji yang didiagnosa sebagai sebuah virus oleh semua perangkat lunak antivirus di pasar agar memungkinkan memeriksa instalasi.
			</div></div><div
              class="para">
				Semua pesan yang ditangani oleh Postfix sekarang pergi melalui saringan antivirus.
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h3
                    class="title"><a
                      xmlns=""
                      id="sect.authenticated-smtp"></a>11.1.7. SMTP Terotentikasi</h3></div></div></div><div
              class="para">
				Mampu mengirim surel memerlukan server SMTP yang dapat dijangkau; ini juga memerlukan server SMTP untuk mengirim surel melalui itu. Untuk pengguna roaming, ini mungkin memerlukan secara teratur mengubah konfigurasi klien SMTP, karena server SMTP Falcot's menolak pesan yang datang dari alamat IP yang tampaknya bukan milik perusahaan. Ada dua solusi: pengguna roaming menginstal server SMTP pada komputer mereka atau mereka masih menggunakan server perusahaan dengan beberapa cara untuk otentikasi sebagai karyawan. Solusi pertama tidak dianjurkan karena komputer tidak akan dihubungkan secara permanen, dan tidak akan dapat mengulangi pengiriman pesan jika terjadi masalah; kita akan fokus pada solusi yang terakhir.
			</div><div
              class="para">
				Otentikasi SMTP di Postfix mengandalkan SASL (<span
                class="emphasis"><em>Simple Authentication and Security Layer</em></span>). Hal ini membutuhkan instalasi paket <span
                class="pkg pkg">libsasl2-modules</span> dan <span
                class="pkg pkg">sasl2-bin</span>, kemudian mendaftarkan suatu kata sandi di basis data SASL untuk setiap pengguna yang memerlukan otentikasi pada server SMTP. Hal ini dilakukan dengan perintah <code
                class="command">saslpasswd2</code>, yang memerlukan beberapa parameter. Opsi <code
                class="literal">-U</code> mendefinisikan domain otentikasi, yang harus cocok dengan parameter <code
                class="literal">smtpd_sasl_local_domain</code> dalam konfigurasi Postfix. Opsi <code
                class="literal">-C</code> memungkinkan membuat pengguna, dan <code
                class="literal">-f</code> menetapkan berkas yang akan dipakai jika basis data SASL perlu disimpan di lokasi yang berbeda dari default (<code
                class="filename">/etc/sasldb2</code>).
			</div><pre
              class="screen scale">
<code
                class="computeroutput"># </code><strong
                class="userinput"><code>saslpasswd2 -u `postconf -h myhostname` -f /var/spool/postfix/etc/sasldb2 -c jean</code></strong>
<code
                class="computeroutput">[... ketikkan kata sandi jean dua kali ...]</code></pre><div
              class="para">
				Perhatikan bahwa basis data SASL dibuat dalam direktori milik Postfix. Untuk memastikan konsistensi, kita juga mengubah <code
                class="filename">/etc/sasldb2</code> menjadi link simbolik menunjuk pada basis data yang digunakan oleh Postfix, dengan perintah <code
                class="command">ln -sf /var/spool/postfix/etc/sasldb2 /etc/sasldb2</code>.
			</div><div
              class="para">
				Sekarang kita perlu mengkonfigurasi Postfix agar menggunakan SASL. Pertama pengguna <code
                class="literal">postfix</code> perlu ditambahkan ke grup <code
                class="literal">sasl</code>, sehingga dapat mengakses basis data akun SASL. Beberapa parameter baru juga diperlukan untuk mengaktifkan SASL, dan parameter <code
                class="literal">smtpd_recipient_restrictions</code> perlu dikonfigurasi untuk memungkinkan kilen terotentikasi-SASL untuk mengirim surel dengan bebas.
			</div><div
              class="example"><a
                xmlns=""
                id="id-1.14.4.13.7"></a><p
                class="title"><strong>Contoh 11.15. Memfungsikan SASL di <code
                    class="filename">/etc/postfix/main.cf</code></strong></p><div
                class="example-contents"><pre
                  class="programlisting">
# Memfungsikan otentikasi SASL
smtpd_sasl_auth_enable = yes
# Define the SASL authentication domain to use
smtpd_sasl_local_domain = $myhostname
[...]
# Menambahkan permit_sasl_authenticated before reject_unauth_destination
# mengizinkan merelay surel yang dikirim oleh pengguna SASL-authenticated
smtpd_recipient_restrictions = permit_mynetworks,
    permit_sasl_authenticated,
    reject_unauth_destination,
[...]</pre></div></div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>EKSTRA</em></span> Klien SMTP terotentikasi</strong></p></div></div></div><div
                class="para">
				Kebanyakan klien surel dapat untuk melakukan otentikasi ke server SMTP sebelum mengirim pesan keluar, dan menggunakan fitur itu cukup dengan sekedar mengkonfigurasi parameter yang tepat. Jika klien yang digunakan tidak menyediakan fitur itu, solusinya adalah untuk menggunakan server Postfix lokal dan mengkonfigurasi dengan relay surel melalui server SMTP remote. Dalam kasus ini, Postfix lokal itu sendiri adalah klien yang mengotentikasi dengan SASL. Berikut adalah parameter yang diperlukan:
			</div><pre
                class="programlisting">
smtp_sasl_auth_enable = yes
smtp_sasl_password_maps = hash:/etc/postfix/sasl_passwd
relay_host = [mail.falcot.com]</pre><div
                class="para">
				The <code
                  class="filename">/etc/postfix/sasl_passwd</code> file needs to contain the username and password to use for authenticating on the <code
                  class="literal">mail.falcot.com</code> server. Here is an example:
			</div><pre
                class="programlisting">
[mail.falcot.com]   joe:LyinIsji</pre><div
                class="para">
				As for all Postfix maps, this file must be turned into <code
                  class="filename">/etc/postfix/sasl_passwd.db</code> with the <code
                  class="command">postmap</code> command.
			</div></div></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.network-diagnosis-tools.html"><strong>Sebelumnya</strong>10.8. Alat Diagnosis Jaringan</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Induk</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Depan</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.http-web-server.html"><strong>Lanjut</strong>11.2. Server Web (HTTP)</a></li></ul></body></html>
