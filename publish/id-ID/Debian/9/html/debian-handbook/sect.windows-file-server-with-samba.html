<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">11.5. Menyiapkan Share Windows dengan Samba</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-id-ID-1.0-1" /><meta
        name="keywords"
        content="Postfix, Apache, NFS, Samba, Squid, OpenLDAP, SIP" /><link
        rel="home"
        href="index.html"
        title="Buku Panduan Administrator Debian" /><link
        rel="up"
        href="network-services.html"
        title="Bab 11. Layanan Jaringan: Postfix, Apache, NFS, Samba, Squid, LDAP, SIP, XMPP, TURN" /><link
        rel="prev"
        href="sect.nfs-file-server.html"
        title="11.4. Server Berkas NFS" /><link
        rel="next"
        href="sect.http-ftp-proxy.html"
        title="11.6. Proksi HTTP/FTP" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/id-ID/stable/sect.windows-file-server-with-samba.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.nfs-file-server.html"><strong>Sebelumnya</strong></a></li><li
          class="home">Buku Panduan Administrator Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.http-ftp-proxy.html"><strong>Lanjut</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.windows-file-server-with-samba"></a>11.5. Menyiapkan Share Windows dengan Samba</h2></div></div></div><div
          class="para">
			Samba adalah keluarga alat penanganan protokol SMB (juga dikenal sebagai "CIFS") di Linux. Protokol ini digunakan oleh Windows untuk share jaringan dan pencetak bersama.
		</div><a
          id="id-1.14.8.3"
          class="indexterm"></a><a
          id="id-1.14.8.4"
          class="indexterm"></a><a
          id="id-1.14.8.5"
          class="indexterm"></a><a
          id="id-1.14.8.6"
          class="indexterm"></a><a
          id="id-1.14.8.7"
          class="indexterm"></a><div
          class="para">
			Samba juga dapat bertindak sebagai pengontrol domain Windows. Ini adalah alat yang luar biasa untuk memastikan mulusnya integrasi server Linux dan mesin desktop kantor yang masih menjalankan Windows.
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.14.8.9"></a>11.5.1. Server Samba</h3></div></div></div><div
            class="para">
				Paket <span
              class="pkg pkg">samba</span> berisi dua server utama Samba 4, <code
              class="command">smbd</code> dan <code
              class="command">nmbd</code>.
			</div><a
            id="id-1.14.8.9.3"
            class="indexterm"></a><a
            id="id-1.14.8.9.4"
            class="indexterm"></a><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>DOKUMENTASI</em></span> Lebih lanjut</strong></p></div></div></div><div
              class="para">
				Samba server sangat dapat dikonfigurasi dan serbaguna, dan dapat menjawab banyak macam kasus yang berbeda sesuai kebutuhan dan arsitektur jaringan yang sangat beraneka. Buku ini hanya berfokus pada kasus penggunaan ketika Samba digunakan sebagai server mandiri, tetapi juga bisa menjadi Domain Controller NT4 atau Active Directory Domain Controller penuh, atau sekedar anggota dari domain yang ada (yang bisa dikelola oleh server Windows).
			</div><a
              id="id-1.14.8.9.5.3"
              class="indexterm"></a><a
              id="id-1.14.8.9.5.4"
              class="indexterm"></a><div
              class="para">
				Paket <span
                class="pkg pkg">samba-doc</span> berisi banyak berkas contoh dengan komentar dalam <code
                class="filename">/usr/share/doc/samba-doc/examples/</code>.
			</div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>ALAT</em></span> Mengotentikasi dengan sebuah Server Windows</strong></p></div></div></div><div
              class="para">
				Winbind memberikan administrator sistem pilihan untuk menggunakan server Windows sebagai server otentikasi. Winbind juga terintegrasi secara bersih dengan PAM dan NSS. Hal ini memungkinkan menyiapkan mesin-mesin Linux di mana semua pengguna domain Windows secara otomatis mendapatkan akun.
			</div><a
              id="id-1.14.8.9.6.3"
              class="indexterm"></a><div
              class="para">
				Informasi lebih lanjut dapat ditemukan di direktori <code
                class="filename">/usr/share/doc/samba-doc/examples/pam_winbind/</code>.
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.14.8.9.7"></a>11.5.1.1. Menata konfigurasi dengan <code
                      class="command">debconf</code></h4></div></div></div><div
              class="para">
					Paket menyiapkan sebuah konfigurasi minimal selama instalasi awal tetapi Anda mestinya menjalankan <code
                class="command">dpkg-reconfigure samba-common</code> untuk mengadaptasinya:
				</div><div
              class="para">
					Bagian pertama dari informasi yang diperlukan adalah nama workgroup yang akan diikuti oleh server Samba (jawabannya adalah <code
                class="literal">FALCOTNET</code> dalam kasus kami).
				</div><div
              class="para">
					Paket juga mengusulkan mengidentifikasi server WINS dari informasi yang diberikan oleh daemon DHCP. Para administrator Falcot Corp menolak pilihan ini, karena mereka berniat untuk menggunakan server Samba itu sendiri sebagai server WINS.
				</div><a
              id="id-1.14.8.9.7.5"
              class="indexterm"></a></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.14.8.9.8"></a>11.5.1.2. Mengkonfigurasi Secara Manual</h4></div></div></div><div
              class="section"><div
                class="titlepage"><div><div><h5
                      class="title"><a
                        xmlns=""
                        id="id-1.14.8.9.8.2"></a>11.5.1.2.1. Perubahan atas <code
                        class="filename">smb.conf</code></h5></div></div></div><div
                class="para">
						Persyaratan di Falcot membutuhkan pilihan lainnya untuk diubah di berkas konfigurasi <code
                  class="filename">/etc/samba/smb.conf</code>. Kutipan-kutipan berikut meringkas perubahan yang dilakukan di bagian <code
                  class="literal">[global]</code>.
					</div><pre
                class="programlisting">
[global]

## Browsing/Identification ###

# Change this to the workgroup/NT-domain name your Samba server will part of
   workgroup = FALCOTNET

# Windows Internet Name Serving Support Section:
# WINS Support - Tells the NMBD component of Samba to enable its WINS Server
   wins support = yes <span
                  id="smb.conf.wins"><img
                    class="callout"
                    src="Common_Content/images/1.png"
                    alt="1" /></span>

[...]

####### Authentication #######

# Server role. Defines in which mode Samba will operate. Possible
# values are "standalone server", "member server", "classic primary
# domain controller", "classic backup domain controller", "active
# directory domain controller". 
#
# Most people will want "standalone sever" or "member server".
# Running as "active directory domain controller" will require first
# running "samba-tool domain provision" to wipe databases and create a
# new domain.
   server role = standalone server

# "security = user" is always a good idea. This will require a Unix account
# in this server for every user accessing the server.
   security = user <span
                  id="smb.conf.security"><img
                    class="callout"
                    src="Common_Content/images/2.png"
                    alt="2" /></span>

[...]</pre><div
                class="calloutlist"><table
                  border="0"
                  summary="Callout list"><tr><td
                      width="5%"
                      valign="top"
                      align="left"><p><a
                          href="#smb.conf.wins"><img
                            class="callout"
                            src="Common_Content/images/1.png"
                            alt="1" /></a> </p></td><td
                      valign="top"
                      align="left"><div
                        class="para">
								Menunjukkan bahwa Samba harus bertindak sebagai server nama Netbios (WINS) untuk jaringan lokal.
							</div></td></tr><tr><td
                      width="5%"
                      valign="top"
                      align="left"><p><a
                          href="#smb.conf.security"><img
                            class="callout"
                            src="Common_Content/images/2.png"
                            alt="2" /></a> </p></td><td
                      valign="top"
                      align="left"><div
                        class="para">
								Ini adalah nilai default untuk parameter ini; namun karena itu pusat bagi konfigurasi Samba, mengisinya secara eksplisit direkomendasikan. Setiap pengguna harus mengotentikasi sebelum mengakses share apapun.
							</div></td></tr></table></div></div><div
              class="section"><div
                class="titlepage"><div><div><h5
                      class="title"><a
                        xmlns=""
                        id="id-1.14.8.9.8.3"></a>11.5.1.2.2. Menambahkan Pengguna</h5></div></div></div><div
                class="para">
						Setiap pengguna Samba perlu sebuah akun di server; akun Unix harus dibuat terlebih dahulu, kemudian pengguna perlu didaftarkan di basis data Samba. Langkah Unix dilakukan secara normal (menggunakan <code
                  class="command">adduser</code> misalnya).
					</div><div
                class="para">
						Menambahkan pengguna ke basis data Samba adalah sekedar menjalankan perintah <code
                  class="command">smbpasswd -a <em
                    class="replaceable">pengguna</em></code>; perintah ini meminta kata sandi secara interaktif.
					</div><div
                class="para">
						Pengguna dapat dihapus dengan perintah <code
                  class="command">smbpasswd - x <em
                    class="replaceable">pengguna</em></code>. Akun Samba juga dapat sementara dinonaktifkan (dengan <code
                  class="command">smbpasswd -d <em
                    class="replaceable">pengguna</em></code>) dan diaktifkan kembali kemudian (dengan <code
                  class="command">smbpasswd -e <em
                    class="replaceable">pengguna</em></code>).
					</div></div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.14.8.10"></a>11.5.2. Klien Samba</h3></div></div></div><div
            class="para">
				Fitur klien di Samba memungkinkan mesin Linux untuk mengakses share Windows dan pencetak bersama. Program yang diperlukan tersedia dalam paket yang <span
              class="pkg pkg">cifs-utils</span> dan <span
              class="pkg pkg">smbclient</span>.
			</div><a
            id="id-1.14.8.10.3"
            class="indexterm"></a><a
            id="id-1.14.8.10.4"
            class="indexterm"></a><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.14.8.10.5"></a>11.5.2.1. Program <code
                      class="command">smbclient</code></h4></div></div></div><div
              class="para">
					Program <code
                class="command">smbclient</code> meng-query server SMB. Menerima opsi <code
                class="literal">-U <em
                  class="replaceable">pengguna</em></code>, untuk menghubungkan ke server di bawah identitas tertentu. <code
                class="command">smbclient //<em
                  class="replaceable">server</em>/<em
                  class="replaceable">share</em></code> mengakses share dengan cara interaktif yang mirip dengan baris perintah klien FTP. <code
                class="command">smbclient -L <em
                  class="replaceable">server</em></code> menampilkan daftar seluruh share yang tersedia (dan terlihat) pada server.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.14.8.10.6"></a>11.5.2.2. Mengait Share Windows</h4></div></div></div><div
              class="para">
					Perintah <code
                class="command">mount</code> memungkinkan mengait share Windows ke dalam hirarki sistem berkas Linux (dengan bantuan dari <code
                class="command">mount.cifs</code> yang disediakan oleh <span
                class="pkg pkg">cifs-utils</span>).
				</div><a
              id="id-1.14.8.10.6.3"
              class="indexterm"></a><a
              id="id-1.14.8.10.6.4"
              class="indexterm"></a><div
              class="example"><a
                xmlns=""
                id="id-1.14.8.10.6.5"></a><p
                class="title"><strong>Contoh 11.24. Mengait suatu share Windows</strong></p><div
                class="example-contents"><pre
                  class="programlisting">
mount -t cifs //arrakis/shared /shared \
      -o credentials=/etc/smb-credentials</pre></div></div><div
              class="para">
					Berkas <code
                class="filename">/etc/smb-credentials</code> (yang harus tidak bisa dibaca oleh pengguna) memiliki format berikut:
				</div><pre
              class="programlisting">
username = <em
                class="replaceable">pengguna</em>
password = <em
                class="replaceable">kata sandi</em></pre><div
              class="para">
					Opsi lain dapat dinyatakan pada baris perintah; daftar lengkap mereka tersedia di halaman manual <span
                class="citerefentry"><span
                  class="refentrytitle">mount.cifs</span>(1)</span>. Dua opsi secara khusus bisa menarik: <code
                class="literal">uid</code> dan <code
                class="literal">gid</code> memungkinkan memaksa pemilik dan kelompok berkas yang tersedia saat mount, agar tidak membatasi akses ke root.
				</div><div
              class="para">
					Mount share Windows juga dapat dikonfigurasi di <code
                class="filename">/etc/fstab</code>:
				</div><pre
              class="programlisting">
//<em
                class="replaceable">server</em>/shared /shared cifs credentials=/etc/smb-credentials</pre><div
              class="para">
					Melepas kait share SMB/CIFS dilakukan dengan perintah standar <code
                class="command">umount</code>.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.14.8.10.7"></a>11.5.2.3. Pencetakan pada Pencetak Bersama</h4></div></div></div><div
              class="para">
					CUPS adalah solusi elegan untuk mencetak dari workstation Linux ke pencetak yang dibagikan oleh mesin Windows. Ketika <span
                class="pkg pkg">smbclient</span> dipasang, CUPS memungkinkan instalasi pencetak bersama Windows secara otomatis.
				</div><a
              id="id-1.14.8.10.7.3"
              class="indexterm"></a><div
              class="para">
					Ini adalah langkah-langkah yang diperlukan:
				</div><div
              xmlns:d="http://docbook.org/ns/docbook"
              class="itemizedlist"><ul><li
                  class="listitem"><div
                    class="para">
							Masukkan konfigurasi antarmuka CUPS: <code
                      class="literal">http://localhost:631/admin</code>
						</div></li><li
                  class="listitem"><div
                    class="para">
							Klik pada "Tambah Pencetak".
						</div></li><li
                  class="listitem"><div
                    class="para">
							Pilih perangkat pencetak, pilih "Pencetak Windows melalui SAMBA".
						</div></li><li
                  class="listitem"><div
                    class="para">
							Masukkan URI koneksi untuk pencetak jaringan. Seharusnya terlihat seperti berikut:
						</div><div
                    class="para">
							<code
                      class="literal">smb://<em
                        class="replaceable">pengguna</em>:<em
                        class="replaceable">katasandi</em>@<em
                        class="replaceable">server</em>/<em
                        class="replaceable">pencetak</em></code>.
						</div></li><li
                  class="listitem"><div
                    class="para">
							Masukkan nama yang akan mengidentifikasi pencetak ini secara unik. Kemudian masukkan keterangan dan lokasi pencetak. Mereka adalah string yang akan ditampilkan kepada pengguna akhir untuk membantu mereka mengidentifikasi pencetak.
						</div></li><li
                  class="listitem"><div
                    class="para">
							Tunjukkan produsen/model pencetak, atau langsung berikan sebuah berkas deskripsi pencetak (PPD) yang bekerja.
						</div></li></ul></div><div
              class="para">
					Voilà, pencetak operasional!
				</div></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.nfs-file-server.html"><strong>Sebelumnya</strong>11.4. Server Berkas NFS</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Induk</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Depan</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.http-ftp-proxy.html"><strong>Lanjut</strong>11.6. Proksi HTTP/FTP</a></li></ul></body></html>
