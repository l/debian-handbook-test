<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">14.2. Firewall atau Penyaringan Paket</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-id-ID-1.0-1" /><meta
        name="keywords"
        content="Firewall, Netfilter, IDS/NIDS" /><link
        rel="home"
        href="index.html"
        title="Buku Panduan Administrator Debian" /><link
        rel="up"
        href="security.html"
        title="Bab 14. Keamanan" /><link
        rel="prev"
        href="security.html"
        title="Bab 14. Keamanan" /><link
        rel="next"
        href="sect.supervision.html"
        title="14.3. Supervisi: Pencegahan, Deteksi, Deteren" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/id-ID/stable/sect.firewall-packet-filtering.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="security.html"><strong>Sebelumnya</strong></a></li><li
          class="home">Buku Panduan Administrator Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.supervision.html"><strong>Lanjut</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.firewall-packet-filtering"></a>14.2. Firewall atau Penyaringan Paket</h2></div></div></div><a
          id="id-1.17.5.2"
          class="indexterm"></a><a
          id="id-1.17.5.3"
          class="indexterm"></a><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>KEMBALI KE DASAR</em></span> Firewall</strong></p></div></div></div><a
            id="id-1.17.5.4.2"
            class="indexterm"></a><div
            class="para">
			<span
              class="emphasis"><em>Firewall</em></span> adalah peralatan komputer dengan perangkat keras dan/atau perangkat lunak yang menyortir paket jaringan masuk atau keluar (datang ke atau dari jaringan lokal) dan hanya mengizinkan lewat paket-paket yang cocok dengan kondisi standar tertentu.
		</div></div><div
          class="para">
			Firewall adalah gateway jaringan penyaring dan hanya efektif pada paket yang harus pergi melawatinya. Oleh karena itu, itu hanya dapat efektif ketika melalui firewall adalah satu-satunya rute untuk paket-paket ini.
		</div><div
          class="para">
			Kurangnya konfigurasi standar (dan motto "proses, bukan produk") menjelaskan kurangnya solusi turn-key. Namun, ada alat yang membuatnya mudah untuk mengkonfigurasi firewall <span
            class="emphasis"><em>netfilter</em></span>, dengan representasi grafis dari aturan penyaringan. <code
            class="command">fwbuilder</code> tidak diragukan adalah lagi salah satu yang terbaik.
		</div><a
          id="id-1.17.5.7"
          class="indexterm"></a><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>KASUS SPESIFIK</em></span> Firewall Lokal</strong></p></div></div></div><div
            class="para">
			Firewall dapat dibatasi ke salah satu mesin tertentu (sebagai lawan dari jaringan yang lengkap), dalam hal ini perannya adalah untuk menyaring atau membatasi akses ke beberapa layanan, atau mungkin untuk mencegah hubungan keluar dari perangkat lunak nakal yang oleh pengguna, sengaja atau tidak, memasangnya.
		</div></div><div
          class="para">
			Linux kernel menyertakan firewall <span
            class="emphasis"><em>netfilter</em></span>. Ini dapat dikontrol dari ruang pengguna dengan perintah <code
            class="command">iptables</code> dan <code
            class="command">ip6tables</code>. Perbedaan antara kedua perintah adalah bahwa yang pertama bertindak pada jaringan IPv4, sedangkan yang kedua bertindak pada IPv6. Karena kedua tumpukan protokol jaringan mungkin akan tetap ada selama bertahun-tahun, kedua alat akan perlu digunakan secara paralel.
		</div><a
          id="id-1.17.5.10"
          class="indexterm"></a><a
          id="id-1.17.5.11"
          class="indexterm"></a><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.netfilter"></a>14.2.1. Perilaku Netfilter</h3></div></div></div><div
            class="para">
				<span
              class="emphasis"><em>netfilter</em></span> memakai empat tabel berbeda yang menyimpan aturan-aturan yang mengatur tiga jenis operasi pada paket:
			</div><div
            xmlns:d="http://docbook.org/ns/docbook"
            class="itemizedlist"><ul><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">filter</code> menyangkut aturan penyaringan (menerima, menolak, atau mengabaikan suatu paket);
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">nat</code> menyangkut penerjemahan alamat dan port sumber atau tujuan dari paket-paket;
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">mangle</code> menyangkut perubahan-perubahan lain ke paket-paket IP (termasuk ToS â€” <span
                    class="emphasis"><em>Type of Service</em></span> â€” ruas dan opsi);
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">raw</code> mengizinkan modifikasi manual lain pada paket-paket sebelum mereka mencapai sistem pelacakan koneksi.
					</div></li></ul></div><div
            class="para">
				Setiap tabel berisi daftar aturan yang disebut <span
              class="emphasis"><em>rantai</em></span>. Firewall menggunakan rantai standar untuk menangani paket berdasarkan keadaan terpradefinisi. Administrator dapat membuat rantai lainnya, yang hanya akan digunakan ketika dirujuk oleh salah satu rantai standar (baik secara langsung maupun tidak langsung).
			</div><a
            id="id-1.17.5.12.5"
            class="indexterm"></a><a
            id="id-1.17.5.12.6"
            class="indexterm"></a><div
            class="para">
				Tabel <code
              class="literal">filter</code> memiliki tiga rantai standar:
			</div><div
            xmlns:d="http://docbook.org/ns/docbook"
            class="itemizedlist"><ul><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">INPUT</code>: menyangkut paket-paket yang tujuannya adalah firewall itu sendiri;
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">OUTPUT</code>: menyangkut paket-paket yang dipancarkan oleh firewall;
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">FORWARD</code>: menyangkut paket-paket yang transit melalui firewall (yang bukan sumber atau tujuan mereka).
					</div></li></ul></div><div
            class="para">
				Tabel <code
              class="literal">nat</code> juga memiliki tiga rantai standar:
			</div><div
            xmlns:d="http://docbook.org/ns/docbook"
            class="itemizedlist"><ul><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">PREROUTING</code>: untuk mengubah paket segera setelah mereka tiba;
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">POSTROUTING</code>: untuk mengubah paket-paket ketika mereka siap melanjutkan perjalanan;
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">OUTPUT</code>: untuk mengubah paket-paket yang dibuat oleh firewall itu sendiri.
					</div></li></ul></div><div
            class="figure"><a
              xmlns=""
              id="figure.chaines-netfilter"></a><div
              class="figure-contents"><div
                class="mediaobject"><img
                  src="images/netfilter.png"
                  alt="Bagaimana rantai netfilter dipanggil" /></div></div><p
              class="title"><strong>Gambar 14.1. Bagaimana rantai <span
                  class="emphasis"><em>netfilter</em></span> dipanggil</strong></p></div><div
            class="para">
				Masing-masing rantai adalah daftar aturan; setiap aturan adalah satu set kondisi dan tindakan yang akan dieksekusi ketika kondisi terpenuhi. Ketika mengolah suatu paket, firewall memindai rantai yang cocok, satu demi satu aturan; ketika kondisi untuk aturan terpenuhi, itu "melompat" (maka opsi <code
              class="literal">-j</code> di perintah) ke tindakan yang ditetapkan untuk melanjutkan pemrosesan. Perilaku yang paling umum distandarkan, dan tindakan khusus ada untuk mereka. Mengambil salah satu tindakan standar ini menginterupsi pemrosesan rantai, karena nasib paket yang sudah disegel (asal tidak terkena pengecualian yang disebutkan di bawah):
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>KEMBALI KE DASAR</em></span> ICMP</strong></p></div></div></div><div
              class="para">
				ICMP (<span
                class="emphasis"><em>Internet Control Message</em></span> Protocol) merupakan protokol yang digunakan untuk mengirimkan informasi pelengkap pada komunikasi. Hal ini memungkinkan pengujian konektivitas jaringan dengan perintah <code
                class="command">ping</code> (yang mengirim pesan <span
                class="emphasis"><em>permintaan echo</em></span> ICMP, yang oleh penerima dimaksudkan untuk dijawab dengan pesan <span
                class="emphasis"><em>balasan echo</em></span> ICMP). Itu menandakan bahwa firewall menolak paket, menunjukkan meluapnya penyangga penerima, mengusulkan rute yang lebih baik untuk paket-paket berikutnya dalam hubungan, dan seterusnya. Protokol ini didefinisikan oleh beberapa dokumen RFC; RFC777 awal dan RFC792 segera selesai dan diperpanjang. <div
                xmlns=""
                class="url">â†’Â <a
                  xmlns="http://www.w3.org/1999/xhtml"
                  href="http://www.faqs.org/rfcs/rfc777.html">http://www.faqs.org/rfcs/rfc777.html</a></div> <div
                xmlns=""
                class="url">â†’Â <a
                  xmlns="http://www.w3.org/1999/xhtml"
                  href="http://www.faqs.org/rfcs/rfc792.html">http://www.faqs.org/rfcs/rfc792.html</a></div>
			</div><div
              class="para">
				Untuk referensi, suatu penyangga penerima adalah sebuah zona memori kecil yang menyimpan data antara saat itu datang dari jaringan dan saat kernel menanganinya. Jika zona ini penuh, data baru tidak dapat diterima, dan ICMP mengirim sinyal adanya masalah, sehingga pengirim dapat memperlambat laju transfer (yang idealnya harus mencapai suatu keseimbangan setelah beberapa waktu).
			</div><a
              id="id-1.17.5.12.13.4"
              class="indexterm"></a><a
              id="id-1.17.5.12.13.5"
              class="indexterm"></a><a
              id="id-1.17.5.12.13.6"
              class="indexterm"></a><a
              id="id-1.17.5.12.13.7"
              class="indexterm"></a><a
              id="id-1.17.5.12.13.8"
              class="indexterm"></a><div
              class="para">
				Perhatikan bahwa meskipun jaringan IPv4 dapat bekerja tanpa ICMP, ICMPv6 secara ketat diperlukan untuk jaringan IPv6, karena itu memadukan beberapa fungsi yang, di dunia IPv4, tersebar di ICMPv4, IGMP (<span
                class="emphasis"><em>Internet Group Membership Protocol</em></span>), dan ARP (<span
                class="emphasis"><em>Address Resolution Protocol</em></span>). ICMPv6 didefinisikan dalam RFC4443. <div
                xmlns=""
                class="url">â†’Â <a
                  xmlns="http://www.w3.org/1999/xhtml"
                  href="http://www.faqs.org/rfcs/rfc4443.html">http://www.faqs.org/rfcs/rfc4443.html</a></div>
			</div></div><div
            class="para">
			</div><div
            xmlns:d="http://docbook.org/ns/docbook"
            class="itemizedlist"><ul><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">ACCEPT</code>: mengizinkan paket melanjutkan perjalanannya;
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">REJECT</code>: menolak paket dengan paket galat ICMP (opsi <code
                    class="literal">--reject-with <em
                      class="replaceable">tipe</em></code> ke <code
                    class="command">iptables</code> mengizinkan memilih tipe galat);
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">DROP</code>: hapus (abaikan) paket;
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">LOG</code>: mencatat log (melalui <code
                    class="command">syslog</code>) suatu pesa dengan keterangan atas paket; perhatikan bahwa aksi ini tidak mengiterupsi pemrosesan, dan eksekusi dari rantai berlanjut pada aturan berikutnya, sehingga untuk mencatat log paket yang ditolak memerlukan aturan LOG dan REJECT/DROP;
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">ULOG</code>: mencatat log pesan melalui <code
                    class="command">ulogd</code>, yang bisa diadaptasi lebih baik dan lebih efisien daripada <code
                    class="command">syslogd</code> untuk menangani banyak pesan; perhatikan bahwa aksi ini, seperti LOG, juga kembali memroses ke aturan selanjutnya dalan rantai pemanggil;
					</div></li><li
                class="listitem"><div
                  class="para">
						<em
                    class="replaceable">nama_rantai</em>: melompat ke rantai yang diberikan dan mengevaluasi aturan-aturannya;
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">RETURN</code>: menginterupsi pemrosesan dari rantai saat ini, dan kembali ke rantai pemanggil; dalam hal rantai saat ini adalah suatu rantai standar, tidak ada rantai pemanggil, sehingga aksi baku (didefinisikan dengan opsi <code
                    class="literal">-P</code> ke <code
                    class="command">iptables</code>) dieksekusi sebagai pengganti;
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">SNAT</code> (hanya dalam tabel <code
                    class="literal">nat</code>): menerapkan <span
                    class="emphasis"><em>NAT Sumber</em></span> (opsi tambahan menjelaskan perubahan eksak yang akan diterapkan);
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">DNAT</code> (hanya dalam tabel <code
                    class="literal">nat</code>): menerapkan <span
                    class="emphasis"><em>NAT Tujuan</em></span> (opsi tambahan menjelaskan perubahan eksak apa yang akan diterapkan);
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">MASQUERADE</code> (hanya dalam tabel <code
                    class="literal">nat</code>): menerapkan <span
                    class="emphasis"><em>masquerading</em></span> (suatu kasus khusus dari <span
                    class="emphasis"><em>NAT Sumber</em></span>);
					</div></li><li
                class="listitem"><div
                  class="para">
						<code
                    class="literal">REDIRECT</code> (hanya dalam tabel <code
                    class="literal">nat</code>): mengalihkan suatu paket ke port lain firewall itu sendiri; ini dapat dipakai untuk menyiapkan satu proksi web transparan yang bekerja tanpa konfigurasi pada sisi klien, karena klien mengira dia menyambung ke penerima padahal komunikasi sebenarnya melalui proksi.
					</div></li></ul></div><div
            class="para">
				Aksi-aksi lain, terutama yang menyangkut tabel <code
              class="literal">mangle</code>, di luar cakupan dari teks ini. <span
              class="citerefentry"><span
                class="refentrytitle">iptables</span>(8)</span> dan <span
              class="citerefentry"><span
                class="refentrytitle">ip6tables</span>(8)</span> mempunyai daftar yang komprehensif.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.iptables"></a>14.2.2. Sintaks dari <code
                    class="command">iptables</code> dan <code
                    class="command">ip6tables</code></h3></div></div></div><div
            class="para">
				Perintah <code
              class="command">iptables</code> dan <code
              class="command">ip6tables</code> mengizinkan manipulasi tabel, rantai, dan aturan. Opsi <code
              class="literal">-t <em
                class="replaceable">tabel</em></code> mengindikasikan tabel mana tempat beroperasi (bakunya, <code
              class="literal">filter</code>).
			</div><a
            id="id-1.17.5.13.3"
            class="indexterm"></a><a
            id="id-1.17.5.13.4"
            class="indexterm"></a><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.iptables-command"></a>14.2.2.1. Perintah</h4></div></div></div><div
              class="para">
					Opsi <code
                class="literal">-N <em
                  class="replaceable">chain</em></code> membuat sebuah rantai baru. <code
                class="literal">-X <em
                  class="replaceable">rantai</em></code> menghapus suatu rantai yang kosong dan tidak dipakai. <code
                class="literal">-A <em
                  class="replaceable">rantai</em> <em
                  class="replaceable">aturan</em></code> menambahkan suatu aturan di ujung rantai yang diberikan. Opsi <code
                class="literal">-I <em
                  class="replaceable">rantai</em> <em
                  class="replaceable">no_aturan</em> <em
                  class="replaceable">aturan</em></code> menyisipkan suatu aturan sebelum aturan nomor <em
                class="replaceable">no_aturan</em>. Opsi <code
                class="literal">-D <em
                  class="replaceable">rantai</em> <em
                  class="replaceable">no_aturan</em></code> (atau <code
                class="literal">-D <em
                  class="replaceable">rantai</em> <em
                  class="replaceable">aturan</em></code>) menghapus suatu aturan dalam sebuah ranti, sintaks pertama mengidentifikasi aturan yang akan dihapus berdasarkan nomornya, sedangkan yang belakangan mengidentifikasi menurut isinya. Opsi <code
                class="literal">-F <em
                  class="replaceable">rantai</em></code> menggelontor suatu rantai (menghapus semua aturannya); bila tidak ada rantai yang disebutkan, semua rantai dalam tabel dihapus. Opsi <code
                class="literal">-L <em
                  class="replaceable">rantai</em></code> menampilkan daftar aturan dalam suatu rantai. Akhirnya, opsi <code
                class="literal">-P <em
                  class="replaceable">rantai</em> <em
                  class="replaceable">aksi</em></code> menentukan aksi baku, atau "kebijakan", bagi suatu rantai yang diberikan; perhatikan bahwa hanya rantai standar yang bisa memiliki kebijakan seperti itu.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.iptables-rules"></a>14.2.2.2. Aturan</h4></div></div></div><a
              id="id-1.17.5.13.6.2"
              class="indexterm"></a><div
              class="para">
					Setiap aturan dinyatakan sebagai <code
                class="literal"><em
                  class="replaceable">kondisi</em> -j <em
                  class="replaceable">aksi</em><em
                  class="replaceable">opsi_aksi</em></code>. Bila beberapa kondisi diuraikan dalam aturan yang sama, maka kriteria adana konjungsi (<span
                class="emphasis"><em>and</em></span> lojik) dan kondisi-kondisi, yang paling kurang membatasi daripada setiap kondisi individual.
				</div><div
              class="para">
					Persyaratan <code
                class="literal">-p <em
                  class="replaceable">protokol</em></code> dicocokkan dengan field protokol dari paket IP. Nilai-nilai paling umum adalah <code
                class="literal">tcp</code>, <code
                class="literal">udp</code>, <code
                class="literal">icmp</code>, dan <code
                class="literal">icmpv6</code>. Memberi awalan tanda seru ke syarat menegasi kondisi, yang kemudian menjadi kecocokan atas "sebarang paket dengan protokol yang berbeda dengan yang dinyatakan". Mekanisme negasi ini tidak spesifik ke opsi <code
                class="literal">-p</code> dan juga dapat diterapkan ke syarat-syarat lain.
				</div><div
              class="para">
					Syarat <code
                class="literal">-s<em
                  class="replaceable">alamat</em></code> atau <code
                class="literal">-s <em
                  class="replaceable">jaringan/mask</em></code> mencocokkan alamat sumber paket. Sedangkan <code
                class="literal">-d <em
                  class="replaceable">alamat</em></code> atau <code
                class="literal">-d <em
                  class="replaceable">jaringan/mask</em></code> mencocokkan alamat tujuan.
				</div><div
              class="para">
					Syarat <code
                class="literal">-i <em
                  class="replaceable">antarmuka</em></code> memilih paket-paket yang datang dari antarmuka jaringan tertentu. <code
                class="literal">-o <em
                  class="replaceable">antarmuka</em></code> memilih paket-paket yang akan keluar pada antarmuka tertentu.
				</div><div
              class="para">
					Ada kondisi-kondisi yang lebih spesifik, tergantung pada kondisi generik yang dijelaskan di atas. Sebagai contoh, kondis <code
                class="literal">-p tcp</code> dapat dilengkapi dengan kondisi pada port TCP, dengan persyaratan seperti <code
                class="literal">--source-port <em
                  class="replaceable">port</em></code> dan <code
                class="literal">--destination-port<em
                  class="replaceable">port </em></code>.
				</div><div
              class="para">
					Persyaratan <code
                class="literal">--state <em
                  class="replaceable">keadaan</em></code> sesuai dengan keadaan paket dalam sebuah koneksi (ini memerlukan modul kernel <code
                class="command">ipt_conntrack</code>, untuk pelacakan koneksi). Keadaan <code
                class="literal">NEW</code> menjelaskan suatu paket yang memulai sambungan baru; <code
                class="literal">ESTABLISHED</code> sesuai dengan paket-paket milik sambungan yang sudah ada, dan <code
                class="literal">RELATED</code> sesuai dengan paket-paket yang memulai sambungan baru yang berkaitan dengan yang sudah ada (yang berguna untuk sambungan <code
                class="literal">ftp-data</code> dalam modus "aktif" dari protokol FTP).
				</div><div
              class="para">
					Bagian sebelumnya mencantumkan daftar tindakan yang tersedia, tetapi tidak pilihan mereka masing-masing. Tindakan <code
                class="literal">LOG</code> misalnya, memiliki pilihan berikut:
				</div><div
              xmlns:d="http://docbook.org/ns/docbook"
              class="itemizedlist"><ul><li
                  class="listitem"><div
                    class="para">
							<code
                      class="literal">--log-level</code>, dengan nilai baku <code
                      class="literal">warning</code>, menunjukkan tingkat severity <code
                      class="command">syslog</code>;
						</div></li><li
                  class="listitem"><div
                    class="para">
							<code
                      class="literal">--log-prefix</code> memungkinkan menentukan teks awalan untuk membedakan antara pesan-pesan log;
						</div></li><li
                  class="listitem"><div
                    class="para">
							<code
                      class="literal">--log-tcp-sequence</code>, <code
                      class="literal">-log-tcp-options</code>, dan <code
                      class="literal">--log-ip-options</code> menunjukkan data tambahan yang akan diintegrasikan ke dalam pesan: masing-masing, nomor urutan TCP, opsi TCP, dan opsi IP.
						</div></li></ul></div><div
              class="para">
					Tindakan <code
                class="literal">DNAT</code> menyediakan pilihan <code
                class="literal">--to-destination <em
                  class="replaceable">alamat</em>:<em
                  class="replaceable">port</em></code> untuk menunjukkan alamat IP tujuan dan/atau port baru. Demikian pula, <code
                class="literal">SNAT</code> menyediakan <code
                class="literal">--to-source <em
                  class="replaceable">alamat</em>:<em
                  class="replaceable">port</em></code> untuk menunjukkan alamat IP sumber dan/atau port baru.
				</div><div
              class="para">
					Aksi <code
                class="literal">PENGALIHAN</code> (hanya tersedia jika NAT tersedia ) menyajikan <code
                class="literal">--to-ports <em
                  class="replaceable">port(s)</em></code> pilihn untuk mengindikasi port, atau jangkauan port, dimana paket harusnya dialihkan.
				</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.creating-rules"></a>14.2.3. Membuat Aturan</h3></div></div></div><div
            class="para">
				Setiap penciptaan aturan memerlukan satu pemanggilan <code
              class="command">iptables</code>/<code
              class="command">ip6tables</code>. Mengetik perintah ini secara manual dapat membosankan, sehingga panggilan biasanya disimpan dalam skrip sehingga konfigurasi yang sama diatur secara otomatis setiap kali mesin di-boot. Skrip ini dapat ditulis dengan tangan, tetapi menarik juga untuk mempersiapkan dengan alat tingkat tinggi seperti <code
              class="command">fwbuilder</code>.
			</div><pre
            class="screen">
<code
              class="computeroutput"># </code><strong
              class="userinput"><code>apt install fwbuilder</code></strong></pre><div
            class="para">
				Prinsipnya sederhana. Dalam langkah pertama, kita perlu menjelaskan semua elemen yang akan terlibat dalam aturan yang sebenarnya:
			</div><div
            xmlns:d="http://docbook.org/ns/docbook"
            class="itemizedlist"><ul><li
                class="listitem"><div
                  class="para">
						firewall itu sendiri, dengan antarmuka jaringannya;
					</div></li><li
                class="listitem"><div
                  class="para">
						jaringan, dengan rentang IP mereka yang sesuai;
					</div></li><li
                class="listitem"><div
                  class="para">
						server;
					</div></li><li
                class="listitem"><div
                  class="para">
						port milik layanan yang diwadahi server.
					</div></li></ul></div><div
            class="para">
				Aturan kemudian dibuat dengan aksi drag-and-drop sederhana pada objek. Beberapa menu kontekstual dapat mengubah kondisi (meniadakannya, misalnya). Maka tindakan perlu dipilih dan dikonfigurasi.
			</div><div
            class="para">
				Sejauh menyangkut IPv6, seseorang dapat membuat dua aturan yang berbeda untuk IPv4 dan IPv6, atau hanya membuat satu dan membiarkan <code
              class="command">fwbuilder</code> menerjemahkan aturan sesuai dengan alamat yang ditetapkan untuk objek.
			</div><div
            class="figure"><a
              xmlns=""
              id="figure.fwbuilder"></a><div
              class="figure-contents"><div
                class="mediaobject"><img
                  src="images/fwbuilder.png"
                  alt="Jendela utama Fwbuilder" /></div></div><p
              class="title"><strong>Gambar 14.2. Jendela utama Fwbuilder</strong></p></div><a
            id="id-1.17.5.14.9"
            class="indexterm"></a><div
            class="para">
				<code
              class="command">fwbuilder</code> kemudian dapat menghasilkan skrip konfigurasi firewall sesuai dengan aturan yang telah ditentukan. Arsitektur modular memberi kemampuan untuk menghasilkan skrip-skrip yang menarget sistem-sistem yang berbeda (<code
              class="command">iptables</code> untuk Linux, <code
              class="command">ipf</code> untuk FreeBSD, dan <code
              class="command">pf</code> untuk OpenBSD).
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.install-rules-at-boot"></a>14.2.4. Menginstal Aturan Pada Setiap Boot</h3></div></div></div><div
            class="para">
				Dalam kasus lain, cara yang disarankan adalah mendaftarkan skrip konfigurasi dalam direktif <code
              class="literal">up</code> dari berkas <code
              class="filename">/etc/network/interfaces</code>. Pada contoh berikut, skrip disimpan di bawah <code
              class="filename">/usr/local/etc/arrakis.fw</code>.
			</div><div
            class="example"><a
              xmlns=""
              id="example.network-interfaces-firewall"></a><p
              class="title"><strong>Contoh 14.1. berkas <code
                  class="filename">interface</code> yang memanggil skrip firewall</strong></p><div
              class="example-contents"><pre
                class="programlisting">auto eth0
iface eth0 inet static
    address 192.168.0.1
    network 192.168.0.0
    netmask 255.255.255.0
    broadcast 192.168.0.255
    up /usr/local/etc/arrakis.fw</pre></div></div><div
            class="para">
				Ini jelas mengasumsikan bahwa Anda menggunakan <span
              class="pkg pkg">ifupdown</span> untuk mengkonfigurasi antarmuka jaringan. Jika Anda menggunakan sesuatu yang lain (seperti <span
              class="emphasis"><em>NetworkManager</em></span> atau <span
              class="emphasis"><em>systemd-networkd</em></span>), maka rujuklah ke dokumentasi mereka masing-masing untuk mengetahui cara menjalankan skrip setelah antarmuka telah dihidupkan.
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="security.html"><strong>Sebelumnya</strong>Bab 14. Keamanan</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Induk</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Depan</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.supervision.html"><strong>Lanjut</strong>14.3. Supervisi: Pencegahan, Deteksi, Deteren</a></li></ul></body></html>
