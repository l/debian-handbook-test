<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">10.5. IPv6</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-fa-IR-1.0-1" /><meta
        name="keywords"
        content="شبکه, Gateway, TCP/IP, IPv6, DNS, Bind, DHCP, QoS" /><link
        rel="home"
        href="index.html"
        title="راهنمای جامع دبیان" /><link
        rel="up"
        href="network-infrastructure.html"
        title="فصل 10. زیرساخت شبکه" /><link
        rel="prev"
        href="sect.dynamic-routing.html"
        title="10.4. مسیریابی پویا" /><link
        rel="next"
        href="sect.domain-name-servers.html"
        title="10.6. سرورهای نام دامنه (DNS)" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/fa-IR/stable/sect.ipv6.html" /></head><body
      dir="rtl"><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.dynamic-routing.html"><strong>قبلی</strong></a></li><li
          class="home">راهنمای جامع دبیان</li><li
          class="next"><a
            accesskey="n"
            href="sect.domain-name-servers.html"><strong>بعدی</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.ipv6"></a>10.5. IPv6</h2></div></div></div><div
          class="para">
			IPv6، ادامه دهنده راه IPv4، نسخه جدیدی از پروتکل IP است که برای حل مشکلات قدیمی آن طراحی شده است، به خصوص محدودیت در تعداد نشانی‌های IP موجود. این پروتکل با لایه شبکه سر و کار دارد؛ هدف آن فراهم کردن راهی برای نشانی‌دهی به رایانه‌ها است به صورتی که داده را به مقصد خود هدایت و در صورت نیاز گسستگی داده را مدیریت کنند (به عبارت دیگر، کوجک‌کردن بسته‌ها متناسب با اندازه شبکه به صورتی که در مقصد به همان ترتیب ارسالی، دریافت گردند).
		</div><div
          class="para">
			کرنل‌های دبیان از IPv6 در هسته خود بهره می‌برند (به استثنا معماری‌هایی که آن را به صورت یک ماژول با نام <code
            class="literal">ipv6</code> قرار داده‌اند). ابزار پایه‌ای مانند <code
            class="command">ping</code> و <code
            class="command">traceroute</code> معادل IPv6 خود را با نام‌های <code
            class="command">ping6</code> و <code
            class="command">traceroute6</code> دارا هستند که این ابزارها در بسته‌های <span
            class="pkg pkg">iputils-ping</span> و <span
            class="pkg pkg">iputils-tracepath</span> قرار گرفته‌اند.
		</div><a
          id="id-1.13.8.4"
          class="indexterm"></a><a
          id="id-1.13.8.5"
          class="indexterm"></a><a
          id="id-1.13.8.6"
          class="indexterm"></a><div
          class="para">
			شبکه IPv6 نیز مشابه با IPv4 در فایل <code
            class="filename">/etc/network/interfaces</code> پیکربندی می‌شود. اما اگر می‌خواهید این شبکه از خارج نیز قابل دسترس باشد به مسیریابی نیاز دارید که توانایی مدیریت بسته‌های IPv6 را دارا باشد.
		</div><div
          class="example"><a
            xmlns=""
            id="example.network-interfaces-ipv6"></a><p
            class="title"><strong>
      مثال 10.10. نمونه‌ای از پیکربندی IPv6</strong></p><div
            class="example-contents"><pre
              class="programlisting">
iface eth0 inet6 static
    address 2001:db8:1234:5::1:1
    netmask 64
    # Disabling auto-configuration
    # autoconf 0
    # The router is auto-configured and has no fixed address
    # (accept_ra 1). If it had:
    # gateway 2001:db8:1234:5::1</pre></div></div><div
          class="para">
			زیرشبکه‌های IPv6 معمولا netmask برابر با ۶۴ بیت دارند. این به معنی وجود 2<sup>64</sup> نشانی منحصربفرد در زیرشبکه است. Stateless Address Autoconfiguration یا <acronym
            class="acronym">SLAAC</acronym> امکان انتخاب یک نشانی بر اساس نشانی MAC رابط شبکه داخلی را پیدا می‌کند. به صورت پیشفرض، اگر <acronym
            class="acronym">SLAAC</acronym> روی شبکه شما و IPv6 روی رایانه شما فعال باشند، کرنل به صورت خودکار مسیریاب‌های IPv6 را پیدا کرده و رابط‌های شبکه را مطابق با آن پیکربندی می‌کند.
		</div><div
          class="para">
			این عملکرد ممکن است پیامدهای نقض حریم خصوصی داشته باشد. اگر به صورت مداوم بین شبکه‌ها سوئیچ می‌کنید، مانند یک لپ‌تاپ، شاید نخواهید که نشانی <acronym
            class="acronym">MAC</acronym> شما بخشی از نشانی IPv6 باشد. اینکار به تشخیص دستگاه مشابه در همان شبکه کمک می‌کند. راه حل این مشکل افزونه‌های حریم‌خصوصی IPv6 هستند (که دبیان به صورت پیشفرض فعال دارد اگر ارتباط IPv6 طی فرآیند نصب اولیه تشخیص داده شود) که به صورت خودکار یک عدد تصادفی را به رابط شبکه اختصاص می‌دهند، آن‌ها را به صورت مداوم تغییر داده و برای ارتباطات ارسالی از آن‌ها استفاده می‌کنند. ارتباطات دریافتی نیز می‌توانند از نشانی تولید شده توسط SLACC استفاده کنند. نمونه پیش رو، برای استفاده در <code
            class="filename">/etc/network/interfaces</code>، این افزونه‌های حریم‌خصوصی را فعال می‌کند.
		</div><div
          class="example"><a
            xmlns=""
            id="example.network-interface-ipv6-privext"></a><p
            class="title"><strong>
      مثال 10.11. افزونه‌های حریم‌خصوصی IPv6</strong></p><div
            class="example-contents"><pre
              class="programlisting">
iface eth0 inet6 auto
    # Prefer the randomly assigned addresses for outgoing connections.
    privext 2</pre></div></div><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>نکته</em></span> برنامه‌هایی که با IPv6 ساخته می‌شوند</strong></p></div></div></div><div
            class="para">
			بسیاری از نرم‌افزارها نیازمند سازگاری با IPv6 هستند. اکثر بسته‌های موجود در دبیان با آن منطبق شده‌اند، اما نه همه آن‌ها. اگر بسته محبوب شما هم اکنون از IPv6 استفاده نمی‌کند، می‌توانید در فهرست-پستی <span
              class="emphasis"><em>debian-ipv6</em></span> درخواست راهنمایی کنید. ممکن است این افراد جایگزین مناسبی برای آن بدانند یا راهنمایی‌های بیشتر به حل مشکل شما بپردازند. <div
              xmlns=""
              class="url">→ <a
                xmlns="http://www.w3.org/1999/xhtml"
                href="http://lists.debian.org/debian-ipv6/">http://lists.debian.org/debian-ipv6/</a></div>
		</div></div><a
          id="id-1.13.8.13"
          class="indexterm"></a><a
          id="id-1.13.8.14"
          class="indexterm"></a><a
          id="id-1.13.8.15"
          class="indexterm"></a><div
          class="para">
			ارتباطات IPv6 می‌توانند محدود شوند، به همان شیوه IPv4: کرنل‌های استاندارد دبیان شامل یک برنامه منطبق بر <span
            class="emphasis"><em>netfilter</em></span> هستند. این <span
            class="emphasis"><em>netfilter</em></span> مبتنی بر IPv6 به شیوه‌ای مشابه با معادل IPv4 خودر پیکربندی می‌شود، بجز برنامه‌ای که از آن استفاده می‌کند <code
            class="command">ip6tables</code> است و نه <code
            class="command">iptables</code>.
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.ipv6-tunneling"></a>10.5.1. تونل‌زنی</h3></div></div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>احتیاط</em></span> تونل‌زنی IPv6 و فایروال‌ها</strong></p></div></div></div><div
              class="para">
				تونل‌زنی IPv6 برفراز IPv4 (بر خلاف IPv6 اصلی) نیازمند قبول ترافیک دریافتی برای فایروال است که از پروتکل شماره ۴۱ مربوط به IPv4 استفاده می‌کند.
			</div></div><div
            class="para">
				اگر یک ارتباط واقعی IPv6 قابل برقراری نباشد، شیوه جایگزین آن استفاده از یک تونل مبتنی بر IPv4 است. Gogo6 یک ارائه دهنده (آزاد) چنین تونل‌هایی است: <div
              xmlns=""
              class="url">→ <a
                xmlns="http://www.w3.org/1999/xhtml"
                href="http://www.gogo6.com/freenet6/tunnelbroker">http://www.gogo6.com/freenet6/tunnelbroker</a></div>
			</div><a
            id="id-1.13.8.17.4"
            class="indexterm"></a><a
            id="id-1.13.8.17.5"
            class="indexterm"></a><div
            class="para">
				برای استفاده از یک تونل Freenet6، نیاز دارید که یک حساب کاربری رسمی در وبسایت Freenet6 بسازید، سپس بسته <span
              class="pkg pkg">gogoc</span> را نصب کرده و تونل را پیکربندی کنید. اینکار نیازمند ویرایش فایل <code
              class="filename">/etc/gogoc/gogoc.conf</code> است: <code
              class="literal">userid</code> و <code
              class="literal">password</code> که توسط ایمیل دریافت می‌گردند باید پر شوند و خط <code
              class="literal">server</code> باید با <code
              class="literal">authenticated.freenet6.net</code> جایگزین گردد.
			</div><div
            class="para">
				با افزودن سه دستور زیر در فایل <code
              class="filename">/etc/gogoc/gogoc.conf</code>، ارتباطات IPv6 به صورت خودکار روی رایانه‌های شبکه محلی تنظیم خواهد شد (با فرض اینکه شبکه محلی به رابط eth0 متصل باشد):
			</div><pre
            class="programlisting">
host_type=router
prefixlen=56
if_prefix=eth0</pre><div
            class="para">
				رایانه به یک مسیریاب موجود برای زیرشبکه با پسوند ۵۶-بیت تبدیل خواهد شد. زمانی که تونل از این تغییر اطلاع یابد، اما شبکه محلی باید از این تغییر آگاه شود؛ اینکار نیازمند فرآیند پس‌زمینه <code
              class="command">radvd</code> (از بسته‌ای مشابه همین نام) است. این پیکربندی فرآیند پس‌زمینه IPv6 نقش مشابهی مانند <code
              class="command">dhcpd</code> در دنیای IPv4 دارد.
			</div><div
            class="para">
				فایل پیکربندی <code
              class="filename">/etc/radvd.conf</code> سپس باید ایجاد گردد (برای شروع به فایل <code
              class="filename">/usr/share/doc/radvd/examples/simple-radvd.conf</code> مراجعه کنید). در مورد ما، تنها تغییر مورد نیاز پیشوند است که باید با عبارت جایگزین ارائه شده توسط Freenet6 تغییر یابد؛ می‌تواند در خروجی دستور <code
              class="command">ifconfig</code> پیدا شود، در بلاکی که مرتبط با رابط <code
              class="literal">tun</code> است.
			</div><a
            id="id-1.13.8.17.11"
            class="indexterm"></a><div
            class="para">
				سپس دستورات <code
              class="command">service gogoc restart</code> و <code
              class="command">service gogoc start</code> را اجرا کرده تا شبکه IPv6 به خوبی کار کند.
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.dynamic-routing.html"><strong>قبلی</strong>10.4. مسیریابی پویا</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>بالا</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>خانه</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.domain-name-servers.html"><strong>بعدی</strong>10.6. سرورهای نام دامنه (DNS)</a></li></ul></body></html>
