<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">6.7. بروز نگهداشتن یک سیستم</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-8-fa-IR-1.0-1" /><meta
        name="keywords"
        content="apt, apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="راهنمای جامع دبیان" /><link
        rel="up"
        href="apt.html"
        title="فصل 6. نگهداری و بروزرسانی: ابزار APT" /><link
        rel="prev"
        href="sect.dist-upgrade.html"
        title="6.6. بروزرسانی کلی از یک توزیع پایدار به دیگری" /><link
        rel="next"
        href="sect.automatic-upgrades.html"
        title="6.8. بروزرسانی‌های خودکار" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/fa-IR/stable/sect.regular-upgrades.html" /></head><body
      dir="rtl"><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.dist-upgrade.html"><strong>قبلی</strong></a></li><li
          class="home">راهنمای جامع دبیان</li><li
          class="next"><a
            accesskey="n"
            href="sect.automatic-upgrades.html"><strong>بعدی</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.regular-upgrades"></a>6.7. بروز نگهداشتن یک سیستم</h2></div></div></div><div
          class="para">
			توزیع دبیان بسیار پویا و متغیر است. اکثر تغییرات در <span
            class="distribution distribution">Testing</span> و <span
            class="distribution distribution">Unstable</span> صورت می‌گیرند اما <span
            class="distribution distribution">Stable</span> نیز در بازه‌های زمانی مختلف بروزرسانی می‌گردد، اغلب به دلیل اصلاحات امنیتی. جدا از اینکه کدام نسخه دبیان مورد استفاده قرار می‌گیرد، ایده خوبی است که بروز نگهداشته شود به این منظور که از آخرین اصلاحات باگ و تغییرات بهره‌مند شوید.
		</div><div
          class="para">
			از آنجا که این امکان وجود دارد با استفاده از یک ابزار در زمان‌های مختلف اقدام به بررسی بروزرسانی‌ها و نصب آن‌ها صورت گیرد، چنین فعالیت تکراری بسیار طاقت‌فرسا خواهد شد به خصوص اگر روی ماشین‌های مختلف صورت پذیرد. خوشبختانه، مانند سایر فعالیت‌های تکراری، این فعالیت نیز می‌تواند خودکارسازی گردد و مجموعه ابزاری به همین منظور تهیه شده‌اند.
		</div><div
          class="para">
			اولین ابزار <code
            class="command">apticron</code> است که در بسته‌ای با همین نام قرار دارد. تاثیر اصلی آن اجرای یک اسکریپت به صورت روزانه است (از طریق <code
            class="command">cron</code>). اسکریپت فهرست بسته‌های موجود را بروزرسانی می‌کند و اگر برخی بسته‌های نصب شده در این فهرست نباشند از طریق ایمیل به مدیرسیستم همراه با آخرین تغییراتی که در نسخه آخرشان صورت گرفته است، اطلاع می‌دهد. واضح است که این بسته اغلب برای کاربران نسخه <span
            class="distribution distribution">Stable</span> در نظر گرفته شده چرا که تغییرات در سایر نسخه‌ها با سرعت بیشتری روی می‌دهد. زمانی که بروزرسانی‌ها موجود باشند، <code
            class="command">apticron</code> به صورت خودکار آن‌ها را دانلود می‌کند اما اقدام به نصب آن‌ها نمی‌کند -- چرا که کار مدیرسیستم است -- اما داشتن این بسته‌ها به صورت آفلاین (cache) سرعت انجام عملیات را افزایش می‌دهد.
		</div><div
          class="para">
			مدیرسیستم‌هایی که مسئولیت چند رایانه را بر عهده دارند از اطلاعیه‌های موجود در رابطه با بروزرسانی‌ها استقبال می‌کنند اما خود فرآیند بروزرسانی هنوز کاری طاقت‌فرسا به حساب می‌آید، اینجاست که اسکریپت <code
            class="filename">/etc/cron.daily/apt</code> (موجود در بسته <span
            class="pkg pkg">apt</span>) به کار می‌آید. این اسکریپت نیز به صورت روزانه (و غیر-تعاملی) توسط <code
            class="command">cron</code> اجرا می‌شود. برای کنترل عملکرد آن، از متغیرهای پیکربندی APT استفاده کنید (که در فایلی زیر مجموعه <code
            class="filename">/etc/apt/apt.conf.d/</code> قرار گرفته‌اند). متغیرهای اصلی عبارتند از:
		</div><div
          class="variablelist"><dl
            class="variablelist"><dt><span
                class="term"><code
                  class="literal">APT::Periodic::Update-Package-Lists</code></span></dt><dd><div
                class="para">
						این گزینه تعداد روزهایی که برای یک بروزرسانی منتظر می‌مانید را مشخص می‌کند. کاربران <code
                  class="command">apticron</code> بدون این متغیر نیز قادر به اجرای آن هستند چرا که به صورت پیش‌فرض این فعالیت از طرف <code
                  class="command">apticron</code> صورت می‌پذیرد.
					</div></dd><dt><span
                class="term"><code
                  class="literal">APT::Periodic::Download-Upgradeable-Packages</code></span></dt><dd><div
                class="para">
						این گزینه نیز تعداد روزهایی که باید سپری شوند یا یک بسته دانلود شود را مشخص می‌کند. کاربران <code
                  class="command">apticron</code> به آن نیازی ندارند.
					</div></dd><dt><span
                class="term"><code
                  class="literal">APT::Periodic::AutocleanInterval</code></span></dt><dd><div
                class="para">
						این گزینه قابلیتی را شامل می‌شود که <code
                  class="command">apticron</code> ندارد. کنترل می‌کند که بسته‌های قدیمی (آن‌هایی که دیگر در هیچ توزیعی قرار ندارند) طی چه بازه زمانی از حافظه APT پاک شوند. این کار باعث تمیز نگهداشتن حافظه cache می‌گردد و دیگر نیازی نیست نگران پر شدن آن باشید.
					</div></dd><dt><span
                class="term"><code
                  class="literal">APT::Periodic::Unattended-Upgrade</code></span></dt><dd><a
                id="id-1.9.16.6.4.2.1"
                class="indexterm"></a><div
                class="para">
						زمانی که این گزینه فعال باشد، اسکریپت روزانه به اجرای <code
                  class="command">unattended-upgrade</code> (از بسته <span
                  class="pkg pkg">unattended-upgrades</span>) می‌پردازد که -- همانطور از نامیش پیداست -- می‌تواند فرآیند بروزرسانی برخی بسته‌ها را خودکار سازد (به صورت پیش‌فرض تنها به بررسی بروزرسانی امنیتی می‌پردازد، اما این فعالیت می‌تواند از طریق فایل <code
                  class="filename">/etc/apt/apt.conf.d/50unattended-upgrades</code> شخصی‌سازی گردد). این گزینه با اجرای دستور <code
                  class="command">dpkg-reconfigure -plow unattended-upgrades</code> می‌تواند تنظیم شود.
					</div></dd></dl></div><div
          class="para">
			سایر گزینه‌ها می‌توانند با دقت بیشتری به پاکسازی cache موجود در APT بپردازند که در اینجا مورد بحث قرار نمی‌گیرند اما در اسکریپت <code
            class="filename">/etc/cron.daily/apt</code> موجود هستند.
		</div><a
          id="id-1.9.16.8"
          class="indexterm"></a><div
          class="para">
			این ابزارها برای سرورها خیلی خوب جواب می‌دهند اما کاربران رایانه‌های رومیزی معمولا یک سیستم تعاملی‌تر را ترجیح می‌دهند. به همین دلیل است که “Debian Desktop Environment” اقدام به نصب <span
            class="pkg pkg">gnome-packagekit</span> می‌کند (حداقل زمانی که میزکار گرافیکی GNOME را انتخاب کرده باشید). این برنامه یک شمایل در ناحیه اطلاع‌رسانی قرار می‌دهد که نشان‌دهنده بروزرسانی‌های موجود است؛ کلیک روی این شمایل منجر به اجرای <code
            class="command">gpk-update-viewer</code> می‌گردد، یک رابط کاربری ساده برای بروزرسانی. می‌توانید در میان بروزرسانی‌های موجود حرکت کرده، توضیح مختصر هر بسته به همراه خطوط <code
            class="filename">changelog</code> آن را مطالعه کرده و برای هر بسته انتخاب کنید که بروزرسانی صورت پذیرد یا خیر.
		</div><div
          class="figure"><a
            xmlns=""
            id="id-1.9.16.10"></a><div
            class="figure-contents"><div
              class="mediaobject"><img
                src="images/gnome-packagekit.png"
                alt="بروزرسانی با استفاده از gpk-update-viewer" /></div></div><p
            class="title"><strong>
      شكل 6.3. بروزرسانی با استفاده از <code
                class="command">gpk-update-viewer</code></strong></p></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.dist-upgrade.html"><strong>قبلی</strong>6.6. بروزرسانی کلی از یک توزیع پایدار به دیگری</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>بالا</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>خانه</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.automatic-upgrades.html"><strong>بعدی</strong>6.8. بروزرسانی‌های خودکار</a></li></ul></body></html>
