<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">8.2. پیکربندی شبکه</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-fa-IR-1.0-1" /><meta
        name="keywords"
        content="پیکربندی, بومی‌سازی, مناطق, شبکه, شفافیت نامگذاری, کاربران, گروه‌ها, حساب‌های کاربری, مفسر خط‌-فرمان, پوسته, چاپ, راه‌انداز اولیه, کامپایل کرنل" /><link
        rel="home"
        href="index.html"
        title="راهنمای دبیان برای مدیر سیستم‌ها" /><link
        rel="up"
        href="basic-configuration.html"
        title="فصل 8. پیکربندی اولیه: شبکه، حساب‌های کاربری، چاپ و ..." /><link
        rel="prev"
        href="basic-configuration.html"
        title="فصل 8. پیکربندی اولیه: شبکه، حساب‌های کاربری، چاپ و ..." /><link
        rel="next"
        href="sect.hostname-name-service.html"
        title="8.3. تنظیم Hostname و پیکربندی Name Service" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/fa-IR/stable/sect.network-config.html" /></head><body
      dir="rtl"><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="basic-configuration.html"><strong>قبلی</strong></a></li><li
          class="home">راهنمای دبیان برای مدیر سیستم‌ها</li><li
          class="next"><a
            accesskey="n"
            href="sect.hostname-name-service.html"><strong>بعدی</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.network-config"></a>8.2. پیکربندی شبکه</h2></div></div></div><div
          class="sidebar"><a
            xmlns=""
            id="sidebar.networking-basics"></a><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>بازگشت به مقدمات</em></span> مفاهیم ضروری شبکه (Ethernet, IP address, subnet, broadcast)</strong></p></div></div></div><a
            id="id-1.11.6.2.2"
            class="indexterm"></a><a
            id="id-1.11.6.2.3"
            class="indexterm"></a><a
            id="id-1.11.6.2.4"
            class="indexterm"></a><a
            id="id-1.11.6.2.5"
            class="indexterm"></a><a
            id="id-1.11.6.2.6"
            class="indexterm"></a><a
            id="id-1.11.6.2.7"
            class="indexterm"></a><a
            id="id-1.11.6.2.8"
            class="indexterm"></a><div
            class="para">
			اکثر شبکه‌های محلی جدید از پروتکل Ethernet استفاده می‌کنند که داده به صورت بلاک‌های کوچکی بنام frame در می‌آید و در هر لحظه یک frame از خطوط ارتباطی عبور می‌کند. سرعت تبادل داده از 10 Mb/s تا 10 Gb/s متغیر است (با متداول‌ترین نرخ که هم‌اکنون از 100 Mb/s تا 1 Gb/s تغییر می‌کند). متداول‌ترین کابل‌های مورد استفاده 10BASE-T، 100BASE-T، 1000BASE-T یا 10GBASE-T هستند با توجه به مقدار خروجی که می‌توانند فراهم کنند (حرف T مخفف “twisted pair” به معنای زوج سیم است)؛ این کابل‌های به یک کانکتور RJ45 منتهی می‌شوند. انواع دیگری از کابل برای سرعت‌های بیش از 1 Gb/s نیز وجود دارد.
		</div><a
            id="id-1.11.6.2.10"
            class="indexterm"></a><a
            id="id-1.11.6.2.11"
            class="indexterm"></a><div
            class="para">
			یک نشانی IP عددی است که رابط کارت شبکه رایانه را در شبکه محلی یا اینترنت مشخص می‌کند. در نسخه فعلی که بیشترین استفاده را دارد (IPv4) این عدد به صورت ۳۲ بیتی کدگذاری و معمولا به صورت ۴ عدد که توسط . از هم جدا شده‌اند نمایش داده می‌شود (برای نمونه، <code
              class="literal">192.168.0.1</code>) هر قسمت عددی بین ۰ تا ۲۵۵ (که نشانگر ۸ بیت از داده است) قرار دارد. نسخه بعدی این پروتکل، IPv6، فضای آدرسی‌دهی را تا ۱۲۸ بیت افزایش می‌دهد که به صورت مجموعه اعداد هگزادسیمال جدا شده با : نمایش می‌یابند (برای نمونه، 2001:0db8:13bb:0002:0000:0000:0000:0020 یا 2001:db8:13bb:2::20 به صورت خلاصه).
		</div><a
            id="id-1.11.6.2.13"
            class="indexterm"></a><a
            id="id-1.11.6.2.14"
            class="indexterm"></a><a
            id="id-1.11.6.2.15"
            class="indexterm"></a><div
            class="para">
			یک subnet mask یا netmask به صورت باینری مشخص می‌کند که کدام قسمت از نشانی IP مربوط به یک شبکه و کدام قسمت مربوط به رایانه‌های آن شبکه است. مثالی که درباره پیکربندی کی نشانی IPv4 ایستا در ادامه می‌آید، <code
              class="literal">255.255.255.0</code> (۲۴ تا ۱ به همراه ۸ تا ۰ در حالت باینری) نشان می‌دهد که ۲۴ بیت ابتدایی مربوط به نشانی شبکه و ۸ بیت انتهایی مربوط به رایانه‌های آن شبکه است. در IPv6، برای خوانایی بیشتر، تنها تعداد ۱ها شمرده می‌شود؛ netmask یک شبکه IPv6 می‌تواند <code
              class="literal">64</code> باشد.
		</div><div
            class="para">
			نشانی شبکه قسمتی از نشانی IP است که اعداد ۰ آن نشان‌دهنده تعداد رایانه‌های روی شبکه است. محدوده نشانی‌های IPv4 در یک شبکه کامل معمولا به صورت <span
              class="emphasis"><em>a.b.c.d/e</em></span> نمایش داده می‌شود که در آن <span
              class="emphasis"><em>a.b.c.d</em></span> به عنوان نشانی شبکه و <span
              class="emphasis"><em>e</em></span> به عنوان تعداد بیت‌های موثر در قسمت شبکه نشانی IP بکار می‌رود. برای نمونه، شبکه به صورت <code
              class="literal">192.168.0.0/24</code> نمایش می‌یابد. این شیوه نگارش در مورد IPv6 نیز صادق است: <code
              class="literal">2001:db8:13bb:2::/64</code>
		</div><a
            id="id-1.11.6.2.18"
            class="indexterm"></a><a
            id="id-1.11.6.2.19"
            class="indexterm"></a><div
            class="para">
			router رایانه‌ای است که چندین شبکه را به یکدیگر متصل می‌کند. تمام ترافیکی که از router می‌گذرد به شبکه درستی راهنمایی می‌شود. به این منظور، router بسته‌های دریافتی را تحلیل کرده و بر اساس نشانی IP مقصد آن‌ها را هدایت می‌کند. router همچنین با نام gateway نیز شناخته می‌شود؛ در این پیکربندی، به عنوان رایانه‌ای که ترافیک را در محدوده مرز شبکه محلی هدایت می‌کند شناخته می‌شود (در میان یک شبکه خارجی مانند اینترنت).
		</div><a
            id="id-1.11.6.2.21"
            class="indexterm"></a><div
            class="para">
			یک نشانی broadcast بخصوص تمام رایانه‌های یک شبکه را یه یکدیگر متصل می‌کند. تقریبا هیچگاه “مسیریابی” نمی‌شود و تنها روی شبکه محلی خود فعالیت می‌کند. به این معنا که بسته داده‌ ارسال شده به نشانی broadcast هیچگاه از router عبور نمی‌کند.
		</div><div
            class="para">
			تمرکز این فصل بر روی نشانی‌های IPv4 است چرا که پرکاربردترین شیوه نشانی‌دهی به شمار می‌روند. جزئیات پروتکل IPv6 در <a
              class="xref"
              href="sect.ipv6.html">
      قسمت 10.5, “IPv6”
    </a> آمده اما مفاهیم تغییری نکرده است.
		</div></div><div
          class="para">
			The network is automatically configured during the initial installation. If Network Manager gets installed (which is generally the case for full desktop installations), then it might be that no configuration is actually required (for example, if you rely on DHCP on a wired connection and have no specific requirements). If a configuration is required (for example for a WiFi interface), then it will create the appropriate file in <code
            class="filename">/etc/NetworkManager/system-connections/</code>.
		</div><div
          class="para">
			If Network Manager is not installed, then the installer will configure <span
            class="pkg pkg">ifupdown</span> by creating the <code
            class="filename">/etc/network/interfaces</code> file. A line starting with <code
            class="literal">auto</code> gives a list of interfaces to be automatically configured on boot by the <code
            class="literal">networking</code> service.
		</div><div
          class="para">
			In a server context, <span
            class="pkg pkg">ifupdown</span> is thus the network configuration tool that you usually get. That is why we will cover it in the next sections.
		</div><a
          id="id-1.11.6.6"
          class="indexterm"></a><a
          id="id-1.11.6.7"
          class="indexterm"></a><a
          id="id-1.11.6.8"
          class="indexterm"></a><div
          class="sidebar"><div
            class="titlepage"><div><div><p
                  class="title"><strong><span
                      class="emphasis"><em>جایگزین</em></span> NetworkManager</strong></p></div></div></div><a
            id="id-1.11.6.9.2"
            class="indexterm"></a><div
            class="para">
			If Network Manager is particularly recommended in roaming setups (see <a
              class="xref"
              href="sect.network-config.html#sect.roaming-network-config">
      قسمت 8.2.5, “پیکربندی خودکار شبکه برای کاربران”
    </a>), it is also perfectly usable as the default network management tool. You can create “System connections” that are used as soon as the computer boots either manually with a <code
              class="filename">.ini</code>-like file in <code
              class="filename">/etc/NetworkManager/system-connections/</code> or through a graphical tool (<code
              class="command">nm-connection-editor</code>). Just remember to deactivate all entries in <code
              class="filename">/etc/network/interfaces</code> if you want Network Manager to handle them. <div
              xmlns=""
              class="url">→ <a
                xmlns="http://www.w3.org/1999/xhtml"
                href="https://wiki.gnome.org/Projects/NetworkManager/SystemSettings">https://wiki.gnome.org/Projects/NetworkManager/SystemSettings</a></div> <div
              xmlns=""
              class="url">→ <a
                xmlns="http://www.w3.org/1999/xhtml"
                href="https://developer.gnome.org/NetworkManager/1.6/ref-settings.html">https://developer.gnome.org/NetworkManager/1.6/ref-settings.html</a></div>
		</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.interface-ethernet"></a>8.2.1. رابط Ethernet</h3></div></div></div><div
            class="para">
				اگر رایانه دارای کارت شبکه Ethernet باشد، شبکه IP که با آن منطبق است طبق دو شیوه باید تنظیم گردد. شیوه آسان استفاده از پیکربندی خودکار DHCP است که نیاز به یک DHCP سرور در شبکه محلی دارد. می‌تواند دارای نام مناسبی نیز باشد، مانند تنظیمات <code
              class="literal">hostname</code> در مثال زیر. سرور DHCP آنگاه تنظیمات مربوط به کل شبکه را به رایانه‌ها ارسال می‌کند.
			</div><a
            id="id-1.11.6.10.3"
            class="indexterm"></a><a
            id="id-1.11.6.10.4"
            class="indexterm"></a><div
            class="example"><a
              xmlns=""
              id="example.config-dhcp"></a><p
              class="title"><strong>
      مثال 8.1. پیکربندی DHCP</strong></p><div
              class="example-contents"><pre
                class="programlisting">
auto enp0s31f6
iface enp0s31f6 inet dhcp
  hostname arrakis
</pre></div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>IN PRACTICE</em></span> Names of network interfaces</strong></p></div></div></div><a
              id="id-1.11.6.10.6.2"
              class="indexterm"></a><a
              id="id-1.11.6.10.6.3"
              class="indexterm"></a><a
              id="id-1.11.6.10.6.4"
              class="indexterm"></a><a
              id="id-1.11.6.10.6.5"
              class="indexterm"></a><div
              class="para">
				By default, the kernel attributes generic names such a <code
                class="literal">eth0</code> (for wired Ethernet) or <code
                class="literal">wlan0</code> (for WiFi) to the network interfaces. The number in those names is a simple incremental counter representing the order in which they have been detected. With modern hardware, that order might change for each reboot and thus the default names are not reliable.
			</div><div
              class="para">
				Fortunately, systemd and udev are able to rename the interfaces as soon as they appear. The default name policy is defined by <code
                class="filename">/lib/systemd/network/99-default.link</code> (see <span
                class="citerefentry"><span
                  class="refentrytitle">systemd.link</span>(5)</span> for an explanation of the <code
                class="literal">NamePolicy</code> entry in that file). In practice, the names are often based on the device's physical location (as guessed by where they are connected) and you will see names starting with <code
                class="literal">en</code> for wired ethernet and <code
                class="literal">wl</code> for WiFi. In the example above, the rest of the name indicates, in abbreviated form, a PCI (<code
                class="literal">p</code>) bus number (<code
                class="literal">0</code>), a slot number (<code
                class="literal">s31</code>), a function number (<code
                class="literal">f6</code>).
			</div><div
              class="para">
				Obviously, you are free to override this policy and/or to complement it to customize the names of some specific interfaces. You can find out the names of the network interfaces in the output of <code
                class="command">ip addr</code> (or as filenames in <code
                class="filename">/sys/class/net/</code>).
			</div></div><div
            class="para">
				یک پیکربندی “ایستا” باید تنظیمات شبکه را به شیوه‌ای ثابت نمایش دهد. حداقل گزینه‌های مورد نیاز نیز نشانی IP و subnet mask هستند؛ گاهی نیز نشانی‌های شبکه و broadcast فهرست می‌شوند. router که به شبکه خارجی متصل است در این پیکربندی با نام gateway شناخته می‌شود.
			</div><div
            class="example"><a
              xmlns=""
              id="example.static-network"></a><p
              class="title"><strong>
      مثال 8.2. پیکربندی ایستا</strong></p><div
              class="example-contents"><pre
                class="programlisting">
auto enp0s31f6
iface enp0s31f6 inet static
  address 192.168.0.3
  netmask 255.255.255.0
  broadcast 192.168.0.255
  network 192.168.0.0
  gateway 192.168.0.1
</pre></div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>یادداشت</em></span> نشانی‌های مختلف</strong></p></div></div></div><div
              class="para">
				نه تنها می‌توان چند رابط مختلف را به یک کارت شبکه فیزیکی نسبت داد بلکه امکان اختصاص چند نشانی IP به یک رابط واحد نیز وجود دارد. به یاد داشته باشید که یک نشانی IP از طریق DNS ممکن است به چندین نام مختلف اختصاص یابد و همچنین این نام می‌تواند در برگیرنده چندین نشانی IP باشد.
			</div><div
              class="para">
				همانطور که حدس می‌زنید، پیکربندی در این حالت پیچیده است اما چنین گزینه‌هایی تنها در حالت‌های خاص استفاده می‌شوند. مثالی که در ادامه می‌آید تنها به بررسی کاربردهای عمومی آن می‌پردازد.
			</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.interface-wireless"></a>8.2.2. Wireless Interface</h3></div></div></div><a
            id="id-1.11.6.11.2"
            class="indexterm"></a><div
            class="para">
				Getting wireless network cards to work can be a bit more challenging. First of all, they often require the installation of proprietary firmwares which are not installed by default in Debian. Then wireless networks rely on cryptography to restrict access to authorized users only, this implies storing some secret key in the network configuration. Let's tackle those topics one by one.
			</div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.11.6.11.4"></a>8.2.2.1. Installing the required firmwares</h4></div></div></div><a
              id="id-1.11.6.11.4.2"
              class="indexterm"></a><a
              id="id-1.11.6.11.4.3"
              class="indexterm"></a><div
              class="para">
					First you have to enable the non-free repository in APT's sources.list file: see <a
                class="xref"
                href="apt.html#sect.apt-sources.list">
      قسمت 6.1, “پر کردن فایل <code
                  class="filename">sources.list</code>”
    </a> for details about this file. Many firmware are proprietary and are thus located in this repository. You can try to skip this step if you want, but if the next step doesn't find the required firmware, retry after having enabled the non-free section.
				</div><div
              class="para">
					Then you have to install the appropriate <code
                class="literal">firmware-*</code> packages. If you don't know which package you need, you can install the <span
                class="pkg pkg">isenkram</span> package and run its <code
                class="command">isenkram-autoinstall-firmware</code> command. The packages are often named after the hardware manufacturer or the corresponding kernel module: <span
                class="pkg pkg">firmware-iwlwifi</span> for Intel wireless cards, <span
                class="pkg pkg">firmware-atheros</span> for Qualcomm Atheros, <span
                class="pkg pkg">firmware-ralink</span> for Ralink, etc. A reboot is then recommended because the kernel driver usually looks for the firmware files when it is first loaded and no longer afterwards.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.11.6.11.5"></a>8.2.2.2. Wireless specific entries in <code
                      class="filename">/etc/network/interfaces</code></h4></div></div></div><a
              id="id-1.11.6.11.5.2"
              class="indexterm"></a><div
              class="para">
					<span
                class="emphasis"><em>ifupdown</em></span> is able to manage wireless interfaces but it needs the help of the <span
                class="pkg pkg">wpasupplicant</span> package which provides the required integration between <span
                class="emphasis"><em>ifupdown</em></span> and the <code
                class="command">wpa_supplicant</code> command used to configure the wireless interfaces (when using WPA/WPA2 encryption). The usual entry in <code
                class="filename">/etc/network/interfaces</code> needs to be extended with two supplementary parameters to specify the name of the wireless network (aka its SSID) and the <span
                class="emphasis"><em>Pre-Shared Key</em></span> (PSK).
				</div><div
              class="example"><a
                xmlns=""
                id="example.config-wireless"></a><p
                class="title"><strong>
      مثال 8.3. DHCP configuration for a wireless interface</strong></p><div
                class="example-contents"><pre
                  class="programlisting">
auto wlp4s0
iface wlp4s0 inet dhcp
  wpa-ssid Falcot
  wpa-psk ccb290fd4fe6b22935cbae31449e050edd02ad44627b16ce0151668f5f53c01b
</pre></div></div><div
              class="para">
					The <code
                class="literal">wpa-psk</code> parameter can contain either the plain text passphrase or its hashed version generated with <code
                class="command">wpa_passphrase <em
                  class="replaceable">SSID</em> <em
                  class="replaceable">passphrase</em></code>. If you use an unencrypted wireless connection, then you should put a <code
                class="literal">wpa-key-mgmt NONE</code> and no <code
                class="literal">wpa-psk</code> entry. For more information about the possible configuration options, have a look at <code
                class="filename">/usr/share/doc/wpasupplicant/README.Debian.gz</code>.
				</div><div
              class="para">
					At this point, you should consider restricting the read permissions on <code
                class="filename">/etc/network/interfaces</code> to the root user only since the file contains a private key that not all users should have access to.
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>HISTORY</em></span> WEP encryption</strong></p></div></div></div><a
                id="id-1.11.6.11.5.7.2"
                class="indexterm"></a><div
                class="para">
					Usage of the deprecated WEP encryption protocol is possible with the <span
                  class="pkg pkg">wireless-tools</span> package. See <code
                  class="filename">/usr/share/doc/wireless-tools/README.Debian</code> for instructions.
				</div></div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.ppp-rtc"></a>8.2.3. برقراری ارتباط با PPP از طریق مودم PSTN</h3></div></div></div><a
            id="id-1.11.6.12.2"
            class="indexterm"></a><a
            id="id-1.11.6.12.3"
            class="indexterm"></a><a
            id="id-1.11.6.12.4"
            class="indexterm"></a><a
            id="id-1.11.6.12.5"
            class="indexterm"></a><div
            class="para">
				ارتباط نقطه به نقطه (PPP) یک اتصال متناوب بوجود می‌آورد؛ این متداول‌ترین راه حل برای برقراری ارتباط از طریق مودم‌های خطوط تلفن است (“PSTN Modem”، چرا که ارتباط از طریق شبکه عمومی سووچینگ تلفن انجام می‌شود).
			</div><div
            class="para">
				چنین ارتباطی مستلزم دارا بودن یک حساب کاربری با دسترسی مشخص است که شامل شماره تلفن، نام کاربری، گذرواژه و گاهی نیز شیوه احزار هویت می‌شود. این ارتباط با استفاده از ابزار <code
              class="command">pppconfig</code> در بسته‌ای با همین نام پیکربندی می‌گردد. به صورت پیش‌فرض، ارتباطی با نام <code
              class="literal">provider</code> ایجاد می‌کند (مانند ارائه‌دهنده خدمات اینترنت). زمانی که درباره پروتکل احراز هویت شک دارید، <span
              class="emphasis"><em>PAP</em></span> را انتخاب کنید: این پروتکل توسط اکثر شرکت‌های ارائه‌دهنده خدمات اینترنت پشتیبانی می‌شود.
			</div><a
            id="id-1.11.6.12.8"
            class="indexterm"></a><a
            id="id-1.11.6.12.9"
            class="indexterm"></a><div
            class="para">
				پس از پیکربندی، امکان برقراری ارتباط با استفاده از دستور <code
              class="command">pon</code> میسر است (با دادن نام ارتباط به عنوان پارامتر، زمانی که مقدار پیش‌فرض <code
              class="literal">provider</code> مناسب نباشد). ارتباط با استفاده از دستور <code
              class="command">pon</code> قطع می‌شود. این دو دستور می‌توانند توسط کاربر root اجرا شوند یا توسط هر کاربر دیگری که در گروه <code
              class="literal">dip</code> قرار داشته باشد.
			</div><a
            id="id-1.11.6.12.11"
            class="indexterm"></a><a
            id="id-1.11.6.12.12"
            class="indexterm"></a></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.adsl"></a>8.2.4. برقراری ارتباط از طریق مودم ADSL</h3></div></div></div><a
            id="id-1.11.6.13.2"
            class="indexterm"></a><a
            id="id-1.11.6.13.3"
            class="indexterm"></a><a
            id="id-1.11.6.13.4"
            class="indexterm"></a><div
            class="para">
				عبارت متداول “مودم ADSL” طیف گسترده‌ای از دستگاه‌ها با قابلیت‌های متفاوت را شامل می‌شود. مودم‌هایی که دارای رابط شبکه Ethernet (و نه تنها رابط USB) باشند به سادگی با لینوکس سازگار هستند. این‌ها گزینه‌های محبوبی بشمار می‌روند؛ اکثر ارائه‌دهندگان خدمات اینترنت ADSL بسته‌ای را با رابط‌های شبکه Ethernet اجاره (lease) می‌دهند. با توجه به نوع مودم، پیکربندی مورد نیاز می‌تواند متفاوت باشد.
			</div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.adsl-pppoe"></a>8.2.4.1. مودم‌هایی که از PPPOE پشتیبانی می‌کنند</h4></div></div></div><a
              id="id-1.11.6.13.6.2"
              class="indexterm"></a><a
              id="id-1.11.6.13.6.3"
              class="indexterm"></a><div
              class="para">
					برخی مودم‌های Ethernet با پروتکل PPPOE کار می‌کنند (Point to Point Protocol over Ethernet). ابزار <code
                class="command">pppoeconf</code> (از بسته‌ای با همین نام) برای پیکربندی چنین ارتباطی استفاده می‌شود. به این منظور، فایل <code
                class="filename">/etc/ppp/peers/dsl-provider</code> را تنظیمات موجود تغییر می‌دهد و اطلاعات ورود را در فایل‌های <code
                class="filename">/etc/ppp/pap-secrets</code> و <code
                class="filename">/etc/ppp/chap-secrets</code> ذخیره می‌کند. توصیه می‌شود که تغییرات پیشنهادی آن را بپذیرید.
				</div><div
              class="para">
					زمانی که این پیکربندی به پایان برسد، می‌توانید از دستورهای <code
                class="command">pon dsl-provider</code> و <code
                class="command">poff dsl-provider</code> برای برقراری و قطع ارتباط استفاده کنید.
				</div><a
              id="id-1.11.6.13.6.6"
              class="indexterm"></a><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>نکته</em></span> اجرای <code
                          class="command">ppp</code> در زمان راه‌اندازی سیستم</strong></p></div></div></div><a
                id="id-1.11.6.13.6.7.2"
                class="indexterm"></a><a
                id="id-1.11.6.13.6.7.3"
                class="indexterm"></a><div
                class="para">
					برقراری ارتباط PPP از طریق ADSL به صورت متناوب صورت می‌گیرد. از آنجا که قیمت آن‌ها بر اساس زمان محاسبه نمی‌شود، باز نگاه داشتن چنین ارتباطی عواقب چندانی ندارد. شیوه استاندارد این کار استفاده از سیستم init است.
				</div><div
                class="para">
					With systemd, adding an automatically restarting task for the ADSL connection is a simple matter of creating a “unit file” such as <code
                  class="filename">/etc/systemd/system/adsl-connection.service</code>, with contents such as the following:
				</div><pre
                class="programlisting">[Unit]
Description=ADSL connection

[Service]
Type=forking
ExecStart=/usr/sbin/pppd call dsl-provider
Restart=always

[Install]
WantedBy=multi-user.target</pre><div
                class="para">
					زمانی که این فایل واحد تعریف شود، باید با استفاده از <code
                  class="command">systemctl enable adsl-connection</code> فعال گردد. آنگاه اولین اجرای آن می‌تواند با <code
                  class="command">systemctl start adsl-connection</code> صورت گیرد؛ از این به بعد، در هر راه‌اندازی سیستم اجرا می‌گردد.
				</div><div
                class="para">
					در سیستم‌هایی که از <code
                  class="command">systemd</code> استفاده نمی‌کنند (از جمله <span
                  class="distribution distribution">Wheezy</span> و نسخه‌های پیشین دبیان)، شیوه سنتی SystemV init به گونه‌ای متفاوت عمل می‌کند. در چنین سیستم‌هایی، تمام آنچه مورد نیاز است افزودن خطی به انتهای فایل <code
                  class="filename">/etc/inittab</code> است، هر زمان ارتباط قطع گردد، <code
                  class="command">init</code> آن را متصل می‌کند.
				</div><pre
                class="programlisting">
adsl:2345:respawn:/usr/sbin/pppd call dsl-provider</pre><div
                class="para">
					برای ارتباطات ADSL که به صورت روزانه قطع می‌گردند، این شیوه وقفه‌های موجود را کاهش می‌دهد.
				</div></div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.adsl-pptp"></a>8.2.4.2. مودم‌هایی که از PPTP پشتیبانی می‌کنند</h4></div></div></div><a
              id="id-1.11.6.13.7.2"
              class="indexterm"></a><div
              class="para">
					پروتکل PPTP (Point-to-Point Tunneling Protocol) توسط مایکروسافت بوجود آمده است. در زمان رشد فناوری ADSL، به سرعت با PPPOE جایگزین شد. اگر استفاده از این پروتکل برای شما اجباری است، <a
                class="xref"
                href="sect.virtual-private-network.html#sect.pptp">
      قسمت 10.2.4, “PPTP”
    </a> را مشاهده کنید.
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="sect.adsl-dhcp"></a>8.2.4.3. مودم‌هایی که از DHCP پشتیبانی می‌کنند</h4></div></div></div><div
              class="para">
					زمانی که مودم با استفاده از کابل شبکه (crossover) به رایانه متصل می‌شود معمولا با استفاده از DHCP تنظیمات مربوط به شبکه صورت می‌گیرد؛ مودم به صورت خودکار مانند یک gateway عمل کرده و عملیات مسیریابی بسته‌ها را به عهده می‌گیرد (به این معنا که ترافیک بین رایانه و شبکه اینترنت را مدیریت می‌کند).
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>بازگشت به مقدمات</em></span> استفاده از کابل Crossover برای یک ارتباط مستقیم</strong></p></div></div></div><a
                id="id-1.11.6.13.8.3.2"
                class="indexterm"></a><div
                class="para">
					کارت‌های شبکه در هر رایانه انتظار ارسال و دریافت اطلاعات روی سیم‌های مختلفی از کابل شبکه را دارند. زمانی که یک رایانه را به شبکه محلی متصل می‌کنید، معمولا از یک کابل straght یا crossover بین کارت شبکه و repeter یا switch استفاده می‌شود. اگر بخواهید دو رایانه را به صورت مستقیم به یکدیگر متصل کنید (بدون هیچ دستگاه واسطه‌ای) باید سیگنال ارسالی از کارب شبکه یکی را به سیگنال دریافتی از کارت شبکه دیگری هدایت کنید و برعکس. این هدف استفاده از کابل crossover است.
				</div><div
                class="para">
					نکته اینکه این شیوه به مروز زمان و با پیشرفته‌ترشدن کارت‌های شبکه و قابلیت تشخیص آن‌ها بین طیف گسترده‌ای از کابل‌های شبکه، اهمیت اولیه خود را از دست داده است، پس اگر مشاهده کردید هر دو کابل در یک محیط کار می‌کنند، زیاد تعجب نکنید.
				</div></div><div
              class="para">
					اکثر “مسیریاب‌های ADSL” موجود در بازار به این شیوه می‌توانند استفاده شوند دست مانند اکثر مودم‌های ADSL که توسط ارائه‌دهندگان خدمات اینترنت عرضه می‌شوند.
				</div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.roaming-network-config"></a>8.2.5. پیکربندی خودکار شبکه برای کاربران</h3></div></div></div><a
            id="id-1.11.6.14.2"
            class="indexterm"></a><a
            id="id-1.11.6.14.3"
            class="indexterm"></a><div
            class="para">
				بسیاری از مهندسان فالکوت دارای لپ‌تاپی هستند که به دلایل کاری در خانه نیز از آن استفاده می‌کنند. پیکربندی شبکه مورد استفاده بسته به محل استفاده متفاوت است. در خانه، ممکن است یک شبکه وای‌فای (به همراه گذرواژه WPA) باشد در حالی که در محل کار از یک شبکه کابلی با امنیت و پهنای باند بیشتر استفاده می‌شود.
			</div><div
            class="para">
				برای جلوگیری از اتصال و قطع دستی هر یک از رابط‌های شبکه، مدیرسیستم‌ها اقدام به نصب بسته <span
              class="pkg pkg">network-manager</span> روی این لپ‌تاپ‌ها کرده‌اند. این نرم‌افزار به کاربران امکان می‌دهد با استفاده از یک نماد کوچک در نوار بالایی صفحه بین رابط‌های مختلف شبکه سوئیچ کنند. کلیک روی این نماد منجر به نمایش فهرستی از شبکه‌های موجود (کابلی و بیسیم) می‌شود، تا به راحتی بتوانند به آن‌ها متصل شوند. برنامه پیکربندی مربوط به هر رابط شبکه را ذخیره می‌کند تا در صورت بروز مشکل در هر یک، از بهترین شبکه موجود به صورت جایگزین استفاده شود.
			</div><div
            class="para">
				برای این منظور، برنامه به دو قسمت تقسیم شده است: یک فرآیند پس‌زمینه که توسط root فعال‌سای و پیکربندی رابط‌های شبکه را مدیریت و یک رابط کاربری که این فرآیند پس‌زمینه را کنترل می‌کند. PolicyKit احراز هویت مورد نیاز برای کنترل این برنامه را مدیریت کرده و دبیان به صورتی PolicyKit را پیکربندی نموده که اعضای گروه netdev بتوانند اتصالات مربوط به Network Manager را اضافه کنند یا تغییر دهند.
			</div><div
            class="para">
				Network Manager می‌داند که چگونه انواع مختلفی از اتصالات را مدیریت کند (DHCP، پیکربندی دستی، شبکه محلی)، اما تنها در صورتی که این پیکربندی‌ها با برنامه همراه باشند. به همین دلیل است که به صورت پیش‌فرض تمام رابط‌های شبکه موجود در فایل <code
              class="filename">/etc/network/interfaces</code> را نادیده گرفته که برای آن‌ها راهکاری ندارد. از آنجا که Network Manager جزئیاتی درباره عدم وجود اتصالات شبکه نمی‌دهد، راه ساده حذف خطوطی از فایل <code
              class="filename">/etc/network/interfaces</code> است برای تمام رابط‌هایی که باید توسط Network Manager مدیریت شوند.
			</div><div
            class="para">
				نکته اینکه این برنامه به صورت پیش‌فرض نصب می‌شود زمانی که گزینه “Desktop Environment” هنگام نصب اولیه انتخاب شده باشد.
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="basic-configuration.html"><strong>قبلی</strong>
      فصل 8. پیکربندی اولیه: شبکه، حساب‌های کارب...</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>بالا</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>خانه</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.hostname-name-service.html"><strong>بعدی</strong>8.3. تنظیم Hostname و پیکربندی Name Service</a></li></ul></body></html>
