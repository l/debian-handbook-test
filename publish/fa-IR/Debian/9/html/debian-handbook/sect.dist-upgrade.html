<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">6.6. بروزرسانی کلی از یک توزیع پایدار به دیگری</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-fa-IR-1.0-1" /><meta
        name="keywords"
        content="apt, apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="راهنمای جامع دبیان" /><link
        rel="up"
        href="apt.html"
        title="فصل 6. نگهداری و بروزرسانی: ابزار APT" /><link
        rel="prev"
        href="sect.package-authentication.html"
        title="6.5. بررسی صحت بسته‌ها" /><link
        rel="next"
        href="sect.regular-upgrades.html"
        title="6.7. بروز نگهداشتن یک سیستم" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/fa-IR/stable/sect.dist-upgrade.html" /></head><body
      dir="rtl"><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.package-authentication.html"><strong>قبلی</strong></a></li><li
          class="home">راهنمای جامع دبیان</li><li
          class="next"><a
            accesskey="n"
            href="sect.regular-upgrades.html"><strong>بعدی</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.dist-upgrade"></a>6.6. بروزرسانی کلی از یک توزیع پایدار به دیگری</h2></div></div></div><div
          class="para">
			یکی از بهترین ویژگی‌های دبیان قابلیت بروزرسانی کلی آن از یک توزیع پایدار به انتشار بعدی است: <span
            class="foreignphrase"><em
              class="foreignphrase">dist-upgrade</em></span> -- عبارتی با معنا -- اعتبار زیادی را برای این پروژه به ارمغان آورده است. با رعایت برخی پیش‌زمینه‌ها، بروزرسانی یک رایانه تنها چند دقیقه زمان نمی‌برد که آن نیز بسته به سرعت دانلود بسته‌ها از اینترنت متفاوت است.
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.9.15.3"></a>6.6.1. فرآیند توصیه‌شده</h3></div></div></div><div
            class="para">
				از آنجایی که زمان نسبتا زیادی بین دو نسخه پایدار دبیان فاصله می‌افتد، قبل از بروزرسانی کلی باید یادداشت انتشار آن را مطالعه کنید.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>بازگشت به مقدمات</em></span> یادداشت انتشار</strong></p></div></div></div><div
              class="para">
				یادداشت انتشار برای یک سیستم عامل (یا هر نرم‌افزار دیگری) شامل سندی است که در آن به توضیح کلی راجع به نرم‌افزار پرداخته می‌شود، همراه با جزئیاتی که بین نسخه‌های مختلف تفاوت دارند. این اسناد در مقایسه با مستندات رسمی بسیار کوتاه‌تر هستند و معمولا شامل قابلیت‌هایی می‌باشند که از نسخه پیشین به نرم‌افزار افزوده شده است. همچنین در رابطه با فرآیند بروزرسانی، اخطار به کاربران نسخه‌های پیشین و برخی اصلاحات احتمالی نیز جزئیاتی را شامل می‌شوند.
			</div><div
              class="para">
				Release notes are available online: the release notes for the current stable release have a dedicated URL, while older release notes can be found with their codenames: <div
                xmlns=""
                class="url">→ <a
                  xmlns="http://www.w3.org/1999/xhtml"
                  href="http://www.debian.org/releases/stable/releasenotes">http://www.debian.org/releases/stable/releasenotes</a></div> <div
                xmlns=""
                class="url">→ <a
                  xmlns="http://www.w3.org/1999/xhtml"
                  href="http://www.debian.org/releases/jessie/releasenotes">http://www.debian.org/releases/jessie/releasenotes</a></div>
			</div></div><div
            class="para">
				In this section, we will focus on upgrading a <span
              class="distribution distribution">Jessie</span> system to <span
              class="distribution distribution">Stretch</span>. This is a major operation on a system; as such, it is never 100% risk-free, and should not be attempted before all important data has been backed up.
			</div><div
            class="para">
				عادت خوبی که هنگام بروزرسانی کلی باعث آسان‌تر شدن (و کوتاه‌تر شدن) آن می‌گردد محدود کردن بسته‌های مورد نیاز به حداقل تعداد ممکن است. ابزار کاربردی که به این امر کمک می‌کنند عبارتند از <code
              class="command">aptitude</code>، <code
              class="command">deborphan</code> و <code
              class="command">debfoster</code> (<a
              class="xref"
              href="sect.apt-get.html#sect.automatic-tracking">
      قسمت 6.2.7, “ردیابی خودکار بسته‌های نصب شده”
    </a> را مشاهده کنید). برای نمونه، می‌توانید از دستور زیر استفاده کرده سپس در حالت تعاملی <code
              class="command">aptitude</code> زمان‌بندی حذف بسته‌ها را مدیریت کنید:
			</div><pre
            class="screen"># <strong
              class="userinput"><code>deborphan | xargs aptitude --schedule-only remove</code></strong></pre><div
            class="para">
				Now for the upgrading itself. First, you need to change the <code
              class="filename">/etc/apt/sources.list</code> file to tell APT to get its packages from <span
              class="distribution distribution">Stretch</span> instead of <span
              class="distribution distribution">Jessie</span>. If the file only contains references to <span
              class="distribution distribution">Stable</span> rather than explicit codenames, the change isn't even required, since <span
              class="distribution distribution">Stable</span> always refers to the latest released version of Debian. In both cases, the database of available packages must be refreshed (with the <code
              class="command">apt update</code> command or the refresh button in <code
              class="command">synaptic</code>).
			</div><div
            class="para">
				زمانی که این منابع بسته‌ها ثبت شدند، ابتدا باید یک بروزرسانی جزئی با استفاده از <code
              class="command">apt upgrade</code> انجام دهید. با انجام فرآیند بروزسانی کلی در دو مرحله، کار ابزار مدیریت بسته را راحت‌تر می‌سازیم تا تمام بسته‌ها به آخرین نسخه پایدار خود بروزرسانی گردیده و از بهینه‌سازی‌های لازم بهره‌مند گردند.
			</div><div
            class="para">
				Once this first upgrade is done, it is time to handle the upgrade itself, either with <code
              class="command">apt full-upgrade</code>, <code
              class="command">aptitude</code>, or <code
              class="command">synaptic</code>. You should carefully check the suggested actions before applying them: you might want to add suggested packages or deselect packages which are only recommended and known not to be useful. In any case, the front-end should come up with a scenario ending in a coherent and up-to-date <span
              class="distribution distribution">Stretch</span> system. Then, all you need is to do is wait while the required packages are downloaded, answer the Debconf questions and possibly those about locally modified configuration files, and sit back while APT does its magic.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.9.15.4"></a>6.6.2. بررسی مشکلات پس از بروزرسانی کلی</h3></div></div></div><div
            class="para">
				با تمام تلاش‌های صورت گرفته، یک بروزرسانی کلی ممکن است همیشه خوب پیش نرود. نسخه‌های جدید نرم‌افزار ممکن است با نسخه‌های پیشین ناسازگار باشند (برای نمونه، رفتار پیش‌فرض آن‌ها یا قالب داده‌یشان ممکن است تغییر کند). برخی باگ‌ها ممکن است از دید فرآیند تست که همیشه قبل از انتشار دبیان صورت می‌گیرد، مخفی مانده باشند.
			</div><div
            class="para">
				برای پیش‌بینی این مشکلات، می‌توانید بسته <span
              class="pkg pkg">apt-listchanges</span> را نصب کنید که احتمال بروز مشکلات در ابتدای فرآیند بروزرسانی کلی را بررسی می‌کند. این اطلاعات توسط نگهدارنده‌های بسته کامپایل شده و در فایل <code
              class="filename">/usr/share/doc/<em
                class="replaceable">package</em>/NEWS.Debian</code> قرار می‌گیرند که کاربران از آن‌ها استفاده کنند. مطالعه این فایل‌ها (احتمالا از طریق <span
              class="pkg pkg">apt-listchanges</span>) شما را از غافلگیری‌های بد دور می‌کند.
			</div><div
            class="para">
				گاهی اوقات ممکن است دریابید که نسخه جدید نرم‌افزار درست کار نکند. این امر ممکن است با توجه به عدم محبوبیت نرم‌افزار و تست نشدن کافی آن صورت گرفته باشد؛ یک بروزرسانی لحظه آخر می‌تواند منجر به پسرفت گردد که تنها در آخرین نسخه پایدار مشاهده می‌شود. در هر دو مورد، اولین کاری که می‌توان انجام داد بررسی سیستم ردگیری باگ در <code
              class="literal">https://bugs.debian.org/<em
                class="replaceable">package</em></code> است و اینکه آیا مشکل تا حالا گزارش شده است. اگر نشده بود، باید با استفاده از <code
              class="command">reportbug</code> آن را گزاش کنید. اگر گزارش شده باشد، گزارش باگ و پیام‌های مرتبط با آن یک منبع فوق‌العاده برای حل مشکل هستند.
			</div><div
            xmlns:d="http://docbook.org/ns/docbook"
            class="itemizedlist"><ul><li
                class="listitem"><div
                  class="para">
						گاهی اوقات یک patch در گزارش باگ موجود است؛ آنگاه می‌توانید بسته مشکل‌دار را کامپایل مجدد کنید (<a
                    class="xref"
                    href="debian-packaging.html#sect.rebuilding-package">
      قسمت 15.1, “Rebuilding a Package from its Sources”
    </a> را مشاهده کنید)؛
					</div></li><li
                class="listitem"><div
                  class="para">
						در سایر موارد، کاربران راه حل‌های خود را برای مشکل پیدا می‌کنند و در گزارش باگ مربوطه قرار می‌دهند؛
					</div></li><li
                class="listitem"><div
                  class="para">
						در موردی دیگر، یک بسته اصلاح‌شده ممکن است توسط نگهدارنده اصلی آن آماده شده باشد.
					</div></li></ul></div><div
            class="para">
				با توجه به شدت باگ، نسخه جدیدی از بسته ممکن است برای نسخه جدیدی از توزیع پایدار آماده شده باشد. زمانی که این اتفاق می‌افتد، بسته اصلاح‌شده در قسمت <code
              class="literal">proposed-updates</code> سرورهای دبیان قرار می‌گیرد (<a
              class="xref"
              href="apt.html#sect.proposed-updates">
      قسمت 6.1.2.3, “بروزرسانی‌های پیشنهادی”
    </a> را مشاهده کنید). خطوط مورد نظر می‌توانند به صورت موقت به فایل <code
              class="filename">sources.list</code> اضافه گردند و بسته‌های بروزرسانی شده می‌توانند با استفاده از <code
              class="command">apt</code> یا <code
              class="command">aptitude</code> نصب گردند.
			</div><div
            class="para">
				گاهی اوقات بسته اصلاح شده ممکن است در این قسمت قرار نگیرد چرا که در انتظار تاییدیه از مدیران انتشار پایدار است. اگر چنین باشد می‌توانید از طریق وبسایت آن آگاه شوید. بسته‌هایی که در آنجا فهرست شده‌اند موجود نیستند، اما حداقل می‌دانید که بزودی در این قسمت قرار می‌گیرند. <div
              xmlns=""
              class="url">→ <a
                xmlns="http://www.w3.org/1999/xhtml"
                href="https://release.debian.org/proposed-updates/stable.html">https://release.debian.org/proposed-updates/stable.html</a></div>
			</div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.package-authentication.html"><strong>قبلی</strong>6.5. بررسی صحت بسته‌ها</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>بالا</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>خانه</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.regular-upgrades.html"><strong>بعدی</strong>6.7. بروز نگهداشتن یک سیستم</a></li></ul></body></html>
