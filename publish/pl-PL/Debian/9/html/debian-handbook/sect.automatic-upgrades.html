<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">6.8. Automatyczne Uaktualnienia</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-pl-PL-1.0-1" /><meta
        name="keywords"
        content="apt, apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="Podręcznik Administratora Debiana" /><link
        rel="up"
        href="apt.html"
        title="Rozdział 6. Konserwacja i aktualizacje: Narzędzia APT" /><link
        rel="prev"
        href="sect.regular-upgrades.html"
        title="6.7. Utrzymywanie Aktualności Systemu" /><link
        rel="next"
        href="sect.searching-packages.html"
        title="6.9. Wyszukiwanie Pakietów" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/pl-PL/stable/sect.automatic-upgrades.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.regular-upgrades.html"><strong>Poprzedni</strong></a></li><li
          class="home">Podręcznik Administratora Debiana</li><li
          class="next"><a
            accesskey="n"
            href="sect.searching-packages.html"><strong>Następny</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.automatic-upgrades"></a>6.8. Automatyczne Uaktualnienia</h2></div></div></div><a
          id="id-1.9.17.2"
          class="indexterm"></a><a
          id="id-1.9.17.3"
          class="indexterm"></a><div
          class="para">
			W związku z tym, że Falcot Corp posiada wiele komputerów, ale ograniczoną siłę roboczą, jego administratorzy starają się jak najbardziej zautomatyzować proces uaktualniania. Dlatego programy zarządzające tym procesem powinny działać bez interwencji człowieka.
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.9.17.5"></a>6.8.1. Konfigurowanie <code
                    class="command">dpkg</code></h3></div></div></div><div
            class="para">
				Jak już zostało wspomniane (spójrz na fiszkę <a
              class="xref"
              href="sect.package-meta-information.html#sidebar.questions-conffiles"><span
                class="emphasis"><em>IDĄC DALEJ</em></span> Unikanie pytań o pliki konfiguracyjne</a>), <code
              class="command">dpkg</code> może zostać poinstruowany, aby pytać o potwierdzenie w przypadku zastępowania plików konfiguracyjnych (z opcjami <code
              class="literal">--force-confdef --force-confold</code>). Jednakże interakcje mogą mieć trzy inne źródła: jedne pochodzą z samego APTa, inne są obsługiwane przez <code
              class="command">debconf</code>, a niektóre występują w linii komend w powiązaniu do skryptów konfiguracyjnych pakietu.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.9.17.6"></a>6.8.2. Konfigurowanie APTa</h3></div></div></div><div
            class="para">
				W przypadku APTa sprawa jest prosta: opcja <code
              class="literal">-y</code> (lub <code
              class="literal">--assume-yes</code>) mówi programowi, aby na wszystkie odpowiedzi odpowiadał "tak".
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.9.17.7"></a>6.8.3. Konfigurowanie <code
                    class="command">debconf</code></h3></div></div></div><div
            class="para">
				Omówienie przypadku <code
              class="command">debconf</code> zasługuje na więcej uwagi. Od początku istnienia tego programu, był on projektowany do kontroli trafności i ilości pytań wyświetlanych użytkownikowi oraz sposobu w jaki są pokazywane. Z tego powodu jego konfiguracja wymaga nadania minimalnego priorytetu dla pytań; tylko pytania powyżej minimalnego priorytetu są wyświetlane. <code
              class="command">debconf</code> zakłada domyślną odpowiedź (zdefiniowaną przez opiekuna pakietu) dla pytań, które zdecydował pominąć.
			</div><div
            class="para">
				Kolejnym znaczącym elementem konfiguracji jest sposób komunikacji używany przez interfejs. Jeżeli zostanie wybrany <code
              class="literal">noninteractive</code>, to wszystkie interakcje z użytkownikiem zostaną wyłączone. W przypadku, gdy pakiet będzie próbował wyświetlić informację, zostanie ona wysłana do administratora w wiadomości e-mail.
			</div><div
            class="para">
				W celu zmiany konfiguracji <code
              class="command">debconf</code> należy użyć narzędzia <code
              class="command">dpkg-reconfigure</code> z pakietu <span
              class="pkg pkg">debconf</span>; omawianą komendą jest <code
              class="command">dpkg-reconfigure debconf</code>. Warto zauważyć, że w razie potrzeby wartości konfiguracyjne mogą być tymczasowo nadpisane zmiennymi środowiskowymi (przykładowo <code
              class="varname">DEBIAN_FRONTEND</code> kontroluje interfejs, co zostało opisane na stronach pomocy <span
              class="citerefentry"><span
                class="refentrytitle">debconf</span>(7)</span>).
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.9.17.8"></a>6.8.4. Obsługa Interakcji Linii Komend</h3></div></div></div><div
            class="para">
				Ostatnim źródłem interakcji, najtrudniejszym do ominięcia, są skrypty konfiguracyjne uruchamiane przez <code
              class="command">dpkg</code>. Niestety nie mają one standardowego rozwiązania, a żadna odpowiedź nie jest znacząco lepsza niż inne.
			</div><div
            class="para">
				The common approach is to suppress the standard input by redirecting the empty content of <code
              class="filename">/dev/null</code> into it with <code
              class="command"><em
                class="replaceable">command</em> &lt;/dev/null</code>, or to feed it with an endless stream of newlines. None of these methods is 100 % reliable, but they generally lead to the default answers being used, since most scripts consider a lack of reply as an acceptance of the default value.
			</div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.9.17.9"></a>6.8.5. Cudowne Połączenie</h3></div></div></div><div
            class="para">
				Poprzez połączenie wcześniej wspomnianych elementów możliwe jest zaprojektowanie małego, dosyć niezawodnego skryptu do wykonywania automatycznych uaktualnień.
			</div><div
            class="example"><a
              xmlns=""
              id="example.non-interactive-upgrade"></a><p
              class="title"><strong>Przykład 6.4. Skrypt uaktualniający bez interakcji</strong></p><div
              class="example-contents"><pre
                class="programlisting">export DEBIAN_FRONTEND=noninteractive
yes '' | apt-get -y -o DPkg::options::="--force-confdef" -o DPkg::options::="--force-confold" dist-upgrade
</pre></div></div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>W PRAKTYCE</em></span> Przypadek Falcot Corp</strong></p></div></div></div><div
              class="para">
				Komputery w Falcot składają się na zróżnicowany system, zawierający maszyny przeznaczone do różnych zadań. Z tego powodu dla każdego komputera administratorzy muszą wybrać najbardziej odpowiednie rozwiązanie.
			</div><div
              class="para">
				In practice, the servers running <span
                class="distribution distribution">Stretch</span> are configured with the “miracle combination” above, and are kept up to date automatically. Only the most critical servers (the firewalls, for instances) are set up with <code
                class="command">apticron</code>, so that upgrades always happen under the supervision of an administrator.
			</div><div
              class="para">
				The office workstations in the administrative services also run <span
                class="distribution distribution">Stretch</span>, but they are equipped with <span
                class="pkg pkg">gnome-packagekit</span>, so that users trigger the upgrades themselves. The rationale for this decision is that if upgrades happen without an explicit action, the behavior of the computer might change unexpectedly, which could cause confusion for the main users.
			</div><div
              class="para">
				W laboratorium, kilka komputerów używających <span
                class="distribution distribution">Testowego</span> — w celu wykorzystania najnowszych wersji oprogramowania — również nie jest uaktualnianych automatycznie. Administratorzy jedynie konfigurują APTa do przygotowania uaktualnienia, ale bez instalacji; kiedy już zdecydują o uaktualnieniu (ręcznym), uciążliwa część odświeżania list pakietów i pobierania pakietów zostanie pominięta, a administratorzy mogą w pełni skupić się na produktywnym działaniu.
			</div></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.regular-upgrades.html"><strong>Poprzedni</strong>6.7. Utrzymywanie Aktualności Systemu</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Początek rozdziału</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Spis treści</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.searching-packages.html"><strong>Następny</strong>6.9. Wyszukiwanie Pakietów</a></li></ul></body></html>
