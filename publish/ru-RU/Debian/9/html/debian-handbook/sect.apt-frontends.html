<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
    xmlns="http://www.w3.org/1999/xhtml"><head><meta
        http-equiv="Content-Type"
        content="text/html; charset=UTF-8" /><title
        xmlns:d="http://docbook.org/ns/docbook">6.4. Графические оболочки: aptitude, synaptic</title><link
        rel="stylesheet"
        type="text/css"
        href="Common_Content/css/default.css" /><link
        rel="stylesheet"
        media="print"
        href="Common_Content/css/print.css"
        type="text/css" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="generator"
        content="publican v4.3.2" /><meta
        xmlns:d="http://docbook.org/ns/docbook"
        name="package"
        content="Debian-debian-handbook-9-ru-RU-1.0-1" /><meta
        name="keywords"
        content="apt, apt-get, apt-cache, aptitude, synaptic, sources.list, apt-cdrom" /><link
        rel="home"
        href="index.html"
        title="Настольная книга администратора Debian" /><link
        rel="up"
        href="apt.html"
        title="Глава 6. Обслуживание и обновление: инструменты APT" /><link
        rel="prev"
        href="sect.apt-cache.html"
        title="6.3. Команда apt-cache" /><link
        rel="next"
        href="sect.package-authentication.html"
        title="6.5. Проверка подлинности пакета" /><meta
        xmlns=""
        name="flattr:id"
        content="4pz9jq" /><link
        xmlns=""
        rel="canonical"
        href="https://debian-handbook.info/browse/ru-RU/stable/sect.apt-frontends.html" /></head><body><div
        id="banner"><a
          href="http://debian-handbook.info/get/"><span
            class="text">Download the ebook</span></a></div><p
        id="title"><a
          class="left"
          href="http://www.debian.org"><img
            alt="Product Site"
            src="Common_Content/images//image_left.png" /></a><a
          class="right"
          href="index.html"><img
            alt="Documentation Site"
            src="Common_Content/images//image_right.png" /></a></p><ul
        class="docnav top"><li
          class="previous"><a
            accesskey="p"
            href="sect.apt-cache.html"><strong>Пред.</strong></a></li><li
          class="home">Настольная книга администратора Debian</li><li
          class="next"><a
            accesskey="n"
            href="sect.package-authentication.html"><strong>След.</strong></a></li></ul><div
        class="section"><div
          class="titlepage"><div><div><h2
                class="title"><a
                  xmlns=""
                  id="sect.apt-frontends"></a>6.4. Графические оболочки: <code
                  class="command">aptitude</code>, <code
                  class="command">synaptic</code></h2></div></div></div><a
          id="id-1.9.13.2"
          class="indexterm"></a><a
          id="id-1.9.13.3"
          class="indexterm"></a><a
          id="id-1.9.13.4"
          class="indexterm"></a><div
          class="para">
			APT это программа, написанная на C++, исходные коды которой расположены главным образом в разделяемой (общей) библиотеке <code
            class="command">libapt-pkg</code>. Использование разделяемой библиотеки облегчается создание пользовательского интерфейса (front-ends), притом коды, содержащиеся в библиотеке, можно быстро использовать повторно. Исторически, <code
            class="command">apt-get</code> была создана первоначально для тестирования пользовательского интерфейса для <code
            class="command">libapt-pkg</code>. Однако успех ее использования превзошел ожидаемый результат и этим затеняется тот факт, что цель для которой была создана программа - другая.
		</div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="sect.aptitude"></a>6.4.1. программа <code
                    class="command">aptitude</code></h3></div></div></div><div
            class="para">
				<code
              class="command">aptitude</code> - это интерактивная программа, она также может быть использована в псевдо-графической моде а консоле. Вы можете посмотреть перечень установленных и доступных пакетов, прочитать всю доступную о них информацию, и выбрать пакеты для установки или удаления. Программа была создана специально - для использования администраторами. Поведение этой программы по умолчанию намного более понятливо чем <code
              class="command">apt-get</code>'s, а пользовательский интерфейс - проще к пониманию.
			</div><div
            class="figure"><a
              xmlns=""
              id="id-1.9.13.6.3"></a><div
              class="figure-contents"><div
                class="mediaobject"><img
                  src="images/aptitude.png"
                  alt="The aptitude менеджер пакетов" /></div></div><p
              class="title"><strong>Рисунок 6.1. The <code
                  class="command">aptitude</code> менеджер пакетов</strong></p></div><div
            class="para">
				When it starts, <code
              class="command">aptitude</code> shows a list of packages sorted by state (installed, non-installed, or installed but not available on the mirrors — other sections display tasks, virtual packages, and new packages that appeared recently on mirrors). To facilitate thematic browsing, other views are available. In all cases, <code
              class="command">aptitude</code> displays a list combining categories and packages on the screen. Categories are organized through a tree structure, whose branches can respectively be unfolded or closed with the <span
              class="keycap"><strong>Enter</strong></span>, <span
              class="keycap"><strong>[</strong></span> and <span
              class="keycap"><strong>]</strong></span> keys. <span
              class="keycap"><strong>+</strong></span> should be used to mark a package for installation, <span
              class="keycap"><strong>-</strong></span> to mark it for removal and <span
              class="keycap"><strong>_</strong></span> to purge it (note that these keys can also be used for categories, in which case the corresponding actions will be applied to all the packages of the category). <span
              class="keycap"><strong>u</strong></span> updates the lists of available packages and <span
              class="keycap"><strong>Shift</strong></span>+<span
              class="keycap"><strong>u</strong></span> prepares a global system upgrade. <span
              class="keycap"><strong>g</strong></span> switches to a summary view of the requested changes (and typing <span
              class="keycap"><strong>g</strong></span> again will apply the changes), and <span
              class="keycap"><strong>q</strong></span> quits the current view. If you are in the initial view, this will effectively close <code
              class="command">aptitude</code>.
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>ДОКУМЕНТАЦИЯ</em></span> <code
                        class="command">aptitude</code></strong></p></div></div></div><div
              class="para">
				Эта секция не описывает детальное использование программы <code
                class="command">aptitude</code>, она скорее сфокусирована на том, чтобы дать вам средства первой необходимости при ее использовании. <code
                class="command">aptitude</code> достаточно хорошо документирована и мы советуем вам использовать этот комплект руководства доступный в пакете <span
                class="pkg pkg">aptitude-doc-en</span> (смотри <code
                class="filename">/usr/share/doc/aptitude/html/en/index.html</code>).
			</div></div><div
            class="para">
				Для поиска пакета нажмите <span
              class="keycap"><strong>/</strong></span> и, в открывшемся окошке, введите пример (шаблон). Этот шаблон программа будет искать в именах пакетов. Можно также искать в других секциях пакета. Для этого в окошке для поиска надо ввести вначале дополнительное сочетание клавиш, а потом само слово для поиска: <code
              class="literal">~d</code> - для поиска в описании пакета <code
              class="literal">~s</code> - для поиска в разделе. Есть и другие характеристики, которые подробно описаны в документации. Похожие шаблоны могут фильтровать перечень показываемых пакетов. Для этого нажмите клавишу <span
              class="keycap"><strong>l</strong></span> и далее введите имя шаблона (как в <span
              class="foreignphrase"><em
                class="foreignphrase">limit</em></span>). Будут видны только пакеты, в названии которых упоминается шаблон.
			</div><div
            class="para">
				Управление "автоматическим флагом" (“automatic flag”) в пакетах Debian-а (смотри <a
              class="xref"
              href="sect.apt-get.html#sect.automatic-tracking">Раздел 6.2.7, «Трассирование автоматически устнавливаемых пакетов (наблюдение)»</a>) легче с <code
              class="command">aptitude</code>. Можно при просмотре списка установленных пакетов пометить пакет с "автоматическим флагом" (“automatic flag”) - комбинацией клавиш <span
              class="keycap"><strong>Shift</strong></span>+<span
              class="keycap"><strong>m</strong></span>. Удалить эти пометки - с клавишей <span
              class="keycap"><strong>m</strong></span>. Пакеты, с установленным "автоматическим флагом" (“Automatic packages”) показаны с отметкой “A” слева на экране напротив имени пакета. А эта функция предлагает простой путь отчетливо представить себе перечень пакетов, использованных на вашем компьютере, чтобы вы действительно не беспокоились о библиотеках и зависимостях. Соответствующий шаблон может быть использован с <span
              class="keycap"><strong>l</strong></span> (чтобы активировать режим фильтрации) и <code
              class="literal">~i!~M</code>. А эта функция позволит вам посмотреть установленные пакеты (<code
              class="literal">~i</code>), а те что не промаркированы как автоматически поставленные смотрим так (<code
              class="literal">!~M</code>).
			</div><div
            class="sidebar"><div
              class="titlepage"><div><div><p
                    class="title"><strong><span
                        class="emphasis"><em>ИНСТРУМЕНТ</em></span> использующий <code
                        class="command">aptitude</code> в интерфейсе командной строки терминала</strong></p></div></div></div><div
              class="para">
				Большинство возможностей команды <code
                class="command">aptitude</code> доступны через интерактивный интерфейс в консоле (общение с программой через команды-строки в консоле). Такой способ общения с программой хорошо знаком постоянным пользователя программ <code
                class="command">apt-get</code> и <code
                class="command">apt-cache</code>.
			</div><div
              class="para">
				Расширенные возможности программы <code
                class="command">aptitude</code> также доступны в режиме команды-строки. Вы можете использовать похожие шаблоны поиска как в интерактивной версии. Для примера, если вы хотите почистить лист пакетов "вручную установленных", и если вы знаете, что нет локально установленных программ, нуждающихся в любой специфичной библиотеки модулей Perl, вы можете промаркировать соответствующие пакеты как автоматические с одиночной командой:
			</div><pre
              class="screen"><code
                class="computeroutput"># </code><strong
                class="userinput"><code>aptitude markauto '~slibs|~sperl'</code></strong></pre><div
              class="para">
				Здесь, вы можете отчетливо увидеть мощность шаблонных поисков программы <code
                class="command">aptitude</code>, которая дает возможность мгновенно выбрать все пакеты в <code
                class="literal">libs</code> и <code
                class="literal">perl</code> секциях (разделах).
			</div><div
              class="para">
				Остерегайтесь - при маркировании некоторых пакетов как "автоматически установленных" и если нет других пакетов, зависящих от них - эти пакеты будут удалены немедленно (после запроса на подтверждение).
			</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.9.13.6.9"></a>6.4.1.1. Управление Рекомендациями, Предложениями и Задачами</h4></div></div></div><div
              class="para">
					Another interesting feature of <code
                class="command">aptitude</code> is the fact that it respects recommendations between packages while still giving users the choice not to install them on a case by case basis. For example, the <span
                class="pkg pkg">gnome</span> package recommends <span
                class="pkg pkg">brasero</span> (among others). When you select the former for installation, the latter will also be selected (and marked as automatic if not already installed on the system). Typing <span
                class="keycap"><strong>g</strong></span> will make it obvious: <span
                class="pkg pkg">brasero</span> appears on the summary screen of pending actions in the list of packages installed automatically to satisfy dependencies. However, you can decide not to install it by deselecting it before confirming the operations.
				</div><div
              class="para">
					Запомни, что эта рекомендованная трассирующая (отслеживающая) возможность не применяется к обновлениям (upgrade). Для примера, если новая версия <span
                class="pkg pkg">gnome</span> рекомендует пакет, что ранее не рекомендовала, пакет не будет отмечен к установке. Однако это будет показано на предварительном просмотре на экране при обновлении и администратор сможет сам отметить данный пакет к установке (если в нем есть необходимость).
				</div><div
              class="para">
					Suggestions between packages are also taken into account, but in a manner adapted to their specific status. For example, since <span
                class="pkg pkg">gnome</span> suggests <span
                class="pkg pkg">empathy</span>, the latter will be displayed on the summary screen of pending actions (in the section of packages suggested by other packages). This way, it is visible and the administrator can decide whether to take the suggestion into account or not. Since it is only a suggestion and not a dependency or a recommendation, the package will not be selected automatically — its selection requires a manual intervention from the user (thus, the package will not be marked as automatic).
				</div><div
              class="para">
					В том же духе, вспомните <code
                class="command">aptitude</code> делает умное использование общего представления задачи. Как только задача отображается как категории на экране в перечне пакетов, ты можешь выбрать из двух вариантов: согласиться на полный вариант предложенного для установки или удаления, или просмотреть перечень пакетов, включенных в задачу, чтобы выбрать более мелкие под-задачи (и откорректировать при необходимости. Например отказаться от рекомендованных и предложенных пакетов).
				</div></div><div
            class="section"><div
              class="titlepage"><div><div><h4
                    class="title"><a
                      xmlns=""
                      id="id-1.9.13.6.10"></a>6.4.1.2. Улучшенные алгоритмы решения</h4></div></div></div><div
              class="para">
					Завершая этот раздел, хотелось бы напомнить, что программа <code
                class="command">aptitude</code> имеет более продуманные алгоритмы в сравнении с <code
                class="command">apt-get</code> в случаях, когда приходится разрешать затруднительные ситуации. После определения пользователем что он хочет установить или удалить (отметил соответствующим образом в программе нужные пакеты) программа просчитывает возможные комбинации. В частности - может ли данные действия привести к разбалансировке системы. <code
                class="command">aptitude</code> вычисляет несколько возможных сценариев и представляет их в порядке уменьшения рекомендуемого ею (релевантности). Однако те алгоритмы не являются безотказными. К счастью в таких случаях всегда есть возможность вручную выбрать желаемое действие. Когда выбранные действия приведут к противоречиям, верхняя часть экрана покажет количество обрываемых (“broken”) пакетов (и вы можете непосредственно перейти к тем пакетам через нажатие клавишы <span
                class="keycap"><strong>b</strong></span>). Затем можно вручную откорректировать нужный пакет (согласиться на установку, отменить ее или другое). В частности, вы можете получить доступ к различным доступным версиям пакетов просто выбрав нужный пакет нажатием клавиши <span
                class="keycap"><strong>Enter</strong></span>. Если, из предложенного, вы выбрали какой-то вариант и он решает возникшую проблему, то программа напишет - что препятствия устранены. Не стесняйтесь использовать данную функцию. Когда количество оборванных пакетов понизится до 0, вы можете без опаски перейти к предварительному просмотру на экране суммарной информации предлагаемых (отложенных) программой действий для последней проверки, прежде чем применять их.
				</div><div
              class="sidebar"><div
                class="titlepage"><div><div><p
                      class="title"><strong><span
                          class="emphasis"><em>ЗАМЕТКА</em></span> Журнал программы <code
                          class="command">aptitude</code></strong></p></div></div></div><div
                class="para">
					Подобно <code
                  class="command">dpkg</code>, программа <code
                  class="command">aptitude</code> сохраняет историю всех выполненных действий в своем журнале (<code
                  class="filename">/var/log/aptitude</code>). Однако, эти две программы работают на разных уровнях, вы не сможете найти похожую информацию в соответствующим им журналах. Программа <code
                  class="command">dpkg</code> журналирует все операции, выполненные с отдельными пакетами шаг за шагом. А программа <code
                  class="command">aptitude</code> дает более широкий обзор высокоуровневых операций, подобных общесистемному обновлению.
				</div><div
                class="para">
					Будьте внимательны (осторожнее), только этот журнал содержит суммарно операции выполненные программой <code
                  class="command">aptitude</code>. Иногда используются другие графические программы (или даже используют <code
                  class="command">dpkg</code>) для просмотра журналов. В этом случае журнал программы <code
                  class="command">aptitude</code> будет отражать частично перечень выполненных действий. Таким образом вы не можете полагаться на него для целей построения достоверной истории обновления-изменения вашей системы.
				</div></div></div></div><div
          class="section"><div
            class="titlepage"><div><div><h3
                  class="title"><a
                    xmlns=""
                    id="id-1.9.13.7"></a>6.4.2. Программа <code
                    class="command">synaptic</code></h3></div></div></div><div
            class="para">
				Программа <code
              class="command">synaptic</code> - это графический менеджер для Debian-а, который имеет опрятный и эффективный графический интерфейс базирующийся на GTK+/GNOME. Он имеет много готовых к использованию фильтров. Они дают возможность быстро получить доступ к новым годным пакетам, установленным пакетам, обновляемым пакетам, устарелым пакетам и так далее. При просмотре перечня пакетов вы можете выбрать операции, которые будут сделаны с пакетами (установка, обновление, удаленые, полная очистка вместе с удалением). Эти выбранные операции не будут выполнены немедленно, а только поставлены в перечень планирумых задач (отложенные действия). Одиночное нажатие клавиши мыши запустит процесс выполнения заданного (планируемого). При этом программа сначала проверит правильность операции (имеется в виду нет ли конфликтов с другими пакетами, имеются ли неудовлетворенные зависимости, имеются ли рекомендованные и предлагаемые пакеты и так далее) и затем выполнит их на одном дыхании.
			</div><div
            class="figure"><a
              xmlns=""
              id="id-1.9.13.7.3"></a><div
              class="figure-contents"><div
                class="mediaobject"><img
                  src="images/synaptic.png"
                  alt="synaptic менеджер пакетов" /></div></div><p
              class="title"><strong>Рисунок 6.2. <code
                  class="command">synaptic</code> менеджер пакетов</strong></p></div></div></div><ul
        class="docnav"><li
          class="previous"><a
            accesskey="p"
            href="sect.apt-cache.html"><strong>Пред.</strong>6.3. Команда apt-cache</a></li><li
          class="up"><a
            accesskey="u"
            href="#"><strong>Наверх</strong></a></li><li
          class="home"><a
            accesskey="h"
            href="index.html"><strong>Начало</strong></a></li><li
          class="next"><a
            accesskey="n"
            href="sect.package-authentication.html"><strong>След.</strong>6.5. Проверка подлинности пакета</a></li></ul></body></html>
